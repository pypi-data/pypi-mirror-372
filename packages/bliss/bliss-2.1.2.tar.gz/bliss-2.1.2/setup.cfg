[metadata]
name = bliss
version = 2.1.2
author = BCU (ESRF)
maintainer = bliss developers
maintainer_email = bliss@esrf.fr
description = BeamLine Instrumentation Support Software
long_description = file: README.md
long_description_content_type = text/markdown
license = LGPLv3
url = https://gitlab.esrf.fr/bliss/bliss
project_urls = 
	Documentation = https://bliss.gitlab-pages.esrf.fr/bliss/master
	Source = https://gitlab.esrf.fr/bliss/bliss
	Tracker = https://gitlab.esrf.fr/bliss/bliss/issues
classifiers = 
	Intended Audience :: Science/Research
	License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)
	Programming Language :: Python :: 3

[options]
packages = find:
python_requires = >=3.9
scripts = 
	bliss/shell/main/bliss_get_term_bgcolor.sh
install_requires = 
	blissdata >=1.1.3, <1.2  # pin up to the minor version to allow bug fixes
	blisswriter >=1.0.0, <1.1  # pin up to the minor version to allow bug fixes
	querypool <1.1
	appdirs <1.5
	beartype <0.19
	cerberus <1.4
	cffi <1.17
	docopt <0.7
	fabio >=0.12,<2024.5
	flask >=2.0.1,<3.1
	gevent >=20.9.0,<23.10
	glom <23.6
	greenlet >=0.4.17,<3.1
	h5py >=2.9,!=3.3,!=3.4,<3.12  # blacklist versions with corrupt deployment
	hdf5plugin <4.5
	hiredis <2.4
	lima2-client ~=1.0
	louie ~=2.0.0
	matplotlib >=3.8, <3.9
	mendeleev <0.16.0
	mock <5.2
	msgpack <1.1
	msgpack-numpy >=0.4.4.2,<0.4.9
	networkx >2.4,<3.3
	numexpr <2.11
	numpy >=1.13, <2
	packaging <24.2
	pandas <2.3
	pillow <10.5
	pint <0.25
	psutil <6.1
	ptpython >=3.0.23, <3.0.24
	prompt-toolkit >= 3.0.50, <3.1.0
	pygments <2.19
	pyicat-plus >=0.3.0,<0.4
	pymca >=5.8.1,<5.10
	pyqt5 >=5.12
	pyserial >2,<3.6
	redis >=4, <5.0.1 # https://gitlab.esrf.fr/bliss/bliss/-/merge_requests/5686, need refactoring settings cache
	requests <2.33
	ruamel.yaml <0.19
	scipy >=1.1.0,<1.14
	silx ==2.1.2
	simple-pid <2.1
	sortedcontainers <2.5
	tabulate <0.10
	tblib >=1.7,<3.1
	treelib <=1.5.5
	typing_extensions <4.13
	xcalibu == 1.0.1
	yappi <1.7

[options.package_data]
bliss.controllers.regulation.temperature.eurotherm = *.txt
bliss.config.redis = *.conf
bliss.config.plugins = *.html
bliss.config.conductor.web.configuration = static/**, templates/**
bliss.config.conductor.web.homepage = static/**, templates/**
bliss.config = tmux.conf
bliss.flint.resources = 
	logo/*.png
	logo/*.svg
	icons/*.png
	icons/*.svg
	icons/*.mng
	icons/*.gif
	icons/*/*.png
	gui/*.ui
bliss.shell.qtapp.resources = logo/*.svg, ui/*.ui
bliss.controllers.speedgoat = *.bat, *.dll, *.h
bliss.tango.servers = *.xmi, ct2_ds/*.xmi

[options.entry_points]
console_scripts = 
	bliss = bliss.shell.main.step1:main
	bliss-emulator = bliss.controllers.emulator:main
	beacon-server = bliss.config.conductor.server:main
	beacon-server-list = bliss.config.beacon_server_list:main
	BlissBrother = bliss.tango.servers.bliss_brother_ds:main
	bliss-ct2-server = bliss.controllers.ct2.server:main
	bliss-flex-server = bliss.controllers.correlator.flex.server:main
	bliss-handel-server = bliss.controllers.mca.handel.server:main
	bliss-speedgoat-server = bliss.controllers.speedgoat.server:main
	bliss-service = bliss.comm.service:main
	flint = bliss.flint.flint:main
	CT2 = bliss.tango.servers.ct2_ds:main
	BlissAxisManager =  bliss.tango.servers.axis_ds:main
	BlissTempManager = bliss.tango.servers.temp_ds:main
	Musst = bliss.tango.servers.musst_ds:main
	FuelCell = bliss.tango.servers.fuelcell_ds:main
	Gpib = bliss.tango.servers.gpib_ds:main
	Keithley428 = bliss.tango.servers.keithley428_ds:main
	Multimeter = bliss.tango.servers.keithley_ds:main
	Multiplexer = bliss.tango.servers.multiplexer_ds:main
	LinkamDsc = bliss.tango.servers.linkamdsc_ds:main
	NanoBpm = bliss.tango.servers.nanobpm_ds:main
	NanoBpmServo = bliss.tango.servers.nanobpm_servo_ds:main
	Wago = bliss.tango.servers.wago_ds:main
	MCCE = bliss.tango.servers.mcce_ds:main
	Regulation = bliss.tango.servers.regulation_ds:main
	BlissMotorController = bliss.tango.servers.motor_controller_ds:main
	BlissTangoServer = bliss.tango.servers.bliss_ds:main
	tcp-proxy = bliss.comm.tcp_proxy:main
	Tetramm = bliss.tango.servers.tetramm_ds:main

[options.extras_require]
dev = 
	black ==22.3  # lint
	flake8 <7.2  # lint
	flake8-pep585
	pre-commit
	pytest-cov
	pytest-mock
	pytest-profiling !=1.8.0  # https://gitlab.esrf.fr/bliss/bliss/-/issues/4543
	pytest-rerunfailures
	pytest-xvfb
	pytest
	scriv >=1.3.1
	nosqltangodb  # for beacon
doc = 
	markdown >=3.2, <3.4
	mike
	mkdocs-graphviz
	mkdocs-material >=8.2.11
	mkdocs-material-extensions >=1.0.3  # 1.0.(1|2) is buggy
	sphinx

[options.packages.find]
exclude = 
	tests*
	extensions*

[aliases]
test = pytest

[flake8]
ignore = E501,W503,E203,W504,E251,E262,E265,E266,W291,W293
max-line-length = 115

[pycodestyle]
max-line-length = 115

[egg_info]
tag_build = 
tag_date = 0

