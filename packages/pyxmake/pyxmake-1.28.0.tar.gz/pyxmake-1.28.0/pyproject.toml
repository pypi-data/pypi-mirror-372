# TOML file to establish PyXMake as standalone application.
#  
# @note: TOML file            
# Created on 08.08.2022    
# 
# @version:  1.0    
# ----------------------------------------------------------------------------------------------
# @requires:
#        - 
# 
# @change: 
#        -    
#    
# @author: garb_ma                                                     [DLR-SY,STM Braunschweig]
# ----------------------------------------------------------------------------------------------
[build-system]
requires = ["poetry-core>=1.0.0", "setuptools", "wheel","poetry-dynamic-versioning>=1.0.0,<2.0.0"]
build-backend = "poetry_dynamic_versioning.backend"

[tool.poetry]
name = "pyxmake"
version = "1.28.0"
description = "Harmonized software interfaces and workflows to simplify complex build events"
authors = ["Garbade, Marc <marc.garbade@dlr.de>"]
license = "MIT"
readme = "README.md"
packages = [{include="PyXMake", from="src"}]
exclude = ["src/PyXMake/**/*"]
repository = "https://gitlab.com/dlr-sy/pyxmake"
documentation = "https://dlr-sy.gitlab.io/pyxmake"
keywords = ["pyxmake","standalone"]
classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Topic :: Software Development :: Build Tools",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Programming Language :: Python :: 2",
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: MIT License",
    "Operating System :: OS Independent"
]

[tool.poetry.urls]
Changelog = "https://gitlab.com/dlr-sy/pyxmake/-/blob/master/CHANGELOG.md"

[tool.poetry.build]
script = "config/build.py"
generate-setup-file = true

[[tool.poetry.source]]
name = "PyPI"
priority = "primary"

[[tool.poetry.source]]
name = "dlr-sy"
url = "https://gitlab.dlr.de/api/v4/groups/541/-/packages/pypi/simple"
priority = "supplemental"

[tool.poetry.dependencies]
python = "~2.7 || ^3.5"
pyx-core = [{version = ">=1.28", python = "~2.7 || ^3.5"}]
pyx-webservice = [{version = ">=1.28", python = "^3.7"}]

# All optional dependencies
pyx-client = [{version = ">=1.28", python = "^3.8", optional = true}]
pyx-poetry = [{version = ">=1.28", python = "~2.7 || ^3.5", optional = true}]
pyc-core = [{version = ">=1.11", python = "~2.7 || ^3.5", optional = true}]

# Additional dependencies for supported build backends
meson = [{version = ">=1.8", python = ">=3.8", optional = true}]
ninja = [{version = ">=1.11", python = ">=3.8", optional = true}]
poetry-core = [{version = ">=1.0", python = "~2.7 || ^3.5", optional = true}]
poetry-dynamic-versioning = [{version = ">=1.8", python = ">=3.8", optional = true}]

# Additional dependencies for code checking
anybadge = [{version = "*", python = "^3.7", optional = true}]
black = [{version = "^22.10", python = "~3.7", optional = true}, 
         {version = ">=24.1", python = "^3.8", optional = true}]
pylint = [{version = "*", python = "~3.7", optional = true},
          {version = ">=3.0", python = ">=3.8", optional = true}]
typer = [{version = ">=0.16", python = "^3.7", optional = true}]
atlassian-python-api = [{version = ">=3.14", python = ">=3.7", optional = true}]

[tool.poetry.group.dev.dependencies]
poetry = [{version = "^1.5", python = "~3.7"},
          {version = "^1.8", python = "~3.8"},
          {version = ">=2.1", python = "^3.9"}]

[tool.poetry.group.lock.dependencies]
dill = [{version="*", python="^3.7"}]
dataclasses = [{version = "^0.7", python = "^3.6, <3.7"}]
patme = [{version = ">=0.4", python = "^3.10"}]
scipy = [{version = "^1.2", python = "~2.7 || ~3.5"},
         {version = "^1.5", python = "~3.6"},
         {version = "^1.6", python = "~3.7"},
         {version = "~1.8", python = "~3.8"},
         {version = ">=1.10", python = ">=3.9,<3.13"}]
soupsieve = [{version = "^1.9", python = "~2.7 || ^3.5,<3.7"},
             {version = "^2.4", python = "^3.7"},
             {version = ">=2.5", python = "^3.8"}]
typing-extensions = [{version = "^4.7", python = "~3.7"},
                     {version = ">=4.8", python = "^3.8"}]

[tool.poetry.extras]
all = ["pyx-client","pyx-poetry","pyc-core"]
client = ["pyx-client"]
confluence = ["atlassian-python-api"]
core = ["poetry-core","pyx-poetry"]
devel = ["pyx-poetry","pyc-core"]
generator = ["meson","ninja"]
lint = ["anybadge","black","pylint"]
poetry = ["pyx-poetry"]
typer = ["typer"]
setup = ["poetry-core","poetry-dynamic-versioning","pyx-poetry","meson","ninja"]

[tool.poetry-dynamic-versioning]
enable = false

[tool.poetry-dynamic-versioning.from-file]
source = "src/PyXMake/__init__.py"
pattern = '''\__version__\s*=\s*\"(.*)\"'''