# çŸ¥è¯†å·¥ç¨‹é¡¹ç›® (Knowledge Engineering)

ä¸€ä¸ªåŸºäº LangChain çš„æ™ºèƒ½ä»£ç åº“åˆ†æå’Œæ–‡æ¡£ç”Ÿæˆå·¥å…·ã€‚æœ¬é¡¹ç›®æä¾›äº†å®Œæ•´çš„ä»£ç åº“å…‹éš†ã€åˆ†æã€åˆ†ç±»ã€çŸ¥è¯†åº“æ„å»ºå’Œæ–‡æ¡£ç”ŸæˆåŠŸèƒ½ï¼Œèƒ½å¤Ÿæ™ºèƒ½è¯†åˆ«é¡¹ç›®ç±»å‹ï¼ˆåº”ç”¨ç¨‹åºã€æ¡†æ¶ã€åº“ã€å¼€å‘å·¥å…·ç­‰ï¼‰ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–çš„æŠ€æœ¯æ–‡æ¡£ã€‚

ğŸ“– **å¼€å‘æŒ‡å—**: è¯¦ç»†çš„å¼€å‘è¯´æ˜è¯·å‚è€ƒ [å¼€å‘æ–‡æ¡£ (AppDev.md)](docs/AppDev.md)

## ğŸ¯ é¡¹ç›®ç›®æ ‡

### ç¬¬ä¸€é˜¶æ®µç›®æ ‡

1. æ„å»ºåŸºäº*ä»£ç åº“*çš„çŸ¥è¯†åº“ï¼ŒçŸ¥è¯†åº“å¯ä¾›ç ”å‘ã€äº§å“ã€æµ‹è¯•ã€ä¸šåŠ¡é˜…è¯»ã€‚ 
2. åŸºäºæ­¤çŸ¥è¯†åº“æ„å»ºé—®ç­”ï¼Œèƒ½å¿«é€Ÿäº†è§£ä¸šåŠ¡çŸ¥è¯†ã€æŠ€æœ¯çŸ¥è¯†ï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬ã€‚ 

å¯¹çŸ¥è¯†åº“çš„è¦æ±‚ï¼š
- èƒ½å¦‚å®åé¦ˆä¸šåŠ¡æµç¨‹ï¼Œèƒ½å¦‚å®åé¦ˆä¸šåŠ¡è§„åˆ™
- èƒ½å¦‚å®åé¦ˆæŠ€æœ¯æ¶æ„ï¼ŒæŠ€æœ¯ç»†èŠ‚

### åŸºç¡€çŸ¥è¯†

- å¤§æ¨¡å‹æ¥å…¥æ‰‹å†Œï¼šhttps://joyspace.jd.com/page/q9AY6VwZTxholVXl0E7D
- å¤§æ¨¡å‹ç½‘å…³æ¥å£æ–‡æ¡£ï¼šhttps://joyspace.jd.com/pages/hQTBswr7k3AusgP2k2XZ
- è´¦å·è®¡è´¹æƒ…å†µï¼šhttps://easybi.jd.com/bi/#/insight?code=EF838CD9A9A58A2BCE840ED68EC79FE773F4FE91E65E8FDEC180F19F4AA03D8B

## ğŸš€ é¡¹ç›®ç‰¹è‰²

- **æ™ºèƒ½ä»£ç åº“åˆ†æ**ï¼šåŸºäº LangChain çš„æ™ºèƒ½é¡¹ç›®åˆ†æå’Œåˆ†ç±»ç³»ç»Ÿ
- **é…ç½®é©±åŠ¨çš„åˆ†ç±»ç³»ç»Ÿ**ï¼šæ”¯æŒé€šè¿‡ JSON é…ç½®æ–‡ä»¶åŠ¨æ€æ‰©å±•é¡¹ç›®åˆ†ç±»ç±»åˆ«
- **å¤šç»´åº¦é¡¹ç›®è¯†åˆ«**ï¼šæ”¯æŒ Androidã€åº”ç”¨ç¨‹åºã€æ¡†æ¶ã€åº“ã€å¼€å‘å·¥å…·ç­‰9å¤§ç±»åˆ«çš„ç²¾å‡†åˆ†ç±»
- **å®Œæ•´çš„å·¥ä½œæµç¨‹**ï¼šä»ä»£ç åº“å…‹éš†åˆ°åˆ†ææŠ¥å‘Šç”Ÿæˆçš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ
- **å¼ºå¤§çš„å·¥å…·é›†åˆ**ï¼šç›®å½•åˆ†æã€æ–‡ä»¶åˆ†ç±»ã€æ–‡æœ¬è¯»å–ã€é¡¹ç›®ä¿¡æ¯æå–ç­‰å®ç”¨å·¥å…·
- **æç¤ºè¯æ¨¡æ¿ç³»ç»Ÿ**ï¼šåŸºäºä¸“ä¸šçš„åˆ†ç±»æç¤ºè¯æ¨¡æ¿ï¼Œç¡®ä¿åˆ†æç»“æœçš„å‡†ç¡®æ€§
- **å¤šç­–ç•¥æ–‡æ¡£ç”Ÿæˆ**ï¼šæ”¯æŒ Promptã€Agentã€Hybrid ä¸‰ç§ç”Ÿæˆç­–ç•¥ï¼Œé€‚åº”ä¸åŒå¤æ‚åº¦é¡¹ç›®

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **ä»£ç åº“å…‹éš†**ï¼šæ”¯æŒå¤šç§ Git åè®®çš„ä»£ç åº“è‡ªåŠ¨å…‹éš†
- âœ… **æ™ºèƒ½åˆ†ç±»**ï¼šåŸºäº LLM çš„é¡¹ç›®ç±»å‹è‡ªåŠ¨è¯†åˆ«å’Œåˆ†ç±»ï¼Œæ”¯æŒé…ç½®åŒ–æ‰©å±•
- âœ… **é¡¹ç›®åˆ†æ**ï¼šæ·±åº¦åˆ†æé¡¹ç›®ç»“æ„ã€æŠ€æœ¯æ ˆå’Œç¼–ç¨‹è¯­è¨€åˆ†å¸ƒ
- âœ… **æ–‡æ¡£ç›®å½•ç”Ÿæˆ**ï¼šåŸºäºé¡¹ç›®åˆ†æç»“æœè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ç›®å½•ç»“æ„
- âœ… **RAGæ£€ç´¢æœåŠ¡**ï¼šå®Œæ•´çš„æ£€ç´¢å¢å¼ºç”ŸæˆåŠŸèƒ½ï¼Œæ”¯æŒçŸ¥è¯†åº“æ„å»ºå’Œæ™ºèƒ½é—®ç­”
- âœ… **æ–‡ä»¶å¤„ç†**ï¼šæ™ºèƒ½æ–‡ä»¶åˆ†ç±»ï¼ˆæºç ã€æ–‡æ¡£ã€äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰
- âœ… **å¤šç¼–ç æ”¯æŒ**ï¼šè‡ªåŠ¨æ£€æµ‹å’Œå¤„ç†å¤šç§æ–‡æœ¬ç¼–ç æ ¼å¼
- âœ… **ç›®å½•ç»“æ„ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆ Markdown æ ¼å¼çš„é¡¹ç›®ç»“æ„å›¾
- âœ… **é…ç½®æ–‡ä»¶è§£æ**ï¼šè‡ªåŠ¨è¯†åˆ«å’Œè§£æé¡¹ç›®é…ç½®æ–‡ä»¶
- âœ… **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒæ‰¹é‡æ–‡ä»¶è¯»å–å’Œå¤„ç†
- âœ… **å¤šæ¨¡å‹æ”¯æŒ**ï¼šæ”¯æŒ OpenAI GPT-4ã€Claudeã€ChatRhino ç­‰å¤šç§ AI æ¨¡å‹

### æŠ€æœ¯æ ˆ
- **æ ¸å¿ƒæ¡†æ¶**: LangChain 0.3.26
- **AI æ¨¡å‹**: OpenAI GPT-4 / AWS Claude / ChatRhino-81B-Pro
- **å‘é‡å­˜å‚¨**: FAISS (Facebook AI Similarity Search)
- **æ–‡æœ¬åµŒå…¥**: OpenAI Embeddings
- **å¼€å‘è¯­è¨€**: Python 3.12+
- **ä»£ç è§£æ**: Tree-sitter (æ”¯æŒ20+ç¼–ç¨‹è¯­è¨€)
- **æ–‡æœ¬å¤„ç†**: chardet (ç¼–ç æ£€æµ‹)ã€spaCy (ä¸­æ–‡NLP)
- **ç‰ˆæœ¬æ§åˆ¶**: Git (subprocess)
- **Webæ¡†æ¶**: Flask + Next.js
- **æµ‹è¯•æ¡†æ¶**: pytest + unittest
- **ä¾èµ–ç®¡ç†**: requirements.txt

## ğŸ› ï¸ å®‰è£…æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Python 3.12.7+
- Node.js 16+ (ç”¨äºWebç•Œé¢)
- pip åŒ…ç®¡ç†å™¨
- Git (ç”¨äºä»£ç åº“å…‹éš†)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd knowledge-engineering
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate     # Windows
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

4. **é…ç½®ç¯å¢ƒå˜é‡**
åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š
```env
# OpenAI é…ç½® (JDTè·¯ç”±)
OPENAI_BASE_URL=http://gpt-proxy.jd.com/v1
OPENAI_API_KEY=your_api_key

# JDTè·¯ç”±é…ç½®
JDT_ROUTER_BASE=http://gpt-proxy.jd.com/v1
JDT_API_KEY=your_jdt_api_key

# JDLè·¯ç”±é…ç½®
JDL_ROUTER_BASE=http://airouter.jdl.com
JDL_KIMI_KEY=your_kimi_key
JDL_QWEN_KEY=your_qwen_key

# æ™ºè°±AIé…ç½®
ZHIPUAI_BASE_URL=http://gpt-proxy.jd.com/v1
ZHIPUAI_API_KEY=your_zhipuai_key

# æµ‹è¯•æ•°æ®åº“åœ°å€
DATABASE_URL=mysql+pymysql://tarzan_ddl:jJBskPDWlgymGr85svXwUUBp1bZl5S2s@mysql-cn-north-1-be8ff9b3a5d54609.rds.jdcloud.com:3358/db_kb

# OSSå¯¹è±¡å­˜å‚¨é…ç½® (äº¬ä¸œäº‘OSS)
OSS_ACCESS_KEY=JDC_9E27A8FA31BE3A3AE1C5D5A6C9FD
OSS_SECRET_KEY=A44BB95717EE02092F391A22B5B07AAB
OSS_INNER_ENDPOINT=s3-internal.cn-north-1.jdcloud-oss.com
OSS_OUT_ENDPOINT=s3.cn-north-1.jdcloud-oss.com
OSS_BUCKET_NAME=serviceplus-basic
OSS_REGION=cn-north-1
```

5. **å®‰è£…Webç•Œé¢ä¾èµ–**
```bash
cd web && npm install
```

6. **è®¾ç½®CLIå·¥å…·æƒé™**
```bash
chmod +x bin/kengine_cli
```

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### kengine_cli å‘½ä»¤è¡Œå·¥å…·

é¡¹ç›®çš„æ ¸å¿ƒå·¥å…·æ˜¯ [`kengine_cli`](bin/kengine_cli)ï¼Œè¿™æ˜¯ä¸€ä¸ªå¢å¼ºçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæä¾›å®Œæ•´çš„ä»£ç åº“åˆ†æå’Œæ–‡æ¡£ç”ŸæˆåŠŸèƒ½ã€‚

#### å·¥å…·æ¶æ„

- **[`bin/kengine_cli`](bin/kengine_cli)**: Bashè„šæœ¬å…¥å£ï¼Œè´Ÿè´£ç¯å¢ƒæ£€æŸ¥å’ŒPythonæ¨¡å—è°ƒç”¨
  - æä¾›å½©è‰²æ—¥å¿—è¾“å‡ºåŠŸèƒ½
  - æ£€æŸ¥Pythonç¯å¢ƒå’Œkengineæ¨¡å—å¯ç”¨æ€§
  - å°†æ‰€æœ‰å‚æ•°ä¼ é€’ç»™Python CLIæ¨¡å—
  - æä¾›é”™è¯¯å¤„ç†å’Œé€€å‡ºç ä¼ é€’

- **[`kengine/cli/cli.py`](kengine/cli/cli.py)**: Python CLIæ§åˆ¶å™¨ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘
  - å‚æ•°è§£æå’ŒéªŒè¯
  - è°ƒç”¨æ ¸å¿ƒçŸ¥è¯†æœåŠ¡
  - ç»“æœå±•ç¤ºå’Œé”™è¯¯å¤„ç†

#### åŸºæœ¬ä½¿ç”¨

```bash
# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
./bin/kengine_cli --help

# åŸºæœ¬ç”¨æ³• - åˆ†æé¡¹ç›®å¹¶ç”Ÿæˆå®Œæ•´æ–‡æ¡£
./bin/kengine_cli --repo_group "my-group" --repo_name "my-project"
```

#### æ ¸å¿ƒå‚æ•°è¯¦è§£

| å‚æ•° | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|--------|------|------|
| `--repo_group` | âœ… | - | ä»£ç ä»“åº“ç»„åï¼Œç”¨äºç»„ç»‡é¡¹ç›® | `"wms6.0m"`, `"eclp-pf"` |
| `--repo_name` | âœ… | - | ä»£ç ä»“åº“åç§°ï¼Œé¡¹ç›®çš„å…·ä½“åç§° | `"Inbound"`, `"open-rts"` |
| `--model_name` | âŒ | `gpt-4.1` | LLMæ¨¡å‹åç§°ï¼Œå½±å“åˆ†æè´¨é‡å’Œæˆæœ¬ | `"claude-3-5-sonnet"` |
| `--prompt_version` | âŒ | - | æç¤ºè¯ç‰ˆæœ¬ï¼Œç”¨äºA/Bæµ‹è¯• | `"2.0"`, `"v1.5"` |
| `--branch` | âŒ | `master` | Gitåˆ†æ”¯ï¼ŒæŒ‡å®šè¦åˆ†æçš„ä»£ç åˆ†æ”¯ | `"develop"`, `"main"` |
| `--force_project_type` | âŒ | - | å¼ºåˆ¶æŒ‡å®šé¡¹ç›®ç±»å‹ï¼Œè·³è¿‡è‡ªåŠ¨åˆ†ç±» | `"Android"`, `"Libraries"` |
| `--execute_step` | âŒ | `full` | æ‰§è¡Œæ­¥éª¤ï¼Œæ§åˆ¶åˆ†ææµç¨‹ | `"classification"`, `"overview"`, `"catalogue"` `"document"`  |
| `--specify_document_path` | âŒ | `""` | æŒ‡å®šæ–‡æ¡£è·¯å¾„ï¼Œç”¨äºç”Ÿæˆå•ä¸ªæ–‡æ¡£ | `"docs/api"` |

#### æ”¯æŒçš„AIæ¨¡å‹

æ ¹æ® [`config/application_config.json`](config/application_config.json) é…ç½®ï¼Œç³»ç»Ÿæ”¯æŒä»¥ä¸‹æ¨¡å‹ï¼š

| æ¨¡å‹åç§° | æä¾›å•† | æœ€å¤§Token | æ¸©åº¦ | é€‚ç”¨åœºæ™¯ |
|----------|--------|-----------|------|----------|
| **gpt-4** / **gpt-4.1** | OpenAI | 32,768 | 0.1 | é€šç”¨åˆ†æï¼Œå¹³è¡¡è´¨é‡å’Œæˆæœ¬ |
| **claude-3-5-sonnet** | AWS | 8,192 | 0.1 | ä»£ç ç†è§£ï¼Œé€»è¾‘åˆ†æ |
| **claude-sonnet-4** | AWS | 65,536 | 0.1 | å¤æ‚é¡¹ç›®ï¼Œé•¿æ–‡æ¡£ç”Ÿæˆ |
| **Chatrhino-81B-Pro** | ChatRhino | 22,528 | 0.1 | ä¸­æ–‡ä¼˜åŒ–ï¼Œæœ¬åœŸåŒ–åœºæ™¯ |

#### æ”¯æŒçš„æ‰§è¡Œæ­¥éª¤

| æ­¥éª¤ | è¯´æ˜ | è¾“å‡ºå†…å®¹ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|----------|
| `classification` | ä»…é¡¹ç›®åˆ†ç±» | é¡¹ç›®ç±»å‹ã€ç½®ä¿¡åº¦ã€åˆ†ææ‘˜è¦ | å¿«é€Ÿäº†è§£é¡¹ç›®æ€§è´¨ |
| `overview` | ä»…ç”Ÿæˆæ¦‚è§ˆ | é¡¹ç›®æ¦‚è§ˆæ–‡æ¡£ | é¡¹ç›®åˆæ­¥äº†è§£ |
| `catalogue` | ä»…ç”Ÿæˆç›®å½• | æ–‡æ¡£ç›®å½•ç»“æ„ | æ–‡æ¡£è§„åˆ’ |
| `document` | ä»…ç”Ÿæˆæ–‡æ¡£ | è¯¦ç»†æŠ€æœ¯æ–‡æ¡£ | æ·±åº¦æ–‡æ¡£åŒ– |
| `full` | å®Œæ•´æµç¨‹ | åˆ†ç±»+æ¦‚è§ˆ+ç›®å½•+æ–‡æ¡£+RAGçŸ¥è¯†åº“ | å®Œæ•´é¡¹ç›®åˆ†æ |

#### è¯¦ç»†ä½¿ç”¨ç¤ºä¾‹

##### 1. åŸºç¡€é¡¹ç›®åˆ†æ
```bash
# åˆ†æä¸€ä¸ªåŸºç¡€é¡¹ç›®ï¼Œä½¿ç”¨é»˜è®¤è®¾ç½®
./bin/kengine_cli \
  --repo_group "my-team" \
  --repo_name "web-app"
```


##### 2. åˆ†æ­¥éª¤æ‰§è¡Œ
```bash
# ç¬¬ä¸€æ­¥ï¼šä»…è¿›è¡Œé¡¹ç›®åˆ†ç±»
./bin/kengine_cli \
  --repo_group "my-group" \
  --repo_name "unknown-project" \
  --execute_step "classification"

# ç¬¬äºŒæ­¥ï¼šåŸºäºåˆ†ç±»ç»“æœç”Ÿæˆæ¦‚è§ˆ
./bin/kengine_cli \
  --repo_group "my-group" \
  --repo_name "unknown-project" \
  --execute_step "overview" \
  --force_project_type "Applications"

# ç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆå®Œæ•´æ–‡æ¡£
./bin/kengine_cli \
  --repo_group "my-group" \
  --repo_name "unknown-project" \
  --execute_step "full" \
  --force_project_type "Applications"

# è°ƒè¯•å•ä¸ªæ–‡æ¡£
./bin/kengine_cli \
  --repo_group wms-ng \
  --repo_name wms-pick \
  --prompt_version 0.2 \
  --execute_step document \
  --specify_document_path project-overview/core-business-flow
```

```

##### 3. å¢é‡æ–‡æ¡£æ›´æ–°
```bash
# ä»…æ›´æ–°ç‰¹å®šæ–‡æ¡£éƒ¨åˆ†
./bin/kengine_cli \
  --repo_group "my-group" \
  --repo_name "my-project" \
  --execute_step "document" \
  --specify_document_path "docs/api-reference.md"
```

#### è¾“å‡ºç»“æœè§£è¯»

æˆåŠŸæ‰§è¡Œåï¼Œå·¥å…·ä¼šæ˜¾ç¤ºè¯¦ç»†çš„åˆ†æç»“æœï¼š

```bash
ğŸš€ å¼€å§‹ç”Ÿæˆé¡¹ç›®æ¦‚è§ˆ...
ğŸ“ ä»“åº“: my-group/my-project
ğŸ¤– ä½¿ç”¨æ¨¡å‹: claude-3-5-sonnet
ğŸŒ¿ Gitåˆ†æ”¯: develop
ğŸ¯ å¼ºåˆ¶é¡¹ç›®ç±»å‹: Applications

âœ… é¡¹ç›®æ¦‚è§ˆç”ŸæˆæˆåŠŸ!
ğŸ“ è¾“å‡ºè·¯å¾„: /path/to/output
ğŸ·ï¸  é¡¹ç›®ç±»å‹: Applications
âš™ï¸  ä½¿ç”¨ç­–ç•¥: hybrid
ğŸ¯ åˆ†ç±»ç½®ä¿¡åº¦: 0.95
ğŸ” RAGçŸ¥è¯†åº“æ„å»ºå®Œæˆ
ğŸ“Š æ¦‚è§ˆç”Ÿæˆå®Œæˆ
â±ï¸  ç”Ÿæˆè€—æ—¶: 45.32ç§’
```

#### é”™è¯¯å¤„ç†

å·¥å…·æä¾›äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

1. **ç¯å¢ƒæ£€æŸ¥é”™è¯¯**
```bash
[ERROR] Pythonå‘½ä»¤ä¸å¯ç”¨ï¼Œè¯·ç¡®ä¿å·²å®‰è£…Python
[ERROR] æ— æ³•å¯¼å…¥kengine.cli.cliæ¨¡å—
[INFO] è¯·ç¡®ä¿å·²æ­£ç¡®å®‰è£…é¡¹ç›®ä¾èµ–: pip install -r requirements.txt
```

2. **å‚æ•°éªŒè¯é”™è¯¯**
```bash
âŒ execute_stepå‚æ•°å¿…é¡»ä¸º['classification', 'overview', 'catalogue', 'document', 'full']ä¸­çš„ä¸€ä¸ª
âŒ repo_groupå’Œrepo_nameå‚æ•°ä¸èƒ½ä¸ºç©º
```

3. **æ‰§è¡Œè¿‡ç¨‹é”™è¯¯**
```bash
âŒ é¡¹ç›®æ¦‚è§ˆç”Ÿæˆå¤±è´¥
é”™è¯¯ä¿¡æ¯: æ¨¡å‹è°ƒç”¨è¶…æ—¶
å¤±è´¥é˜¶æ®µ: classification
âš ï¸  è­¦å‘Šä¿¡æ¯:
  - é¡¹ç›®æ–‡ä»¶è¿‡å¤šï¼Œå»ºè®®ä½¿ç”¨.gitignoreè¿‡æ»¤
```

### ä¼ ç»ŸPythonå…¥å£ä½¿ç”¨

é™¤äº†æ¨èçš„CLIå·¥å…·ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Pythonå…¥å£ï¼š

```bash
# ä½¿ç”¨main.pyï¼ˆä¼ ç»Ÿæ¨¡å¼ï¼‰
python main.py --repo_group=eclp-pf --repo_name=open-rts --model_name=claude-3-5-sonnet

# ä½¿ç”¨Pythonæ¨¡å—æ–¹å¼
python -m kengine.cli.cli --repo_group "my-group" --repo_name "my-project"
```

### å•ç‹¬ä½¿ç”¨å„ä¸ªåŠŸèƒ½æ¨¡å—

#### ä»£ç åº“å…‹éš†
```python
from kengine.tasks.clone import clone_repository

# å…‹éš†ä»£ç åº“åˆ°æœ¬åœ°
result = clone_repository(
    repo_url="https://github.com/user/repo.git",
    target_dir="./cloned-repo",
    force=True  # å¦‚æœç›®å½•å­˜åœ¨åˆ™å¼ºåˆ¶åˆ é™¤é‡æ–°å…‹éš†
)
print(f"å…‹éš†ç»“æœ: {result}")
```

#### é¡¹ç›®åˆ†ç±»
```python
from kengine.tasks.classification import classify_repository

# åˆ†æå¹¶åˆ†ç±»æœ¬åœ°é¡¹ç›®
result = classify_repository("./project-directory")
print(f"é¡¹ç›®åˆ†ç±»: {result['classification']}")
print(f"åˆ†ææ‘˜è¦: {result['analysis_summary']}")
```

#### é¡¹ç›®ä¿¡æ¯æå–
```python
from kengine.utils.project_utils import get_project_info_text

# è·å–é¡¹ç›®è¯¦ç»†ä¿¡æ¯
project_info = get_project_info_text("./project-directory")
print(project_info)
```

#### æ–‡æ¡£ç”Ÿæˆ
```python
from kengine.core import KnowledgeService, KnowledgeGenerationRequest
from kengine.core.types import ExecuteStep

# åˆ›å»ºçŸ¥è¯†æœåŠ¡
service = KnowledgeService()

# åˆ›å»ºç”Ÿæˆè¯·æ±‚
request = KnowledgeGenerationRequest(
    repo_group="my-group",
    repo_name="my-project",
    model_name="gpt-4.1",
    execute_step=ExecuteStep.FULL
)

# ç”ŸæˆçŸ¥è¯†æ–‡æ¡£
result = service.generate_knowledge(request)
if result.success:
    print(f"æ–‡æ¡£ç”ŸæˆæˆåŠŸ: {result.output_path}")
else:
    print(f"ç”Ÿæˆå¤±è´¥: {result.error}")
```

#### RAGæ£€ç´¢æœåŠ¡
```python
from kengine.rag import build_knowledge_base_from_directory, RAGConfig

# åˆ›å»ºä¼˜åŒ–çš„RAGé…ç½®
rag_config = RAGConfig(
    chunk_size=800,
    chunk_overlap=150,
    embedding_model="text-embedding-3-small",
    retrieval_k=3
)

# æ„å»ºçŸ¥è¯†åº“
rag_service = build_knowledge_base_from_directory(
    "./project-directory",
    "./.kb/project_kb",
    config=rag_config
)

# æ‰§è¡ŒæŸ¥è¯¢
result = rag_service.query("è¿™ä¸ªé¡¹ç›®çš„ä¸»è¦åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ")
print(f"ç­”æ¡ˆ: {result['answer']}")
print(f"ç›¸å…³æ–‡æ¡£æ•°é‡: {len(result['source_documents'])}")
```

## ğŸ¨ é¡¹ç›®åˆ†ç±»ç³»ç»Ÿ

### æ”¯æŒçš„åˆ†ç±»ç±»åˆ«

ç³»ç»Ÿæ”¯æŒ 9 ç§é¡¹ç›®åˆ†ç±»ï¼Œèƒ½å¤Ÿæ™ºèƒ½è¯†åˆ«ä¸åŒç±»å‹çš„ä»£ç åº“ï¼š

| åˆ†ç±» | æè¿° | ç”Ÿæˆç­–ç•¥ | å…³é”®è¯ |
|------|------|----------|--------|
| **Android** | Android ç§»åŠ¨åº”ç”¨é¡¹ç›® | prompt | android, mobile, java, kotlin, gradle |
| **Applications** | å®Œæ•´çš„å¯è¿è¡Œåº”ç”¨ç¨‹åº | hybrid | web app, mobile app, desktop app, service |
| **Frameworks** | å¼€å‘æ¡†æ¶å’Œå¹³å° | prompt | framework, platform, architecture, foundation |
| **Libraries** | å¯é‡ç”¨çš„ä»£ç åº“ | agent | library, package, component, utility, module |
| **DevelopmentTools** | å¼€å‘è¾…åŠ©å·¥å…· | prompt | build tool, compiler, testing, linter |
| **CLITools** | å‘½ä»¤è¡Œå·¥å…· | prompt | cli, command line, script, terminal, console |
| **DevOpsConfiguration** | è¿ç»´é…ç½®é¡¹ç›® | prompt | devops, cicd, deployment, configuration |
| **Documentation** | æ–‡æ¡£å’Œæ•™è‚²èµ„æº | prompt | documentation, tutorial, guide, knowledge |
| **MobileApps** | ç§»åŠ¨åº”ç”¨é¡¹ç›® | agent | mobile, ios, react native, flutter, cordova |

### æ–‡æ¡£ç”Ÿæˆç­–ç•¥

ç³»ç»Ÿé‡‡ç”¨ç­–ç•¥æ¨¡å¼æ”¯æŒä¸‰ç§æ–‡æ¡£ç”Ÿæˆæ–¹å¼ï¼š

1. **Promptç­–ç•¥** - åŸºäºæç¤ºè¯çš„å¿«é€Ÿç”Ÿæˆï¼ˆé€‚ç”¨äºç®€å•é¡¹ç›®ï¼‰
2. **Agentç­–ç•¥** - åŸºäºæ™ºèƒ½ä»£ç†çš„é«˜çº§ç”Ÿæˆï¼ˆé€‚ç”¨äºå¤æ‚é¡¹ç›®ï¼‰
3. **Hybridç­–ç•¥** - æ··åˆç­–ç•¥ï¼Œæ¦‚è§ˆå’Œç›®å½•ä½¿ç”¨Promptï¼Œæ–‡æ¡£ä½¿ç”¨Agent

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### ç³»ç»Ÿç»„æˆ

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒæ¨¡å—ï¼š

```
kengine/
â”œâ”€â”€ core/                    # æ ¸å¿ƒæœåŠ¡å±‚
â”‚   â”œâ”€â”€ knowledge_service.py # çŸ¥è¯†ç”ŸæˆæœåŠ¡
â”‚   â”œâ”€â”€ document_service.py  # æ–‡æ¡£ç”ŸæˆæœåŠ¡
â”‚   â”œâ”€â”€ strategy_factory.py  # ç­–ç•¥å·¥å‚
â”‚   â””â”€â”€ types.py            # æ ¸å¿ƒç±»å‹å®šä¹‰
â”œâ”€â”€ cli/                    # å‘½ä»¤è¡Œæ¥å£
â”‚   â””â”€â”€ cli.py             # CLIæ§åˆ¶å™¨
â”œâ”€â”€ tasks/                  # ä»»åŠ¡å¤„ç†å±‚
â”‚   â”œâ”€â”€ classification.py  # é¡¹ç›®åˆ†ç±»
â”‚   â”œâ”€â”€ clone.py           # ä»£ç åº“å…‹éš†
â”‚   â”œâ”€â”€ rag.py             # RAGæ£€ç´¢æœåŠ¡
â”‚   â””â”€â”€ llm.py             # LLMè°ƒç”¨æœåŠ¡
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ project_utils.py   # é¡¹ç›®åˆ†æå·¥å…·
â”‚   â”œâ”€â”€ directory_utils.py # ç›®å½•å¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ text_reader.py     # æ–‡æœ¬è¯»å–å·¥å…·
â”‚   â””â”€â”€ git_utils.py       # Gitæ“ä½œå·¥å…·
â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ application_config.py
â”‚   â””â”€â”€ logging_config.py
â””â”€â”€ code.skeleton/          # ä»£ç éª¨æ¶æå–
    â”œâ”€â”€ extractor.py
    â””â”€â”€ languages/         # å¤šè¯­è¨€æ”¯æŒ
```

### å…¥å£æ–‡ä»¶æ¶æ„

- **[`bin/kengine_cli`](bin/kengine_cli)**: Bashè„šæœ¬å…¥å£ï¼Œæä¾›ç¯å¢ƒæ£€æŸ¥å’Œé”™è¯¯å¤„ç†
- **[`kengine/cli/cli.py`](kengine/cli/cli.py)**: Python CLIæ§åˆ¶å™¨ï¼Œå¤„ç†å‚æ•°è§£æå’Œä¸šåŠ¡é€»è¾‘
- **[`main.py`](main.py)**: ä¼ ç»ŸPythonå…¥å£ï¼Œä¿æŒå‘åå…¼å®¹æ€§

## ğŸŒŸ åº”ç”¨åœºæ™¯

### å¼€å‘å›¢é˜Ÿç®¡ç†
- **é¡¹ç›®åˆ†ç±»ç®¡ç†**: è‡ªåŠ¨è¯†åˆ«å’Œåˆ†ç±»å›¢é˜Ÿçš„å„ç§ä»£ç åº“
- **æŠ€æœ¯æ ˆç»Ÿè®¡**: äº†è§£å›¢é˜Ÿä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€å’ŒæŠ€æœ¯åˆ†å¸ƒ
- **é¡¹ç›®ç»“æ„åˆ†æ**: å¿«é€Ÿäº†è§£æ–°é¡¹ç›®çš„ç»„ç»‡ç»“æ„

### å¼€æºé¡¹ç›®ç ”ç©¶
- **æ‰¹é‡é¡¹ç›®åˆ†æ**: å¯¹å¤§é‡å¼€æºé¡¹ç›®è¿›è¡Œè‡ªåŠ¨åŒ–åˆ†ç±»å’Œåˆ†æ
- **æŠ€æœ¯è¶‹åŠ¿ç ”ç©¶**: ç»Ÿè®¡ä¸åŒç±»å‹é¡¹ç›®çš„æŠ€æœ¯æ ˆä½¿ç”¨æƒ…å†µ
- **é¡¹ç›®è´¨é‡è¯„ä¼°**: åŸºäºé¡¹ç›®ç»“æ„å’Œæ–‡æ¡£å®Œæ•´æ€§è¿›è¡Œåˆæ­¥è¯„ä¼°

### ä»£ç åº“è¿ç§»å’Œæ•´ç†
- **é—ç•™ç³»ç»Ÿåˆ†æ**: å¿«é€Ÿäº†è§£è€æ—§é¡¹ç›®çš„ç»“æ„å’ŒæŠ€æœ¯æ ˆ
- **è¿ç§»è§„åˆ’**: ä¸ºé¡¹ç›®è¿ç§»æä¾›è¯¦ç»†çš„ç»“æ„åˆ†ææŠ¥å‘Š
- **æ–‡æ¡£ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®ç»“æ„æ–‡æ¡£

### æ•™è‚²å’Œå­¦ä¹ 
- **é¡¹ç›®ç±»å‹å­¦ä¹ **: é€šè¿‡åˆ†æä¸åŒç±»å‹çš„é¡¹ç›®äº†è§£è½¯ä»¶æ¶æ„æ¨¡å¼
- **æŠ€æœ¯æ ˆç ”ç©¶**: å­¦ä¹ ä¸åŒé¡¹ç›®ä½¿ç”¨çš„æŠ€æœ¯ç»„åˆ
- **æœ€ä½³å®è·µ**: é€šè¿‡åˆ†æä¼˜ç§€é¡¹ç›®å­¦ä¹ é¡¹ç›®ç»„ç»‡æ–¹å¼

### æ™ºèƒ½æ–‡æ¡£å’ŒçŸ¥è¯†ç®¡ç†
- **è‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆ**: åŸºäºé¡¹ç›®ç»“æ„è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ç›®å½•å’Œæ¡†æ¶
- **çŸ¥è¯†åº“æ„å»º**: å°†é¡¹ç›®ä»£ç å’Œæ–‡æ¡£è½¬æ¢ä¸ºå¯æ£€ç´¢çš„çŸ¥è¯†åº“
- **æ™ºèƒ½é—®ç­”**: åŸºäºé¡¹ç›®å†…å®¹æä¾›å‡†ç¡®çš„æŠ€æœ¯é—®ç­”æœåŠ¡
- **ä»£ç ç†è§£**: é€šè¿‡RAGæŠ€æœ¯å¿«é€Ÿç†è§£å¤§å‹é¡¹ç›®çš„æ¶æ„å’Œå®ç°ç»†èŠ‚

## ğŸ§ª æµ‹è¯•

é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œè¦†ç›–æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ã€‚æˆ‘ä»¬æä¾›äº†ç»Ÿä¸€çš„æµ‹è¯•è¿è¡Œå™¨ [`run_tests.py`](run_tests.py)ï¼Œæ”¯æŒé‡ç»„åçš„æµ‹è¯•ç›®å½•ç»“æ„ï¼Œèƒ½å¤Ÿæ–¹ä¾¿åœ°è¿è¡Œæ‰€æœ‰æµ‹è¯•æˆ–æŒ‡å®šæ¨¡å—çš„æµ‹è¯•ã€‚

### ä½¿ç”¨ run_tests.py æµ‹è¯•è¿è¡Œå™¨

[`run_tests.py`](run_tests.py) æ˜¯é¡¹ç›®çš„é€šç”¨æµ‹è¯•è¿è¡Œè„šæœ¬ï¼Œæ”¯æŒ18ä¸ªæµ‹è¯•æ¨¡å—ï¼Œæä¾›å¤šç§è¿è¡Œé€‰é¡¹å’Œå‘½ä»¤è¡Œå‚æ•°ã€‚

#### åŸºæœ¬ç”¨æ³•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆæ¨èæ–¹å¼ï¼‰
python run_tests.py

# è¿è¡ŒæŒ‡å®šæµ‹è¯•æ¨¡å—
python run_tests.py --module core
python run_tests.py --module utils
python run_tests.py --module cli

# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æµ‹è¯•æ¨¡å—
python run_tests.py --list-modules

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
python run_tests.py --help
```

#### æ”¯æŒçš„å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | ç®€å†™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `--module` | `-m` | æŒ‡å®šè¦è¿è¡Œçš„æµ‹è¯•æ¨¡å— | `--module core` |
| `--list-modules` | `-l` | åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æµ‹è¯•æ¨¡å— | `--list-modules` |
| `--pytest-only` | - | åªä½¿ç”¨ pytest è¿è¡Œæµ‹è¯• | `--pytest-only` |
| `--unittest-only` | - | åªä½¿ç”¨ unittest è¿è¡Œæµ‹è¯• | `--unittest-only` |
| `--quiet` | `-q` | é™é»˜æ¨¡å¼ï¼Œå‡å°‘è¾“å‡º | `--quiet` |

#### æ”¯æŒçš„æµ‹è¯•æ¨¡å—

è„šæœ¬æ”¯æŒä»¥ä¸‹18ä¸ªæµ‹è¯•æ¨¡å—ï¼š

| æ¨¡å—åç§° | è·¯å¾„ | è¯´æ˜ |
|----------|------|------|
| `agent` | `tests/agent` | æ™ºèƒ½ä»£ç†ç›¸å…³æµ‹è¯• |
| `chat` | `tests/chat` | èŠå¤©æœåŠ¡æµ‹è¯• |
| `cli` | `tests/cli` | å‘½ä»¤è¡Œæ¥å£æµ‹è¯• |
| `code_analysis` | `tests/code_analysis` | ä»£ç åˆ†ææµ‹è¯• |
| `code.skeleton` | `tests/code.skeleton` | ä»£ç éª¨æ¶æå–æµ‹è¯• |
| `config` | `tests/config` | é…ç½®ç®¡ç†æµ‹è¯• |
| `core` | `tests/core` | æ ¸å¿ƒæœåŠ¡æµ‹è¯• |
| `demo` | `tests/demo` | æ¼”ç¤ºåŠŸèƒ½æµ‹è¯• |
| `e2e` | `tests/e2e` | ç«¯åˆ°ç«¯æµ‹è¯• |
| `integration` | `tests/integration` | é›†æˆæµ‹è¯• |
| `langchain_tools` | `tests/langchain_tools` | LangChainå·¥å…·æµ‹è¯• |
| `llm` | `tests/llm` | å¤§è¯­è¨€æ¨¡å‹æµ‹è¯• |
| `misc` | `tests/misc` | æ‚é¡¹åŠŸèƒ½æµ‹è¯• |
| `optimization` | `tests/optimization` | æ€§èƒ½ä¼˜åŒ–æµ‹è¯• |
| `parsers` | `tests/parsers` | è§£æå™¨æµ‹è¯• |
| `prompts` | `tests/prompts` | æç¤ºè¯æµ‹è¯• |
| `rag` | `tests/rag` | RAGæ£€ç´¢æµ‹è¯• |
| `refactoring` | `tests/refactoring` | é‡æ„ç›¸å…³æµ‹è¯• |
| `strategies` | `tests/strategies` | ç­–ç•¥æ¨¡å¼æµ‹è¯• |
| `summerize` | `tests/summerize` | æ‘˜è¦ç”Ÿæˆæµ‹è¯• |
| `tasks` | `tests/tasks` | ä»»åŠ¡å¤„ç†æµ‹è¯• |
| `tools` | `tests/tools` | å·¥å…·å‡½æ•°æµ‹è¯• |
| `utils` | `tests/utils` | å·¥å…·ç±»æµ‹è¯• |

#### ä½¿ç”¨ç¤ºä¾‹

```bash
# 1. è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆé»˜è®¤å…ˆå°è¯•pytestï¼Œå†å°è¯•unittestï¼‰
python run_tests.py

# 2. è¿è¡Œæ ¸å¿ƒæ¨¡å—æµ‹è¯•
python run_tests.py --module core

# 3. è¿è¡ŒCLIç›¸å…³æµ‹è¯•
python run_tests.py --module cli

# 4. åªä½¿ç”¨pytestè¿è¡Œæ‰€æœ‰æµ‹è¯•
python run_tests.py --pytest-only

# 5. åªä½¿ç”¨unittestè¿è¡Œç‰¹å®šæ¨¡å—
python run_tests.py --module utils --unittest-only

# 6. é™é»˜æ¨¡å¼è¿è¡Œæµ‹è¯•
python run_tests.py --module core --quiet

# 7. æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ¨¡å—åŠå…¶æµ‹è¯•æ–‡ä»¶ç»Ÿè®¡
python run_tests.py --list-modules
```

#### æµ‹è¯•è¿è¡Œå™¨ç‰¹æ€§

- **æ™ºèƒ½æµ‹è¯•å‘ç°**: è‡ªåŠ¨éªŒè¯æµ‹è¯•ç›®å½•ç»“æ„å®Œæ•´æ€§
- **åŒé‡æµ‹è¯•æ”¯æŒ**: æ”¯æŒ pytest å’Œ unittest ä¸¤ç§æµ‹è¯•æ¡†æ¶
- **è¯¦ç»†ç»Ÿè®¡ä¿¡æ¯**: æ˜¾ç¤ºæµ‹è¯•æ–‡ä»¶æ•°é‡å’Œæ¨¡å—åˆ†å¸ƒ
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯æç¤ºå’Œå¼‚å¸¸å¤„ç†
- **å½©è‰²è¾“å‡º**: æä¾›æ¸…æ™°çš„æµ‹è¯•ç»“æœå±•ç¤º
- **æµ‹è¯•è¦†ç›–**: æ˜¾ç¤ºæ¯ä¸ªæ¨¡å—çš„æµ‹è¯•æ–‡ä»¶è¦†ç›–æƒ…å†µ

### ä¼ ç»Ÿæµ‹è¯•æ–¹æ³•

é™¤äº†æ¨èçš„ `run_tests.py` è¿è¡Œå™¨ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ä¼ ç»Ÿçš„æµ‹è¯•æ–¹æ³•ï¼š

```bash
# ä½¿ç”¨pytestç›´æ¥è¿è¡Œ
python -m pytest tests/test_classification.py -v
python -m pytest tests/test_cli_comprehensive.py -v
python -m pytest tests/test_knowledge_service_comprehensive.py -v

# è¿è¡Œæµ‹è¯•å¹¶æ˜¾ç¤ºè¦†ç›–ç‡
python -m pytest tests/ --cov=kengine --cov-report=html

# æµ‹è¯•CLIå·¥å…·
python -m pytest tests/test_bash_script.py -v
```

### ä¸»è¦æµ‹è¯•æ¨¡å—

- **CLIæµ‹è¯•**: [`tests/test_cli_comprehensive.py`](tests/test_cli_comprehensive.py)
- **Bashè„šæœ¬æµ‹è¯•**: [`tests/test_bash_script.py`](tests/test_bash_script.py)
- **çŸ¥è¯†æœåŠ¡æµ‹è¯•**: [`tests/test_knowledge_service_comprehensive.py`](tests/test_knowledge_service_comprehensive.py)
- **åˆ†ç±»ç³»ç»Ÿæµ‹è¯•**: [`tests/test_classification.py`](tests/test_classification.py)
- **æ–‡æ¡£ç”Ÿæˆæµ‹è¯•**: [`tests/test_document_generation.py`](tests/test_document_generation.py)

### æµ‹è¯•CLIå·¥å…·åŠŸèƒ½

```bash
# æµ‹è¯•åŸºæœ¬åŠŸèƒ½
./bin/kengine_cli --repo_group "test" --repo_name "sample" --execute_step "classification"

# æµ‹è¯•é”™è¯¯å¤„ç†
./bin/kengine_cli --repo_group "" --repo_name "test"  # åº”è¯¥æŠ¥é”™

# æµ‹è¯•å‚æ•°éªŒè¯
./bin/kengine_cli --repo_group "test" --repo_name "sample" --execute_step "invalid"  # åº”è¯¥æŠ¥é”™
```

## ğŸŒ Web æ–‡æ¡£æŸ¥çœ‹å™¨

é¡¹ç›®æä¾›äº†åŸºäº Next.js çš„ Web ç•Œé¢ï¼Œç”¨äºæŸ¥çœ‹ç”Ÿæˆçš„æ–‡æ¡£ï¼š

### åŠŸèƒ½ç‰¹æ€§
- **ä¸‰æ å¸ƒå±€**: å¯¼èˆªé¢æ¿ã€å†…å®¹åŒºåŸŸã€ç›®å½•é¢æ¿
- **Markdown æ¸²æŸ“**: å®Œæ•´æ”¯æŒ Markdown è¯­æ³•é«˜äº®
- **Mermaid å›¾è¡¨**: æ”¯æŒæµç¨‹å›¾å’Œæ¶æ„å›¾æ¸²æŸ“
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **å®æ—¶å¯¼èˆª**: ç›®å½•å®æ—¶è·Ÿè¸ªå½“å‰é˜…è¯»ä½ç½®
- **æ™ºèƒ½å¯¹è¯**: é›†æˆ AI åŠ©æ‰‹ï¼Œæ”¯æŒåŸºäºé¡¹ç›®å†…å®¹çš„æ™ºèƒ½é—®ç­”

### å¯åŠ¨ Web æœåŠ¡
```bash
# å®‰è£… Web ä¾èµ–
cd web && npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–ä½¿ç”¨ä¾¿æ·è„šæœ¬
./start-web.sh

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build && npm start
```

### å¯åŠ¨ Chat å¯¹è¯æœåŠ¡
```bash
# å¯åŠ¨ Chat åç«¯æœåŠ¡ï¼ˆé»˜è®¤ç«¯å£ 8080ï¼‰
python chat_server.py

# æŒ‡å®šç«¯å£å’Œä¸»æœº
python chat_server.py --port 9000 --host 127.0.0.1

# å¯ç”¨è°ƒè¯•æ¨¡å¼
python chat_server.py --debug --log-level DEBUG
```

### Chat æœåŠ¡åŠŸèƒ½
- **æµå¼å¯¹è¯**: æ”¯æŒå®æ—¶çš„å¯¹è¯å“åº”
- **ä¸Šä¸‹æ–‡è®°å¿†**: ç»´æŠ¤å¤šè½®å¯¹è¯å†å²
- **æ€è€ƒæ¨¡å¼**: å¯é€‰çš„ AI æ€è€ƒè¿‡ç¨‹å±•ç¤º
- **RAG é›†æˆ**: åŸºäºé¡¹ç›®ä»£ç åº“çš„çŸ¥è¯†æ£€ç´¢å¢å¼ºç”Ÿæˆ
- **å¤šæ¨¡å‹æ”¯æŒ**: æ”¯æŒé…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„å¤šç§ AI æ¨¡å‹

ä½¿ç”¨æµç¨‹ï¼š
1. ä½¿ç”¨ `kengine_cli` åˆ†æé¡¹ç›®å¹¶ç”Ÿæˆæ–‡æ¡£
2. å¯åŠ¨ Chat æœåŠ¡ï¼š`python chat_server.py`
3. å¯åŠ¨ Web æœåŠ¡ï¼š`cd web && npm run dev`
4. åœ¨æ–‡æ¡£é¡µé¢ç‚¹å‡»å³ä¸‹è§’æ‚¬æµ®èŠå¤©æŒ‰é’®å¼€å§‹å¯¹è¯

## ğŸ”§ é…ç½®è¯´æ˜

### åº”ç”¨é…ç½®

ä¸»è¦é…ç½®æ–‡ä»¶ï¼š[`config/application_config.json`](config/application_config.json)

```json
{
  "classifications": {
    "Applications": {
      "name": "Applications",
      "description": "Complete, runnable software applications",
      "generation_strategy": "hybrid"
    }
  },
  "strategy_configs": {
    "prompt": {
      "max_retries": 3,
      "timeout": 300,
      "temperature": 0.7
    },
    "agent": {
      "overview_max_iterations": 25,
      "max_retries": 3,
      "timeout": 600
    }
  },
  "model_configs": {
    "gpt-4": {
      "provider": "openai",
      "model": "gpt-4.1",
      "temperature": 0.1,
      "max_tokens": 32768
    }
  }
}
```

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶é…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š

```env
# å¿…éœ€é…ç½®
OPENAI_API_KEY=your_openai_api_key

# å¯é€‰é…ç½®
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
ANTHROPIC_API_KEY=your_anthropic_api_key
CHATRHINO_API_KEY=your_chatrhino_api_key
```

## ğŸŒŸ æŠ€æœ¯ç‰¹ç‚¹

- **æ™ºèƒ½åˆ†ç±»** - åŸºäº LLM çš„å¤šç»´åº¦é¡¹ç›®è‡ªåŠ¨åˆ†ç±»
- **ç­–ç•¥æ¨¡å¼** - çµæ´»çš„æ–‡æ¡£ç”Ÿæˆç­–ç•¥ï¼Œæ”¯æŒä¸åŒå¤æ‚åº¦é¡¹ç›®
- **RAG æŠ€æœ¯** - æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œæ„å»ºæ™ºèƒ½çŸ¥è¯†åº“
- **æ™ºèƒ½å¯¹è¯** - åŸºäºé¡¹ç›®å†…å®¹çš„ AI åŠ©æ‰‹ï¼Œæ”¯æŒæµå¼å¯¹è¯å’Œä¸Šä¸‹æ–‡è®°å¿†
- **å¤šæ¨¡å‹æ”¯æŒ** - æ”¯æŒ OpenAIã€AWS Claudeã€ChatRhino ç­‰å¤šç§ AI æ¨¡å‹
- **ç°ä»£åŒ–ç•Œé¢** - åŸºäº Next.js çš„å“åº”å¼æ–‡æ¡£æŸ¥çœ‹å™¨
- **å®Œæ•´æµ‹è¯•** - å…¨é¢çš„æµ‹è¯•è¦†ç›–å’ŒæŒç»­é›†æˆ
- **å¤šè¯­è¨€è§£æ** - åŸºäº Tree-sitter çš„20+ç¼–ç¨‹è¯­è¨€æ”¯æŒ
- **é…ç½®é©±åŠ¨** - çµæ´»çš„JSONé…ç½®ç³»ç»Ÿï¼Œæ”¯æŒåŠ¨æ€æ‰©å±•

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ç”Ÿæˆç­–ç•¥é€‰æ‹©

ç³»ç»Ÿä¼šæ ¹æ®é¡¹ç›®ç±»å‹è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜çš„ç”Ÿæˆç­–ç•¥ï¼š

- **ç®€å•é¡¹ç›®** (CLITools, Documentation): ä½¿ç”¨ Prompt ç­–ç•¥ï¼Œå¿«é€Ÿç”Ÿæˆ
- **å¤æ‚é¡¹ç›®** (Libraries, MobileApps): ä½¿ç”¨ Agent ç­–ç•¥ï¼Œæ·±åº¦åˆ†æ
- **ä¸­ç­‰é¡¹ç›®** (Applications): ä½¿ç”¨ Hybrid ç­–ç•¥ï¼Œå¹³è¡¡æ•ˆç‡å’Œè´¨é‡

### ç¼“å­˜æœºåˆ¶

- **æ¨¡å‹å“åº”ç¼“å­˜**: é¿å…é‡å¤çš„LLMè°ƒç”¨
- **æ–‡ä»¶åˆ†æç¼“å­˜**: ç¼“å­˜é¡¹ç›®ç»“æ„åˆ†æç»“æœ
- **RAGå‘é‡ç¼“å­˜**: å¤ç”¨å·²æ„å»ºçš„å‘é‡ç´¢å¼•

### å¹¶å‘å¤„ç†

- **æœ€å¤§å¹¶å‘æ•°**: é…ç½®æ–‡ä»¶ä¸­å¯è®¾ç½® `max_concurrent_generations`
- **è¶…æ—¶æ§åˆ¶**: ä¸åŒç­–ç•¥æœ‰ç‹¬ç«‹çš„è¶…æ—¶é…ç½®
- **é‡è¯•æœºåˆ¶**: æ™ºèƒ½é‡è¯•å¤±è´¥çš„LLMè°ƒç”¨

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

#### 1. CLIå·¥å…·æ— æ³•æ‰§è¡Œ
```bash
# é—®é¢˜ï¼šPermission denied
# è§£å†³ï¼šè®¾ç½®æ‰§è¡Œæƒé™
chmod +x bin/kengine_cli

# é—®é¢˜ï¼šPythonæ¨¡å—å¯¼å…¥å¤±è´¥
# è§£å†³ï¼šæ£€æŸ¥ä¾èµ–å®‰è£…
pip install -r requirements.txt
```

#### 2. æ¨¡å‹è°ƒç”¨å¤±è´¥
```bash
# é—®é¢˜ï¼šAPIå¯†é’¥é”™è¯¯
# è§£å†³ï¼šæ£€æŸ¥.envæ–‡ä»¶é…ç½®
cat .env | grep API_KEY

# é—®é¢˜ï¼šæ¨¡å‹ä¸å­˜åœ¨
# è§£å†³ï¼šæ£€æŸ¥config/application_config.jsonä¸­çš„æ¨¡å‹é…ç½®
```

#### 3. é¡¹ç›®åˆ†æå¤±è´¥
```bash
# é—®é¢˜ï¼šé¡¹ç›®è·¯å¾„ä¸å­˜åœ¨
# è§£å†³ï¼šç¡®ä¿é¡¹ç›®å·²æ­£ç¡®å…‹éš†åˆ°æœ¬åœ°

# é—®é¢˜ï¼šæ–‡ä»¶ç¼–ç é—®é¢˜
# è§£å†³ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹ç¼–ç ï¼Œå¦‚ä»æœ‰é—®é¢˜è¯·æ£€æŸ¥é¡¹ç›®æ–‡ä»¶
```

#### 4. Webç•Œé¢æ— æ³•è®¿é—®
```bash
# é—®é¢˜ï¼šç«¯å£è¢«å ç”¨
# è§£å†³ï¼šæ›´æ¢ç«¯å£æˆ–åœæ­¢å ç”¨è¿›ç¨‹
lsof -i :3000
kill -9 <PID>

# é—®é¢˜ï¼šä¾èµ–å®‰è£…å¤±è´¥
# è§£å†³ï¼šæ¸…ç†ç¼“å­˜é‡æ–°å®‰è£…
cd web && rm -rf node_modules package-lock.json && npm install
```

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†æ—¥å¿—è¾“å‡ºï¼š

```bash
# è®¾ç½®æ—¥å¿—çº§åˆ«
export LOG_LEVEL=DEBUG

# è¿è¡ŒCLIå·¥å…·
./bin/kengine_cli --repo_group "test" --repo_name "debug" --execute_step "classification"
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼è¯·å‚è€ƒ [å¼€å‘æ–‡æ¡£ (AppDev.md)](docs/AppDev.md) äº†è§£è¯¦ç»†çš„å¼€å‘æŒ‡å—å’Œè´¡çŒ®æµç¨‹ã€‚

### å¿«é€Ÿè´¡çŒ®
1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Merge Request

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd knowledge-engineering

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements.txt
pip install -e .

# è®¾ç½®CLIå·¥å…·æƒé™
chmod +x bin/kengine_cli

# è¿è¡Œæµ‹è¯•
python run_tests.py

# å¯åŠ¨å¼€å‘æœåŠ¡
python chat_server.py &
cd web && npm run dev
```

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 Python ä»£ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æç¤º (Type Hints)
- ç¼–å†™å®Œæ•´çš„æ–‡æ¡£å­—ç¬¦ä¸²
- æ·»åŠ é€‚å½“çš„å•å…ƒæµ‹è¯•
- æäº¤å‰è¿è¡Œæµ‹è¯•å¥—ä»¶

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.1.0 (æœ€æ–°)
- âœ¨ å®Œå–„äº†CLIå·¥å…·æ–‡æ¡£å’Œä½¿ç”¨è¯´æ˜
- âœ¨ æ–°å¢ `classification` æ‰§è¡Œæ­¥éª¤æ”¯æŒ
- âœ¨ ä¼˜åŒ–äº†é”™è¯¯å¤„ç†å’Œç”¨æˆ·ä½“éªŒ
- ğŸ“š é‡æ–°æ•´ç†äº†READMEæ–‡æ¡£ç»“æ„
- ğŸ› ä¿®å¤äº†ExecuteStepæšä¸¾å®šä¹‰é—®é¢˜

### v2.0.0
- âœ¨ æ–°å¢ç»Ÿä¸€çš„CLIå·¥å…· `kengine_cli`
- âœ¨ æ”¯æŒå¤šç§æ‰§è¡Œæ­¥éª¤ (classification, overview, catalogue, document, full)
- âœ¨ æ–°å¢ ChatRhino-81B-Pro æ¨¡å‹æ”¯æŒ
- âœ¨ ä¼˜åŒ–äº†é”™è¯¯å¤„ç†å’Œç”¨æˆ·ä½“éªŒ
- ğŸ› ä¿®å¤äº†CLIå‚æ•°è§£æçš„å¤šä¸ªé—®é¢˜
- ğŸ“š å®Œå–„äº†æ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹

### v1.5.0
- âœ¨ æ–°å¢ Hybrid ç”Ÿæˆç­–ç•¥
- âœ¨ æ”¯æŒ AWS Claude Sonnet 4 æ¨¡å‹
- âœ¨ ä¼˜åŒ–äº†RAGæ£€ç´¢æ€§èƒ½
- ğŸ› ä¿®å¤äº†å¤šè¯­è¨€æ–‡æœ¬ç¼–ç é—®é¢˜

### v1.0.0
- ğŸ‰ é¦–ä¸ªç¨³å®šç‰ˆæœ¬å‘å¸ƒ
- âœ¨ å®Œæ•´çš„é¡¹ç›®åˆ†ç±»å’Œæ–‡æ¡£ç”ŸæˆåŠŸèƒ½
- âœ¨ Webç•Œé¢å’ŒChatå¯¹è¯åŠŸèƒ½
- âœ¨ å®Œæ•´çš„æµ‹è¯•å¥—ä»¶

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼

---

**é¡¹ç›®ç»´æŠ¤è€…**: çŸ¥è¯†å·¥ç¨‹å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025-08-03  
**ç‰ˆæœ¬**: v2.1.0
