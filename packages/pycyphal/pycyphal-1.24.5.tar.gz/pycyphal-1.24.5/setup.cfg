[metadata]
name = pycyphal
version = attr: pycyphal._version.__version__
author = OpenCyphal
author_email = consortium@opencyphal.org
url = https://opencyphal.org
description = A full-featured implementation of the Cyphal protocol stack in Python.
long_description = file: README.md
long_description_content_type = text/markdown
license = MIT
keywords = 
	cyphal
	opencyphal
	uavcan
	pub-sub
	publish-subscribe
	data-bus
	can-bus
	ethernet
	vehicular
	onboard-networking
	avionics
	communication-protocol
	broker
classifiers = 
	Intended Audience :: Developers
	Topic :: Scientific/Engineering
	Topic :: Software Development :: Embedded Systems
	Topic :: Software Development :: Libraries :: Python Modules
	Topic :: Software Development :: Object Brokering
	Topic :: System :: Distributed Computing
	Topic :: System :: Networking
	License :: OSI Approved :: MIT License
	Programming Language :: Python
	Programming Language :: Python :: 3
	Operating System :: OS Independent
	Typing :: Typed

[options.entry_points]
console_scripts = 
	cyphal-serial-broker = pycyphal.util._broker:main

[options.extras_require]
transport-can-pythoncan = 
	python-can[serial] ~= 4.0
transport-serial = 
	pyserial ~= 3.5
	cobs     ~= 1.1.4
transport-udp = 
	libpcap >= 0.0.0b0, < 2.0.0

[options]
zip_safe = False
include_package_data = True
packages = find:
install_requires = 
	nunavut ~= 2.3
	numpy   ~= 2.2

[options.packages.find]
include = 
	pycyphal
	pycyphal.*

[options.package_data]
pycyphal = py.typed
* = 
	*
	*/*
	*/*/*
	*/*/*/*
	*/*/*/*/*

[tool:pytest]
norecursedirs = 
	tests/util/import_error
testpaths = pycyphal tests
python_files = *.py
python_classes = _UnitTest
python_functions = _unittest_
log_level = DEBUG
log_cli_level = WARNING
log_cli = true
log_file = pytest.log
addopts = --doctest-modules -v
filterwarnings = 
	ignore:invalid value encountered in multiply:RuntimeWarning
	ignore:Creating a LegacyVersion has been deprecated and will be removed in the next major release:DeprecationWarning
	ignore:.*experimental extension.*:RuntimeWarning
	ignore:SelectableGroups dict interface is deprecated. Use select.:DeprecationWarning
	ignore:.*event loop.*:DeprecationWarning
	ignore:.*pkg_resources.*:DeprecationWarning
	ignore:.*FileClient.*:DeprecationWarning
	ignore:.*nunavut.*:DeprecationWarning
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

[mypy]
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
check_untyped_defs = True
no_implicit_optional = True
warn_redundant_casts = True
warn_unused_ignores = False
show_error_context = True
strict_equality = False
strict = True
implicit_reexport = False
mypy_path = 
	.compiled

[mypy-nunavut_support]
ignore_errors = True

[mypy-pytest]
ignore_errors = True
ignore_missing_imports = True

[mypy-pydsdl]
ignore_errors = True
ignore_missing_imports = True

[mypy-nunavut]
ignore_errors = True
ignore_missing_imports = True

[mypy-nunavut.*]
ignore_errors = True
ignore_missing_imports = True

[mypy-test_dsdl_namespace.*]
ignore_errors = True
ignore_missing_imports = True

[mypy-numpy]
ignore_errors = True
ignore_missing_imports = True

[mypy-ruamel.*]
ignore_missing_imports = True
implicit_reexport = True

[mypy-serial]
ignore_errors = True
ignore_missing_imports = True

[mypy-coloredlogs]
ignore_errors = True
ignore_missing_imports = True

[mypy-can]
ignore_errors = True
ignore_missing_imports = True
follow_imports = skip

[coverage:run]
data_file = .coverage
branch = True
parallel = True
source = 
	pycyphal
	tests
disable_warnings = 
	module-not-imported

[coverage:report]
exclude_lines = 
	pragma: no cover
	def __repr__
	raise AssertionError
	raise NotImplementedError
	return NotImplemented
	assert False
	if False:
	if __name__ == .__main__.:
	if .*TYPE_CHECKING:

[pylint.MASTER]
ignore-paths = ^.*/\.compiled/.*$
fail-under = 9.9

[pylint.MESSAGES CONTROL]
confidence = UNDEFINED
disable = 
	cyclic-import,
	useless-import-alias,
	f-string-without-interpolation,
	import-outside-toplevel,
	fixme,
	inconsistent-return-statements,
	unbalanced-tuple-unpacking,
	no-name-in-module,
	misplaced-comparison-constant,
	superfluous-parens,
	unsubscriptable-object,
	too-few-public-methods,
	too-many-arguments,
	too-many-instance-attributes,
	too-many-return-statements,
	too-many-public-methods,
	too-many-statements,
	too-many-locals,
	use-implicit-booleaness-not-comparison,
	unexpected-keyword-arg

[pylint.REPORTS]
output-format = colorized

[pylint.DESIGN]
max-branches = 20

[pylint.FORMAT]
max-line-length = 120
max-module-lines = 3000

[pylint.BASIC]
bad-names = 
variable-rgx = [a-z_][a-z0-9_]*

[pylint.SIMILARITIES]
min-similarity-lines = 30

[pylint.EXCEPTIONS]
overgeneral-exceptions = builtins.BaseException

[doc8]
ignore-path = docs/api,./.nox,./pycyphal.egg-info
max-line-length = 120
ignore = D000,D002,D004

[egg_info]
tag_build = 
tag_date = 0

