# -*- coding: utf-8 -*-

"""
googlemapsplatformcoreapis

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

from googlemapsplatformcoreapis.api_helper import APIHelper
from googlemapsplatformcoreapis.configuration import Server
from googlemapsplatformcoreapis.controllers.base_controller import BaseController
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.parameter import Parameter
from googlemapsplatformcoreapis.http.http_method_enum import HttpMethodEnum
from apimatic_core.authentication.multiple.single_auth import Single
from googlemapsplatformcoreapis.models.m_200_ok_14 import M200OK14
from googlemapsplatformcoreapis.exceptions.m_400_badrequest_exception import M400BADREQUESTException
from googlemapsplatformcoreapis.exceptions.m_404_notfound_exception import M404NOTFOUNDException


class GeolocationAPIController(BaseController):

    """A Controller to access Endpoints in the googlemapsplatformcoreapis API."""
    def __init__(self, config):
        super(GeolocationAPIController, self).__init__(config)

    def geolocate(self,
                  accept,
                  body):
        """Does a POST request to /geolocate.

        Geolocation API returns a location and accuracy radius based on
        information about cell towers and WiFi nodes that the mobile client
        can detect. This document describes the protocol used to send this
        data to the server and to return a response to the client.
        Communication is done over HTTPS using POST. Both request and response
        are formatted as JSON, and the content type of both is
        `application/json`.
        You must specify a key in your request, included as the value of
        a`key` parameter. A `key` is your application's  API key. This key
        identifies your application for purposes of quota management. Learn
        how to [get a
        key](https://developers.google.com/maps/documentation/geolocation/get-a
        pi-key).

        Args:
            accept (str): The request header parameter.
            body (Geolocaterequest): The request body parameter.

        Returns:
            M200OK14: Response from the API.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SERVER_4)
            .path('/geolocate')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .header_param(Parameter()
                          .key('Accept')
                          .value(accept))
            .body_param(Parameter()
                        .value(body))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('apiKey'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(M200OK14.from_dictionary)
            .local_error('400', 'Bad Request', M400BADREQUESTException)
            .local_error('404', 'Not Found', M404NOTFOUNDException)
        ).execute()
