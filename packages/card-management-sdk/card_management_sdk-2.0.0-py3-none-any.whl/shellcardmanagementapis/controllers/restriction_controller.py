# -*- coding: utf-8 -*-

"""
shellcardmanagementapis

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

from shellcardmanagementapis.api_helper import APIHelper
from shellcardmanagementapis.configuration import Server
from shellcardmanagementapis.controllers.base_controller import BaseController
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.parameter import Parameter
from shellcardmanagementapis.http.http_method_enum import HttpMethodEnum
from apimatic_core.authentication.multiple.single_auth import Single
from shellcardmanagementapis.models.search_card_restriction_res_1 import SearchCardRestrictionRes1
from shellcardmanagementapis.models.card_restriction_res import CardRestrictionRes
from shellcardmanagementapis.models.create_bundle_res import CreateBundleRes
from shellcardmanagementapis.models.update_bundle_res import UpdateBundleRes
from shellcardmanagementapis.models.delete_bundle_response import DeleteBundleResponse
from shellcardmanagementapis.models.summaryofbundle_res import SummaryofbundleRes
from shellcardmanagementapis.models.account_restriction_res import AccountRestrictionRes
from shellcardmanagementapis.models.search_account_limit_res import SearchAccountLimitRes
from shellcardmanagementapis.models.bundle_details import BundleDetails
from shellcardmanagementapis.exceptions.error_object_error_exception import ErrorObjectErrorException


class RestrictionController(BaseController):

    """A Controller to access Endpoints in the shellcardmanagementapis API."""
    def __init__(self, config):
        super(RestrictionController, self).__init__(config)

    def search_card_restriction(self,
                                request_id,
                                body=None):
        """Does a POST request to /card-restrictions/v1/search.

        This API will allows querying card details including the day/time and
        product restrictions.
        #### Supported operations
          * Search by list of cards or bundle
          * Include card bundle details (optional)

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (SearchCardRestrictionReq1, optional): Restriction search
                card request body

        Returns:
            SearchCardRestrictionRes1: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/search')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(SearchCardRestrictionRes1.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()

    def apply_restriction(self,
                          request_id,
                          body=None):
        """Does a POST request to /card-restrictions/v1/update.

        The Card Limit and Restriction API is REST-based and employs Basic and
        ApiKey authentication. The API endpoints accept JSON-encoded request
        bodies, return JSON-encoded responses and use standard HTTP response
        codes. 
        All resources are located in the Shell Card Platform.  The Shell Card
        Platform is the overall platform that encompasses all the internal
        Shell systems used to manage resources. The internal workings of the
        platform are not important when interacting with the API. However, it
        is worth noting that the platform uses to communicate with various
        backend systems and some API calls are processed asynchronously.
        All endpoints use the `POST` verb for retrieving, updating, creating
        and deleting resources in the Shell Card Platform. The endpoints that
        retrieve resources from the Shell Card Platform allow flexible search
        parameters in the API request body.
        **Important Note** - This operation allows setting or updating the
        restrictions on existing cards. (For up to 3 cards in a single call).
        All restrictions of the cards are submitted and executed after
        successful below condition.
        •    The card exists.
        •    Day time restriction cannot be set to restrict the use of a card
        on all days of the week i.e., the values for all the days in the
        restriction cannot be set to false.
        •    Either of the usage, daytime, location or product restriction
        ‘Reset’ is set to ‘True’ or applied on the card.
        •    All the limits in the usage restriction profile for a card is not
        set to ‘0’/null.
        •    If IsVelocityCeiling is ‘true’, API will validate below condition:
        Usage restrictions for a card are lower than Customer Card Type level
        limits, if there are no customer level overrides available then lower
        than OU card type limits.
        •    In usage restrictions, the limits per transaction should be less
        than or equal to Daily, Daily should be less than or equal to Weekly,
        Weekly should be less than or equal to Monthly, Monthly should be less
        than or equal to Yearly (Annually). Exception being null/blank will be
        skipped. i.e., Daily value should be less than equal to Monthly value
        if Weekly value is null/blank. Lifetime limit is not considered for
        usage restrictions limits validation.
        •    Apply the card type limit to Gateway when a value is NULL in the
        input. However, if the card type limit is NULL for the same field,
        then no limit will be applied in Gateway.
        •    If ‘SetDefaultOnVelocityUpdate’ is ‘true’ then the operation will
        apply customer cardtype or OU level velocity limits on existing cards
        when restrictions are modified without providing custom values for all
        fields.

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (CardRestrictionReq, optional): Card Restriction request body

        Returns:
            CardRestrictionRes: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/update')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(CardRestrictionRes.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()

    def create_bundle(self,
                      request_id,
                      body=None):
        """Does a POST request to /card-restrictions/v1/createbundle.

        This API enables clients to create a new card bundle and apply
        restrictions.
        #### Supported operations
          * Create bundle and include mandatory -
            * Usage, day/time, product and location restrictions
            * List of cards to add to bundle
          * Create bundle and include optional identifier of bundle in
        external system
        #### Validation rules
          The following are the key validation rules with the associated error
        codes for failed validation-
          * `7012` - At least one card must be added to the bundle
          *  `7011` - The total number of cards passed in the input must be
        500 or less.
          *  `7014` - All the cards passed in the input are part of the
        selected account.
          *  `7013` - At least one restriction must be applied to the bundle
        i.e. either of usage, day/time, location or product restriction.
          *  `7005` - Day time restriction cannot be set to restrict the use
        of a card on all days of the week.
          *  `7000` - Usage restriction of the bundle is not open ended i.e.
        all the limits within the usage restriction must not be set to 0/null.
          *  `7004` - In the usage restrictions, the limits per transaction
        should be less than or equal to Daily, Daily should be less than or
        equal to Weekly, Weekly should be less than or equal to Monthly.
        Exception being 0/blank will be skipped, i.e. Daily value should be
        less than equal to Monthly value if Weekly value is 0/blank. 
          *  `0007` - Error returned if request parameters fail validation
        e.g. mandatory check.

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (CreateBundleRequest, optional): CreateBundle request body

        Returns:
            CreateBundleRes: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/createbundle')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(CreateBundleRes.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()

    def update_bundle(self,
                      request_id,
                      body=None):
        """Does a POST request to /card-restrictions/v1/updatebundle.

        This API enables clients to update an existing card bundle and its
        associated restrictions.
        #### Supported operations
          * Add new cards to an existing bundle
          * Remove cards from existing bundle
          * Update restrictions applied to existing bundle
          The following are the key validation rules with the associated error
        codes for failed validation-      
        #### Validation rules
          *  `9007` - The cards must exist in the cards platform for adding or
        removing cards.
          *  `7014` - All the cards passed in the input are part of the
        selected account.
          *  `7018` - All the cards passed in the input are part of the
        selected bundle.
          *  `7011` - The total number of cards passed in the input must be
        500 or less.
          *  `7012` - The action to remove cards should not result in removing
        all the cards from the bundle.
          *  `7016` - At least one restriction must be modified for
        â€œUpdateâ€ request action.
          *  `7013` - All restrictions cannot be marked for â€œResetâ€ for
        â€œUpdateâ€ request action.
          *  `7005` - Day time restriction cannot be set to restrict the use
        of a card on all days of the week. This validation is applicable for
        Update request action.
          *  `7000` - Usage restriction of the bundle is not open ended i.e.,
        all the limits within the usage restriction must not be set to 0/null.
        This validation is applicable for Update request action.
          *  `7004` - In the usage restrictions, the limits per transaction
        should be less than or equal to Daily, Daily should be less than or
        equal to Weekly, Weekly should be less than or equal to Monthly.
        Exception being 0/blank will be skipped, i.e., Daily value should be
        less than equal to Monthly value if Weekly value is 0/blank. This
        validation is applicable for Update request action.
          *  `0007` - Error returned if request parameters fail validation
        e.g. at least one card must be provided in the input.

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (UpdateBundleRequest, optional): Update Bundle request body

        Returns:
            UpdateBundleRes: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/updatebundle')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(UpdateBundleRes.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()

    def delete_bundle(self,
                      request_id,
                      body=None):
        """Does a POST request to /card-restrictions/v1/deletebundle.

        This API enables clients to delete an existing card bundle in the
        Shell Card Platform. Once the card bundle is deleted the usage and
        product restrictions of the cards that were present in the bundle will
        be reset based on the request.
        #### Supported operations
          * Delete card bundle by bundle Id
        #### Validation rules
          The following are the key validation rules with the associated error
        codes for failed validation-
          *  `7019` - The given card bundle is not available in the Shell Card
        Platform. 
          *  `0007` - Error returned if request parameters fail validation
        e.g. mandatory check.

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (DeleteBundleRequest, optional): Update Bundle request body

        Returns:
            DeleteBundleResponse: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/deletebundle')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DeleteBundleResponse.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()

    def summary_of_bundles(self,
                           request_id,
                           body=None):
        """Does a POST request to /card-restrictions/v1/summaryofbundles.

        This API allows clients to get a summary of card bundles associated
        with Payer/Account. This API will return the basic bundle details
        including card and restriction details. Optionally the API will also
        include a count of cards that are not associated with the bundle but
        returned by the search criteria.
        Note - to include count of cards of an account that are not associated
        with any bundles, in the input parameter SearchCardBundles either pass
        all the bundles of the account in the list or pass only account with
        bundle id left blank/null.
        #### Supported operations
          * Get summary of bundles by list of bundle Ids

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (SummaryofbundlerRequest, optional): Summary of Bundle
                request body

        Returns:
            SummaryofbundleRes: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/summaryofbundles')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(SummaryofbundleRes.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()

    def restriction_account(self,
                            request_id,
                            body=None):
        """Does a POST request to /card-restrictions/v1/account.

        This API allows setting or updating the usage restrictions of an
        existing account. 
        Then validation rules applied for this API.
        •    The account exists.
        •    Day time restriction cannot be set to restrict the use of a card,
        under the account, on all days of the week.
        •    Either of the usage, daytime or location is either marked for
        reset or new restriction values provided for the account.
        •    In usage restrictions, the limits per transaction should be less
        than or equal to Daily, Daily should be less than or equal to Weekly,
        Weekly should be less than or equal to Monthly. Exception being
        0/blank will be skipped, i.e., Daily value should be less than equal
        to Monthly value if Weekly value is 0/blank.

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (AccountRestrictionRequest, optional): Account Restriction
                request body

        Returns:
            AccountRestrictionRes: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/account')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(AccountRestrictionRes.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()

    def search_account_limit(self,
                             request_id,
                             body=None):
        """Does a POST request to /card-restrictions/v1/searchaccountlimit.

        This API will allow user to get account level limits for the given
        account. It returns the velocity limits if its overridden at the
        account else the values will be null/empty.

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (SearchAccountLimitRequest, optional): Search Account Limit
                RequestBody

        Returns:
            SearchAccountLimitRes: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/searchaccountlimit')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(SearchAccountLimitRes.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()

    def bundle_details(self,
                       request_id,
                       body=None):
        """Does a POST request to /card-restrictions/v1/bundledetails.

        This API allows to get the details of a specific card bundle. It
        returns the bundle basic details along with the cards in the bundle
        and restrictions applied on them.

        Args:
            request_id (str): Mandatory UUID (according to RFC 4122 standards)
                for requests and responses. This will be played back in the
                response from the request.
            body (BudleDetailsReq, optional): Bundle Details Request body

        Returns:
            BundleDetails: Response from the API. OK

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.SHELL)
            .path('/card-restrictions/v1/bundledetails')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('RequestId')
                          .value(request_id))
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
            .auth(Single('BearerToken'))
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(BundleDetails.from_dictionary)
            .local_error('400', 'The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).\n', ErrorObjectErrorException)
            .local_error('401', 'The request has not been applied because it lacks valid  authentication credentials for the target resource.\n', ErrorObjectErrorException)
            .local_error('403', 'Forbidden', ErrorObjectErrorException)
            .local_error('404', 'The origin server did not find a current representation  for the target resource or is not willing to disclose  that one exists.\n', ErrorObjectErrorException)
            .local_error('500', 'The server encountered an unexpected condition that  prevented it from fulfilling the request.\n', ErrorObjectErrorException)
        ).execute()
