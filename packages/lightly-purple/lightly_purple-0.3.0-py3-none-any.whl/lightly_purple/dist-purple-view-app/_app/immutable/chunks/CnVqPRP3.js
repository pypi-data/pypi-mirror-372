import{g as u,w as e,d as w,r as n}from"./B9NWxkPv.js";import{c as h}from"./BzArsHZA.js";import{u as L}from"./C2RVOhm1.js";const o=e(new Set);function _(f){const{dataset_id:r,kind:i}=f,{tags:l}=L(),d=e(!1),c=e(null),s=e(!1),g=()=>{u(s)||(s.set(!0),h.GET("/api/datasets/{dataset_id}/tags",{params:{path:{dataset_id:r}}}).then(t=>{t.data&&l.set(t.data)}).catch(t=>{c.set(t)}).finally(()=>{s.set(!1)}))};!u(d)&&r&&(g(),d.set(!0));const S=w(l,t=>{const a=t??[];return i?a.filter(T=>i.includes(T.kind)):a}),m=t=>{o.update(a=>(a.has(t)?a.delete(t):a.add(t),new Set([...a])))},p=()=>{o.set(new Set)};return{tags:n(S),loadTags:g,tagsSelected:n(o),tagSelectionToggle:m,clearTagsSelected:p,isLoading:n(s),error:c}}export{_ as u};
