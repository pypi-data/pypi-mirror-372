Metadata-Version: 2.4
Name: libgen_api_enhanced
Version: 1.2.0
Summary: Search Library genesis by Title or Author
Home-page: https://github.com/onurhanak/libgen-api-enhanced
Author: Onurhan Ak
Author-email: 
License: MIT
Keywords: libgen search,libgen api,search libgen,search library genesis
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Libraries
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: bs4
Requires-Dist: requests
Dynamic: author
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: license
Dynamic: license-file
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

<h1>LibgenAPI Enhanced</h1>

Search Library Genesis programmatically using an enhanced Python library. This fork extends the original `libgen-api` by [Harrison Broadbent](https://github.com/harrison-broadbent/libgen-api) with added features like direct download links and book cover links. It also returns 100 results by default, instead of 25.

## Contents

- [Getting Started](#getting-started)
- [Search Types and Topics](#search-types-and-topics)
  - [Search Types](#search-types)
  - [Search Topics](#search-topics)
- [Basic Searching](#basic-searching)
- [Filtered Searching](#filtered-searching)
  - [Filtered Title Searching](#filtered-title-searching)
  - [Filtered Author Searching](#filtered-author-searching)
  - [Non-exact Filtered Searching](#non-exact-filtered-searching)
- [Getting Direct Download Links](#getting-direct-download-links)
- [Results Layout](#results-layout)
- [Contributors](#contributors)

## Getting Started

Install the package:

```
pip install libgen-api-enhanced
```

## Search Types and Topics

The new version provides search configuration options for further narrowing down your queries.

### Search Types

Control which fields are searched:

```python
from libgen_api_enhanced import SearchType

SearchType.TITLE    # search in titles only
SearchType.AUTHOR   # search in authors only
SearchType.DEFAULT  # search across title, author, series, year, publisher, and ISBN
```

### Search Topics

Specify which Libgen topics to search:

```python
from libgen_api_enhanced import SearchTopic

# topics:
SearchTopic.LIBGEN
SearchTopic.COMICS
SearchTopic.FICTION
SearchTopic.ARTICLES
SearchTopic.MAGAZINES
SearchTopic.FICTION_RUS
SearchTopic.STANDARDS
```

## Choosing Libgen Mirror

The library by default uses the .li mirror. You can pass any mirror extension you like (as long as the website structure is the same) such as: .bz, .gs etc. when initializng LibgenSearch() like so:

```python
from libgen_api_enhanced import LibgenSearch

s = LibgenSearch(mirror="bz")
```

## Basic Searching:

Use the default search or search by title or author:

### Default:

```python
# search_default()

from libgen_api_enhanced import LibgenSearch
s = LibgenSearch()
results = s.search_default("Pride and Prejudice") # a list of Book objects
```

### Title:

```python
# search_title()

from libgen_api_enhanced import LibgenSearch
s = LibgenSearch()
results = s.search_title("Pride and Prejudice") # a list of Book objects
```

### Author:

```python
# search_author()

from libgen_api_enhanced import LibgenSearch
s = LibgenSearch()
results = s.search_author("Jane Austen") # a list of Book objects
```

### Using SearchRequest Directly with Enums:

```python
from libgen_api_enhanced import SearchRequest, SearchType, SearchTopic

# search only in fiction and comics
search_topics = [SearchTopic.FICTION, SearchTopic.COMICS]
req = SearchRequest(
    query="Douglas Adams",
    search_type=SearchType.AUTHOR,
    search_in=search_topics
)
results = req.aggregate_request_data_libgen()
```

### Specifying Search Topics:

```python
from libgen_api_enhanced import LibgenSearch, SearchTopic

s = LibgenSearch()

# search only in specific topics
my_topics = [SearchTopic.LIBGEN, SearchTopic.ARTICLES]
results = s.search_title("quantum physics", search_in=my_topics)

# search only in fiction
fiction_results = s.search_author("Isaac Asimov", search_in=[SearchTopic.FICTION])
```

### Backwards Compatibility:

All existing string-based calls still work:

```python
results = s.search_title("Pride and Prejudice") # works exactly as before
results = s.search_author("Jane Austen", search_in=["libgen", "fiction"])
```

## Filtered Searching

- You can define a set of filters, and then use them to filter the search results that get returned.
- By default, filtering will remove results that do not match the filters exactly (case-sensitive)
  - This can be adjusted by setting `exact_match=False` when calling one of the filter methods, which allows for case-insensitive and substring filtering.

### Filtered Title Searching

```python
# search_title_filtered()

from libgen_api_enhanced import LibgenSearch, SearchTopic

tf = LibgenSearch()
title_filters = {"year": "2007", "extension": "epub"}

# search only in fiction database
fiction_topics = [SearchTopic.FICTION]
titles = tf.search_title_filtered(
    "Pride and Prejudice",
    title_filters,
    exact_match=True,
    search_in=fiction_topics
)
```

### Filtered Author Searching

```python
# search_author_filtered()

from libgen_api_enhanced import LibgenSearch, SearchTopic

af = LibgenSearch()
author_filters = {"language": "German", "year": "2009"}

# search in multiple topics
search_topics = [SearchTopic.LIBGEN, SearchTopic.FICTION]
titles = af.search_author_filtered(
    "Agatha Christie",
    author_filters,
    exact_match=True,
    search_in=search_topics
)
```

### Non-exact Filtered Searching

```python
# search_author_filtered(exact_match = False)

from libgen_api_enhanced import LibgenSearch, SearchTopic

ne_af = LibgenSearch()
partial_filters = {"year": "200"}

string_topics = ["libgen", "fiction"]  # str format
enum_topics = [SearchTopic.LIBGEN, SearchTopic.FICTION]  # enum format

titles = ne_af.search_author_filtered(
    "Agatha Christie",
    partial_filters,
    exact_match=False,
    search_in=enum_topics  # or string_topics
)
```
## Getting Direct Download Links

The previous books.ms source is no longer available, so this package now provides two options:

- tor_download_link — a prebuilt direct link to the Libgen onion mirror.
- resolved_download_link — a direct HTTP link resolved at runtime from one of the available mirrors.

Example:

```python
from libgen_api_enhanced import LibgenSearch

s = LibgenSearch()
results = s.search_default("Pride and Prejudice")  # returns a list of Book objects

book = results[0]

# Option 1: Use the prebuilt onion mirror link
print(book.tor_download_link)

# Option 2: Resolve an HTTP direct download link from a mirror
book.resolve_direct_download_link()
print(book.resolved_download_link)
```

## Results Layout

Results are returned as a list of Book objects:

```
[
    Book(
        id="123456",
        title="Title",
        author="John Smith",
        publisher="Publisher",
        year="2021",
        language="German",
        pages="410",
        size="1005 Kb",
        extension="epub",
        md5="ABCDEF1234567890",
        mirrors=[
            "http://example.com/mirror1",
            "http://example.com/mirror2",
            "http://example.com/mirror3",
            "http://example.com/mirror4"
        ],
        tor_download_link="http://example.com/tor",
        resolved_download_link="http://example.com/direct"
    )
]
```

## Contributors

Please don't hesitate to raise an issue, or fork this project and improve on it.

Thanks to the following people:

- [harrison-broadbent](https://github.com/harrison-broadbent) who wrote the original Libgen API.
- [calmoo](https://github.com/calmoo)
- [HENRYMARTIN5](https://github.com/HENRYMARTIN5)
