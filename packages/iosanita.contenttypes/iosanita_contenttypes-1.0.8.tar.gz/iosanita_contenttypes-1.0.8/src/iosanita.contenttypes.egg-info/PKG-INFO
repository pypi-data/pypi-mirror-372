Metadata-Version: 2.4
Name: iosanita.contenttypes
Version: 1.0.8
Summary: An add-on for Plone
Home-page: https://github.com/collective/iosanita.contenttypes
Author: RedTurtle Technology
Author-email: sviluppo@redturtle.it
License: GPL version 2
Project-URL: PyPI, https://pypi.org/project/iosanita.contenttypes/
Project-URL: Source, https://github.com/collective/iosanita.contenttypes
Project-URL: Tracker, https://github.com/collective/iosanita.contenttypes/issues
Keywords: Python Plone CMS
Classifier: Development Status :: 5 - Production/Stable
Classifier: Environment :: Web Environment
Classifier: Framework :: Plone
Classifier: Framework :: Plone :: Addon
Classifier: Framework :: Plone :: 6.0
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Operating System :: OS Independent
Classifier: License :: OSI Approved :: GNU General Public License v2 (GPLv2)
Requires-Python: >=3.7
License-File: LICENSE
License-File: LICENSE.GPL
License-File: LICENSE.rst
Requires-Dist: setuptools
Requires-Dist: plone.api>=1.8.4
Requires-Dist: plone.app.dexterity
Requires-Dist: collective.volto.blocksfield>=2.2.0
Requires-Dist: collective.z3cform.datagridfield
Requires-Dist: redturtle.volto
Requires-Dist: redturtle.bandi
Requires-Dist: plone.restapi
Requires-Dist: collective.taxonomy
Requires-Dist: collective.address
Requires-Dist: collective.geolocationbehavior
Requires-Dist: collective.volto.enhancedlinks
Requires-Dist: weasyprint
Provides-Extra: test
Requires-Dist: plone.app.testing; extra == "test"
Requires-Dist: collective.volto.blocksfield; extra == "test"
Requires-Dist: plone.testing>=5.0.0; extra == "test"
Requires-Dist: plone.app.contenttypes; extra == "test"
Requires-Dist: plone.app.robotframework[debug]; extra == "test"
Requires-Dist: collective.MockMailHost; extra == "test"
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: home-page
Dynamic: keywords
Dynamic: license
Dynamic: license-file
Dynamic: project-url
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

.. This README is meant for consumption by humans and PyPI. PyPI can render rst files so please do not use Sphinx features.
   If you want to learn more about writing documentation, please check out: http://docs.plone.org/about/documentation_styleguide.html
   This text does not appear on PyPI or github. It is a comment.

.. image:: https://github.com/collective/iosanita.contenttypes/actions/workflows/plone-package.yml/badge.svg
    :target: https://github.com/collective/iosanita.contenttypes/actions/workflows/plone-package.yml

.. image:: https://coveralls.io/repos/github/collective/iosanita.contenttypes/badge.svg?branch=main
    :target: https://coveralls.io/github/collective/iosanita.contenttypes?branch=main
    :alt: Coveralls

.. image:: https://codecov.io/gh/collective/iosanita.contenttypes/branch/master/graph/badge.svg
    :target: https://codecov.io/gh/collective/iosanita.contenttypes

.. image:: https://img.shields.io/pypi/v/iosanita.contenttypes.svg
    :target: https://pypi.python.org/pypi/iosanita.contenttypes/
    :alt: Latest Version

.. image:: https://img.shields.io/pypi/status/iosanita.contenttypes.svg
    :target: https://pypi.python.org/pypi/iosanita.contenttypes
    :alt: Egg Status

.. image:: https://img.shields.io/pypi/pyversions/iosanita.contenttypes.svg?style=plastic   :alt: Supported - Python Versions

.. image:: https://img.shields.io/pypi/l/iosanita.contenttypes.svg
    :target: https://pypi.python.org/pypi/iosanita.contenttypes/
    :alt: License


=======================
IO-Sanita content-types
=======================

Gestione dei content-type di Io-Sanita

Correlazioni tra content-type
=============================

Unità Organizzative
-------------------

Alcuni content-type tipo Servizio o Struttura, hanno una correlazione con le Unità organizzative.

Da un'Unità organizzativa, è possibile sapere quali contenuti la correlano facendo una ricerca in catalogo sull'indice **uo_correlata**.

Ad esempio::

    > http://localhost:8080/Plone/++api++/@search?uo_correlata_uid=xxx


Dove xxx è l'uid di una Unità organizzativa.

Questa chiamata ritorna tutti i contenuti del sito che correlano quell'Unità Organizzativa.
Essendo una ricerca, il risultato è paginato a 25 di default, ma si può aumentare con determinati parametri.

Si può anche filtrare per un determinato tipo di contenuto, aggiungendo alla query per esempio: *&portal_type=Servizio*.


Strutture
---------

Alcuni content-type tipo Servizio o Struttura, hanno una correlazione con le Strutture.

Da una Struttura, è possibile sapere quali contenuti la correlano facendo una ricerca in catalogo sull'indice **struttura_correlata**.

Ad esempio::

    > http://localhost:8080/Plone/++api++/@search?struttura_correlata_uid=xxx


Dove xxx è l'uid di una Struttura.

Questa chiamata ritorna tutti i contenuti del sito che correlano quella Struttura.
Essendo una ricerca, il risultato è paginato a 25 di default, ma si può aumentare con determinati parametri.

Si può anche filtrare per un determinato tipo di contenuto, aggiungendo alla query per esempio: *&portal_type=Servizio*.

Expander view-extra-data
========================

E' un expander che aggiunge dei dati extra alla serializzazione di un content-type.

A seconda del tipo di contenuto, possono esserci dei dati differenti, a seconda di quello che serve al frontend.

back-references
---------------

Lista delle back-references dei vari contenuti suddivise per tipo di contenuto.

Questo expander ritorna però solamente al massimo 25 elementi.
Se il contenuto ne ha di più, c'è da usare il metodo indicato sopra, e fare una chiamata a parte con la ricerca e la paginazione.

Bando
-----

Per i bandi, ci sono due info aggiuntive:

- approfondimenti
- stato_bando


Migrazione da vecchi siti
=========================

C'è un'interfaccia (*IoSanitaMigrationMarker*) che se implementata dalla REQUEST, disattiva alcuni eventi/verifiche di sicurezza
sui content-type appena creati.

Questo serve per esempio in fase di migrazione. Basta applicare l'interfaccia alla request nella procedura di import::

    from iosanita.contenttypes.interfaces import IoSanitaMigrationMarker

    ...
    alsoProvides(self.request, IoSanitaMigrationMarker)


Installazione
=============

Per installare iosanita.contenttypes bisogna per prima cosa aggiungerlo al buildout::

    [buildout]

    ...

    eggs =
        iosanita.contenttypes


e poi lanciare il buildout con ``bin/buildout``.

Successivamente va installato dal pannello di controllo di Plone.


Contribuisci
============

- Issue Tracker: https://github.com/redturtle/iosanita.contenttypes/issues
- Codice sorgente: https://github.com/redturtle/iosanita.contenttypes


Licenza
=======

Questo progetto è rilasciato con licenza GPLv2.

Autori
======

Questo progetto è stato sviluppato da **RedTurtle Technology**.

.. image:: https://avatars1.githubusercontent.com/u/1087171?s=100&v=4
   :alt: RedTurtle Technology Site
   :target: http://www.redturtle.it/


Contributors
============

- RedTurtle Technology, sviluppo@redturtle.it


Changelog
=========


1.0.8 (2025-08-29)
------------------

- Blocco search / variante table - aggiunte le proprietà dei campi nella colonna nel serializer
  [mamico]
- get_taxonomy_vocab non si rompe se non è presente la tassonomia richiesta.
  [cekk]
- Base implementation for CSV/PDF export of tabular data
  [cekk] [mamico]
- Implementation for CSV/PDF export for search block
  [mamico]

1.0.7 (2025-06-18)
------------------

- Struttura CT: return related people as backreferences if flag is enabled in controlpanel. Re-added new "personale_correlato" field to link Persona cts manually.
  [daniele]

1.0.6 (2025-05-29)
------------------

- Remove dependency with auslfe.farmacie.
  [cekk]

1.0.5 (2025-04-22)
------------------

- Install collective.volto.formblocks.
  [cekk]
- Temporary disabled tests because there is a private dependency: auslfe.farmacie.
  [cekk]
- Fixed help label id. Added missing trnslation for related items.
  [daniele]
- Enable kitconcept.seo for plone site.
  [cekk]

1.0.4 (2024-11-22)
------------------

- Add Subject_bando index.
  [cekk]


1.0.3 (2024-11-20)
------------------

- geolocation metadata return None if not set and not an empty dict.
  [cekk]

1.0.2 (2024-11-20)
------------------

- Add NewsItem summary serializer, to return always metadata infos about tipologia_notizia and tipologia_notizia_metadata.
  [cekk]


1.0.1 (2024-11-19)
------------------

- Fix package name.
  [daniele]


1.0.0 (2024-11-19)
------------------

- Initial release.
  [daniele]
