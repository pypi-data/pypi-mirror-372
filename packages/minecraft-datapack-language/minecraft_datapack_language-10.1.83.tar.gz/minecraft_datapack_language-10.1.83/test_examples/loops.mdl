// loops.mdl - Simple loops test
pack "loops" description "Loops test" pack_format 82;

namespace "test";

// Simple number variables
var num counter = 0;
var num max_count = 10;
var num step = 1;

function "main" {
    // Reset counter
    counter = 0;
    
    // Simple while loop
    while "$counter$ < 5" {
        counter = $counter$ + 1;
        say "Counter: $counter$";
    }
    
    // While loop with variable condition
    counter = 0;
    while "$counter$ < $max_count$" {
        counter = $counter$ + $step$;
        say "Step: $counter$";
    }
    
    // For loop (entity iteration)
    for player in @a {
        say "Hello $player$";
        tellraw @s [{"text":"Greeting player: "},{"selector":"@s"}];
    }
    
    // For loop with specific selector
    for zombie in @e[type=zombie] {
        say "Found zombie: $zombie$";
        effect give @s minecraft:glowing 5 0;
    }
    
    // Nested loops
    counter = 0;
    while "$counter$ < 3" {
        say "Outer loop: $counter$";
        
        var num inner = 0;
        while "$inner$ < 2" {
            inner = $inner$ + 1;
            say "  Inner: $inner$";
        }
        
        counter = $counter$ + 1;
    }
}

function "countdown" {
    var num count = 10;
    
    while "$count$ > 0" {
        say "Countdown: $count$";
        count = $count$ - 1;
    }
    
    say "Blast off!";
}

on_tick "test:main";
on_tick "test:countdown";
