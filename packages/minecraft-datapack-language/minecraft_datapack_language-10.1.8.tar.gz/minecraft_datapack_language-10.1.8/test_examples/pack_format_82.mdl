// pack_format_82.mdl - Test pack format 82 with additional metadata
pack "pack_format_82" description "Testing pack format 82 metadata" pack_format 82;

namespace "test";

function "hello" {
    say Hello from pack format 82!;
    tellraw @a {"text":"This pack uses format 82 with additional metadata","color":"green"};
}

function "loop_examples" {
    // Add cooldown to reduce spam - only run every 600 ticks (30 seconds)
    scoreboard players add @s loop_cooldown 1;
    if "score @s loop_cooldown matches ..599" {
        return;
    }
    
    scoreboard players set @s loop_cooldown 0;
    
    // While loop example - count from 1 to 5
    scoreboard players set @s loop_counter 0;
    while "score @s loop_counter matches ..4" {
        scoreboard players add @s loop_counter 1;
        tellraw @s {"text":"While loop iteration: ","color":"yellow"};
        tellraw @s {"score":{"name":"@s","objective":"loop_counter"},"color":"gold"};
    }
    
    // For loop example - iterate over players
    for player in "@a" {
        give @s minecraft:diamond 1;
        tellraw @s {"text":"Gave you a diamond!","color":"green"};
    }
}

// Hook the function to run when the world loads
on_load "test:hello";

// Run loop examples (this will run every tick - you can control frequency in the function itself)
on_tick "test:loop_examples";
