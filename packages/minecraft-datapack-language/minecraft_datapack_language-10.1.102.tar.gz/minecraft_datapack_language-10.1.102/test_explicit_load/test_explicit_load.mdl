// test_explicit_load.mdl - Simplified MDL Project (Minecraft 1.21+)
// Uses pack format 82+ with new directory structure (function/ instead of functions/)
pack "test_explicit_load" "A simplified MDL datapack" 82;

namespace "test_explicit_load";

// Number variables for scoreboard storage
var num player_count = 0;
var num game_timer = 0;
var num player_score = 0;

function "init" {
    // Custom initialization function
    say "Datapack loaded successfully!";
    player_count = 0;
    game_timer = 0;
    say "Scoreboards initialized!";
}

function "main" {
    // Basic variable assignment
    player_count = 0;
    game_timer = 0;
    player_score = 100;
    
    // If statement with variable substitution
    if "$player_score$ > 50" {
        say "Player is doing well!";
    } else {
        say "Player needs to improve!";
    }
}

function "helper" {
    var num result = 0;
    result = 5 + 3;
    say "Calculation result: $result$";
    
    // Variable substitution in tellraw
    tellraw @s [{"text":"Score: "},{"score":{"name":"@s","objective":"player_score"}}];
}

// Hook to run custom init function on load
on_load "test_explicit_load:init";

// Hook to run main function every tick
on_tick "test_explicit_load:main";
