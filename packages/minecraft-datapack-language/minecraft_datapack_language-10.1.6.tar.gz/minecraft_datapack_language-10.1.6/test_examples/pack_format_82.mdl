# pack_format_82.mdl - Test pack format 82 with additional metadata
pack "Pack Format 82 Test" description "Testing pack format 82 metadata" pack_format 82 min_format [82, 0] max_format [82, 1] min_engine_version "1.21.4"

namespace "test"

function "hello":
    say Hello from pack format 82!
    tellraw @a {"text":"This pack uses format 82 with additional metadata","color":"green"}

function "loop_examples":
    # Add cooldown to reduce spam - only run every 600 ticks (30 seconds)
    scoreboard players add @s loop_cooldown 1
    if @s[score={loop_cooldown=..599}]:
        return
    
    scoreboard players set @s loop_cooldown 0
    
    # While loop example - count from 1 to 5
    scoreboard players set @s loop_counter 0
    while @s[score={loop_counter=..4}]:
        scoreboard players add @s loop_counter 1
        tellraw @s {"text":"While loop iteration: ","color":"yellow"}
        tellraw @s {"score":{"name":"@s","objective":"loop_counter"},"color":"gold"}
    
    # For loop example - iterate over different items
    for item in ["diamond_sword", "golden_apple", "ender_pearl"]:
        give @s minecraft:item 1
        tellraw @s {"text":"Gave you: ","color":"green"}
        tellraw @s {"text":"item","color":"aqua"}

# Hook the function to run when the world loads
on_load "test:hello"

# Run loop examples (this will run every tick - you can control frequency in the function itself)
on_tick "test:loop_examples"
