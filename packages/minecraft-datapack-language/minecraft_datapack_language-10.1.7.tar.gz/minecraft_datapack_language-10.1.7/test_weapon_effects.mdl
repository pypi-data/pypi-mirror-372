# Weapon Effects Datapack
# Provides automatic effects and particles for players based on their equipped weapon
pack "example" description "Automatically applies effects and particles to players based on their equipped weapon" pack_format 82 min_format [82, 0] max_format [82, 1] min_engine_version "1.21.4"

namespace "example"

# Global weapon effects system - affects all players
function "globalweaponeffects":
    for player in @a:
        if "entity @s[nbt={SelectedItem:{id:'minecraft:diamond_sword'}}]":
            effect give @s minecraft:strength 10 1
            effect give @s minecraft:glowing 10 0
            particle minecraft:enchanted_hit ~ ~1 ~ 0.5 0.5 0.5 0.1 10
        else if "entity @s[nbt={SelectedItem:{id:'minecraft:golden_sword'}}]":
            effect give @s minecraft:speed 10 1
            effect give @s minecraft:night_vision 10 0
            particle minecraft:firework ~ ~1 ~ 0.3 0.3 0.3 0.05 5
        else if "entity @s[nbt={SelectedItem:{id:'minecraft:netherite_sword'}}]":
            effect give @s minecraft:resistance 10 1
            effect give @s minecraft:fire_resistance 10 0
            particle minecraft:flame ~ ~1 ~ 0.4 0.4 0.4 0.1 8
        else if "entity @s[nbt={SelectedItem:{id:'minecraft:iron_sword'}}]":
            effect give @s minecraft:haste 10 0
            particle minecraft:crit ~ ~1 ~ 0.3 0.3 0.3 0.05 3
        else if "entity @s[nbt={SelectedItem:{id:'minecraft:wooden_sword'}}]":
            effect give @s minecraft:jump_boost 10 0
            particle minecraft:cloud ~ ~1 ~ 0.2 0.2 0.2 0.05 2

# Hook the function into tick
on_tick "example:globalweaponeffects"

# Function tag examples
tag function "minecraft:tick":
    add "example:globalweaponeffects"

# Data tag examples across registries
tag item "example:swords":
    add "minecraft:diamond_sword"
    add "minecraft:netherite_sword"

tag block "example:glassy":
    add "minecraft:glass"
    add "minecraft:tinted_glass"
