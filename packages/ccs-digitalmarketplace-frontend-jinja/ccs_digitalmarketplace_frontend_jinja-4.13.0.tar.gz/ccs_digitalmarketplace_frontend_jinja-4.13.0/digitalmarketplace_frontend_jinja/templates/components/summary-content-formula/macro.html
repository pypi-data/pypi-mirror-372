{% macro digitalmarketplaceSummaryContentFormula(params) %}
{%- from "govuk_frontend_jinja/components/table/macro.html" import govukTable -%}

{%- if params.value -%}
  {%- set tableHead = [] -%}
  {%- set tableRow = [] -%}

  {%- for question in params.value %}
    {%- if question.operation and question.operation_position == "before" -%}
      {%- set _tableHead = tableHead.append({ "text": question.operation }) -%}
      {%- set _tableRow = tableRow.append({ "text": question.operation }) -%}
    {%- endif -%}

    {%- set _tableHead = tableHead.append({ "text": question.name }) -%}
    {%- set _tableRow = tableRow.append({ "text": question.value }) -%}

    {%- if question.operation and question.operation_position == "after" -%}
      {%- set _tableHead = tableHead.append({ "text": question.operation }) -%}
      {%- set _tableRow = tableRow.append({ "text": question.operation }) -%}
    {%- endif -%}
  {%- endfor -%}

  {{ govukTable({
    "head": tableHead,
    "rows": [tableRow],
    "classes": 'dm-summary-content-formula'
  }) }}
{%- endif -%}
{% endmacro %}
