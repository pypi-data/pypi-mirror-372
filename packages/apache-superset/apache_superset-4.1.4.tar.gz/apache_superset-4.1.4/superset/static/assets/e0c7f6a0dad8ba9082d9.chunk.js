(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[4991],{943323:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var o=r(667294),n=r(135944);function a(e,t){class r extends o.Component{constructor(e){super(e),this.container=void 0,this.setContainerRef=this.setContainerRef.bind(this)}componentDidMount(){this.execute()}componentDidUpdate(){this.execute()}componentWillUnmount(){this.container=void 0,null!=t&&t.componentWillUnmount&&t.componentWillUnmount.bind(this)()}setContainerRef(e){this.container=e}execute(){this.container&&e(this.container,this.props)}render(){const{id:e,className:t}=this.props;return(0,n.tZ)("div",{ref:this.setContainerRef,id:e,className:t})}}const a=r;return e.displayName&&(a.displayName=e.displayName),e.propTypes&&(a.propTypes={...a.propTypes,...e.propTypes}),e.defaultProps&&(a.defaultProps=e.defaultProps),r}},67869:(e,t,r)=>{"use strict";r.d(t,{E8:()=>P,CW:()=>d.Z,bA:()=>T.Z,kI:()=>o,A5:()=>n.Z,uO:()=>C.Z,Gz:()=>h.Z,Ys:()=>m.Z,$5:()=>p.Z,Dg:()=>g.Z,Jm:()=>v.Z,XF:()=>f.Z,q5:()=>_.Z,PK:()=>Z.Z,gE:()=>a.Z,yE:()=>y.Z,Sk:()=>A.Z,eL:()=>s.Z,Iw:()=>F.I,zR:()=>u.Z,eY:()=>R.eY,Fx:()=>R.Fx,UM:()=>D.Z,Bs:()=>S.Z,T8:()=>l.Z,Zf:()=>E.Zf,Gh:()=>E.Gh,B_:()=>i.Z,Qg:()=>E.Qg,D9:()=>R.ZP,j3:()=>c.Z,oo:()=>E.oo,vq:()=>E.vq});var o=r(328062),n=r(997466),a=r(815226),i=r(281545),s=r(758586),c=r(45511),l=r(902995),u=r(598195),d=r(727965),h=r(786698),m=r(269224),p=r(977781),g=r(364236),f=r(765445),y=r(836361),_=r(779615),v=r(813304),C=r(964457),T=r(217412),Z=r(214735),A=r(153183),D=r(132),S=r(231225),E=r(25130),F=r(285671),R=r(677205);const P="#00A699"},208608:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var o=r(662761);function n(e,t,r){let o=e,n=t(o);for(;!r(n);){if(o-=1,o<0){o=e;break}n=t(o)}return o}function a(e){const{idealFontSize:t,maxWidth:r,maxHeight:a,style:i,...s}=e;let c;if(null!=t)c=t;else{if(null==a)throw new Error("You must specify at least one of maxHeight or idealFontSize");c=Math.floor(a)}function l(e){return(0,o.Z)({...s,style:{...i,fontSize:`${e}px`}})}return null!=r&&(c=n(c,l,(e=>e.width>0&&e.width<=r))),null!=a&&(c=n(c,l,(e=>e.height>0&&e.height<=a))),c}},902445:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(161888),n=r(966529),a=r(610660);function i(e,t){const{texts:r,className:i,style:s,container:c}=e,l=new Map;let u,d;l.set("",{height:0,width:0});const h=r.map((e=>{if(l.has(e))return l.get(e);u||(d=n.Y.createInContainer(c),u=n.S.createInContainer(d)),(0,a.Z)(u,{className:i,style:s,text:e});const r=(0,o.Z)(u,t);return l.set(e,r),r}));return d&&u&&setTimeout((()=>{n.S.removeFromContainer(d),n.Y.removeFromContainer(c)}),500),h}},662761:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(610660),n=r(161888),a=r(966529);function i(e,t){const{text:r,className:i,style:s,container:c}=e;if(0===r.length)return{height:0,width:0};const l=a.Y.createInContainer(c),u=a.S.createInContainer(l);(0,o.Z)(u,{className:i,style:s,text:r});const d=(0,n.Z)(u,t);return setTimeout((()=>{a.S.removeFromContainer(l),a.Y.removeFromContainer(c)}),500),d}},966529:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a,S:()=>i});class o{constructor(e){this.activeNodes=new Map,this.factoryFn=void 0,this.factoryFn=e}createInContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);return t.counter+=1,t.node}const t=this.factoryFn();return e.append(t),this.activeNodes.set(e,{counter:1,node:t}),t}removeFromContainer(e=document.body){if(this.activeNodes.has(e)){const t=this.activeNodes.get(e);t.counter-=1,0===t.counter&&(e.removeChild(t.node),this.activeNodes.delete(e))}}}const n="http://www.w3.org/2000/svg",a=new o((function(){const e=document.createElementNS(n,"svg");return e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",e.style.width="0",e.style.height="0",e.style.opacity="0",e.style.pointerEvents="none",e})),i=new o((function(){return document.createElementNS(n,"text")}))},161888:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const o={height:20,width:100};function n(e,t=o){const{width:r,height:n}=e.getBBox?e.getBBox():t;return{height:Math.ceil(n),width:Math.ceil(r)}}},610660:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const o=["font","fontWeight","fontStyle","fontSize","fontFamily","letterSpacing"];function n(e,{className:t,style:r={},text:n}={}){const a=e;return a.textContent!==n&&(a.textContent=void 0===n?null:n),a.getAttribute("class")!==t&&a.setAttribute("class",null!=t?t:""),a.style.removeProperty("font"),a.style.removeProperty("font-weight"),a.style.removeProperty("font-style"),a.style.removeProperty("font-size"),a.style.removeProperty("font-family"),a.style.removeProperty("letter-spacing"),o.filter((e=>void 0!==r[e]&&null!==r[e])).forEach((e=>{a.style[e]=`${r[e]}`})),a}},178243:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});var o=r(667294);function n(e){const t=(0,o.useRef)(null),[r,n]=(0,o.useState)(!1),a=e=>{const[t]=e;n(t.intersectionRatio<1)};return(0,o.useEffect)((()=>{const r=new IntersectionObserver(a,e),o=t.current;return o&&r.observe(o),()=>{o&&r.unobserve(o)}}),[t,e]),[t,r]}},751794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(667294);const n=()=>{const[e,t]=(0,o.useState)(0),[r,n]=(0,o.useState)(!1),a=(0,o.useRef)(null),i=(0,o.useRef)(null);return(0,o.useLayoutEffect)((()=>{var e;const r=()=>{const e=a.current;if(!e)return;const r=i.current,{scrollWidth:o,clientWidth:s,childNodes:c}=e;if(o>s){const e=6,o=(null==r?void 0:r.offsetWidth)||0,a=s-e,i=c.length;let l=0,u=0;for(let e=0;e<i;e+=1)a-l-o<=0&&(u+=1),l+=c[e].offsetWidth;i>1&&u?(n(!0),t(u)):(n(!1),t(1))}else n(!1),t(0)},o=new ResizeObserver(r),s=null==(e=a.current)?void 0:e.parentElement;return s&&o.observe(s),r(),()=>{o.disconnect()}}),[i.current]),[a,i,e,r]}},632810:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnnotationOpacity:()=>Pe.TJ,AnnotationSourceType:()=>Pe.u$,AnnotationStyle:()=>Pe.QW,AnnotationType:()=>Pe.JJ,ApiLegacy:()=>o,ApiV1:()=>n,AppSection:()=>wt.Tr,AxisType:()=>wt.we,BRAND_COLOR:()=>ct.E8,Behavior:()=>wt.cg,CACHE_AVAILABLE:()=>se.wE,CACHE_KEY:()=>se.oy,COMMON_ERR_MESSAGES:()=>se.tU,CategoricalAirbnb:()=>ct.CW,CategoricalBlueToGreen:()=>ct.bA,CategoricalColorNamespace:()=>ct.kI,CategoricalColorScale:()=>ct.A5,CategoricalColorsOfRainbow:()=>ct.uO,CategoricalD3:()=>ct.Gz,CategoricalEcharts:()=>ct.Ys,CategoricalGoogle:()=>ct.$5,CategoricalLyft:()=>ct.Dg,CategoricalModernSunset:()=>ct.Jm,CategoricalPreset:()=>ct.XF,CategoricalPresetSuperset:()=>ct.q5,CategoricalRedToYellow:()=>ct.PK,CategoricalScheme:()=>ct.gE,CategoricalSuperset:()=>ct.yE,CategoricalWavesOfBlue:()=>ct.Sk,ChartClient:()=>Tt,ChartDataProvider:()=>Mt,ChartFrame:()=>Ot,ChartLabel:()=>wt.Df,ChartMetadata:()=>Zt.Z,ChartPlugin:()=>At.Z,ChartProps:()=>_t.Z,ColorScheme:()=>ct.eL,ColorSchemeGroup:()=>ct.Iw,ColorSchemeRegistry:()=>ct.zR,ComparisonTimeRangeType:()=>st,ComparisonType:()=>k.wj,ContributionType:()=>N.YC,CtasEnum:()=>N.WN,CurrencyFormatter:()=>ir.Z,DEFAULT_BASE_URL:()=>se.w0,DEFAULT_D3_FORMAT:()=>we.A,DEFAULT_D3_TIME_FORMAT:()=>ze.M,DEFAULT_FETCH_RETRY_OPTIONS:()=>se.pG,DEFAULT_METRICS:()=>P.BH,DTTM_ALIAS:()=>fe.W3,DataMaskType:()=>J.gT,DatasourceKey:()=>Ae.Z,DatasourceType:()=>P.i9,EXTRA_FORM_DATA_APPEND_KEYS:()=>fe.Ci,EXTRA_FORM_DATA_OVERRIDE_EXTRA_KEYS:()=>fe.fn,EXTRA_FORM_DATA_OVERRIDE_KEYS:()=>fe.Ay,EXTRA_FORM_DATA_OVERRIDE_REGULAR_KEYS:()=>fe.NU,EXTRA_FORM_DATA_OVERRIDE_REGULAR_MAPPINGS:()=>fe.gn,EmotionCacheProvider:()=>lt.zo,ErrorTypeEnum:()=>N.C5,ExtensibleFunction:()=>i.Z,FAST_DEBOUNCE:()=>$t.o,FeatureFlag:()=>D.TT,GenericDataType:()=>I.Z,HTTP_STATUS_NOT_MODIFIED:()=>se.D_,HTTP_STATUS_OK:()=>se.m7,LOCAL_PREFIX:()=>Ye.D,LabelsColorMap:()=>ct.eY,LabelsColorMapSource:()=>ct.Fx,NO_TIME_RANGE:()=>fe.vM,NativeFilterType:()=>J.BE,NumberFormats:()=>be.default,NumberFormatter:()=>Me.Z,NumberFormatterRegistry:()=>Le.Z,OverwritePolicy:()=>l.r,PREVIEW_TIME:()=>We.F,PREVIEW_VALUE:()=>Me.G,PandasAxis:()=>a,Plugin:()=>s.Z,Preset:()=>c.Z,QueryMode:()=>L.n,QueryState:()=>N.Tb,Registry:()=>l.Z,RegistryWithDefaultKey:()=>u.Z,RollingType:()=>k.su,SEPARATOR:()=>hr.UD,SLOW_DEBOUNCE:()=>$t.M,SMART_DATE_DETAILED_ID:()=>qe.w,SMART_DATE_ID:()=>je.y,SMART_DATE_VERBOSE_ID:()=>$e.K,SafeMarkdown:()=>Kt.Z,SequentialCommon:()=>ct.UM,SequentialD3:()=>ct.Bs,SequentialScheme:()=>ct.T8,SuperChart:()=>Et.Z,SupersetApiError:()=>xe.P,SupersetApiErrorType:()=>xe.M,SupersetClient:()=>ae.Z,SupersetClientClass:()=>ie.Z,ThemeProvider:()=>lt.f6,TimeFormats:()=>Ye.default,TimeFormatter:()=>We.Z,TimeGranularity:()=>Je.A,TooltipFrame:()=>Ht,TooltipTable:()=>qt,TypedRegistry:()=>d.Z,WithLegend:()=>zt,__hack_reexport_AdvancedAnalytics:()=>k.ZP,__hack_reexport_Column:()=>x.ZP,__hack_reexport_Dashboard:()=>J.ZP,__hack_reexport_Datasource:()=>P.ZP,__hack_reexport_Metric:()=>M.ZP,__hack_reexport_Query:()=>N.ZP,__hack_reexport_QueryFormData:()=>L.Z,__hack_reexport_QueryResponse:()=>I.C,__hack_reexport_Time:()=>ee,__hack_reexport_chart_Base:()=>wt.ZP,__hack_reexport_chart_QueryResponse:()=>Lt,__hack_reexport_chart_TransformFunction:()=>Nt,__hack_reexport_connection:()=>ce,__hack_reexport_dimension:()=>it,__hack_reexport_jed:()=>re,__hack_reexport_translation:()=>oe,addAlpha:()=>ct.Zf,addLocaleData:()=>te.oK,addTranslation:()=>te.Zt,addTranslations:()=>te.hk,buildCustomFormatters:()=>sr.zn,buildQueryContext:()=>ye.Z,buildQueryObject:()=>_e.Z,callApi:()=>ne.Z,chartLabelExplanations:()=>wt.t$,chartLabelWeight:()=>wt.eH,checkForHtml:()=>Re.Ue,computeCustomDateTime:()=>dr.sr,computeMaxFontSize:()=>rt.Z,concludedQueryStateList:()=>N.yv,configure:()=>te.jQ,convertFilter:()=>ve.Z,convertKeysToCamelCase:()=>h.Z,createD3NumberFormatter:()=>Ie.Z,createD3TimeFormatter:()=>Qe.Z,createDurationFormatter:()=>ke.Z,createEmotionCache:()=>lt.S9,createLoadableRenderer:()=>Dt.Z,createMultiFormatter:()=>He.Z,createSiAtMostNDigitFormatter:()=>Ue,createSmartDateDetailedFormatter:()=>qe.f,createSmartDateFormatter:()=>je.i,createSmartDateVerboseFormatter:()=>$e.B,createSmartNumberFormatter:()=>Be.Z,css:()=>lt.iv,customTimeRangeDecode:()=>mr.c,defineSharedModule:()=>le.vO,defineSharedModules:()=>le.YW,denormalizeTimestamp:()=>Xe,emotionCache:()=>lt.Yi,ensureIsArray:()=>m.Z,ensureIsInt:()=>p.Z,evalExpression:()=>Vt.f,extractQueryFields:()=>Ee.Z,extractTimegrain:()=>Ce.Z,fetchTimeRange:()=>hr.z1,finestTemporalGrainFormatter:()=>Ke.Z,formatNumber:()=>Ne.uf,formatTime:()=>Ge.mr,formatTimeRange:()=>Ge.ns,getAnalogousColors:()=>ct.Gh,getCategoricalSchemeRegistry:()=>ct.B_,getChartBuildQueryRegistry:()=>vt.Z,getChartComponentRegistry:()=>Ft.Z,getChartControlPanelRegistry:()=>Rt.Z,getChartMetadataRegistry:()=>Ct.Z,getChartTransformPropsRegistry:()=>Pt.Z,getClientErrorMessage:()=>Re.d7,getClientErrorObject:()=>Re.O$,getColumnLabel:()=>Te.Z,getComparisonFilters:()=>lr,getComparisonInfo:()=>ur,getContrastingColor:()=>ct.Qg,getCurrencySymbol:()=>ir.j,getCustomFormatter:()=>sr.So,getErrorFromStatusCode:()=>Re.T6,getErrorText:()=>Re.HR,getExtensionsRegistry:()=>Xt.I,getLabelsColorMap:()=>ct.D9,getMetricLabel:()=>Ze.Z,getMultipleTextDimensions:()=>tt.Z,getNumberFormatter:()=>Ne.JB,getNumberFormatterRegistry:()=>Ne.ZP,getParagraphContents:()=>F.Ah,getSelectedText:()=>A.Z,getSequentialSchemeRegistry:()=>ct.j3,getTextDimension:()=>et.Z,getTimeFormatter:()=>Ge.bt,getTimeFormatterForGranularity:()=>Ge.uh,getTimeFormatterRegistry:()=>Ge.ZP,getTimeOffset:()=>dr.dS,getTimeRangeFormatter:()=>Ge.Rg,getValueFormatter:()=>sr.kZ,getXAxisColumn:()=>Fe.Bw,getXAxisLabel:()=>Fe.M8,hasHtmlTagPattern:()=>F.k3,hexToRgb:()=>ct.oo,initFeatureFlags:()=>D.fG,isAdhocColumn:()=>x.GA,isAdhocMetricSQL:()=>M.q5,isAdhocMetricSimple:()=>M.nX,isAppliedCrossFilterType:()=>J.w0,isAppliedNativeFilterType:()=>J.A8,isBinaryAdhocFilter:()=>b.kC,isBinaryOperator:()=>w.VU,isDefined:()=>g.Z,isEqualArray:()=>y.Z,isEventAnnotationLayer:()=>Pe.pD,isFeatureEnabled:()=>D.cr,isFilterDivider:()=>J.nY,isFormulaAnnotationLayer:()=>Pe.x5,isFreeFormAdhocFilter:()=>b.jz,isIntervalAnnotationLayer:()=>Pe.Ry,isJsonString:()=>F.Pb,isNativeFilter:()=>J.kI,isNativeFilterWithDataMask:()=>J.S0,isPhysicalColumn:()=>x.s9,isPostProcessingAggregation:()=>O,isPostProcessingBoxplot:()=>U,isPostProcessingCompare:()=>H,isPostProcessingContribution:()=>B,isPostProcessingCum:()=>Q,isPostProcessingDiff:()=>z,isPostProcessingFlatten:()=>K,isPostProcessingHistogram:()=>X,isPostProcessingPivot:()=>Y,isPostProcessingProphet:()=>W,isPostProcessingRank:()=>V,isPostProcessingRename:()=>$,isPostProcessingResample:()=>q,isPostProcessingRolling:()=>G,isPostProcessingSort:()=>j,isProbablyHTML:()=>F.Kv,isQueryFormColumn:()=>x.Gk,isQueryFormMetric:()=>M.I0,isRecordAnnotationResult:()=>Pe.$c,isRequired:()=>f.Z,isSavedMetric:()=>M.AG,isSetAdhocFilter:()=>b.VK,isSetOperator:()=>w.XA,isSimpleAdhocFilter:()=>b.Ki,isTableAnnotationLayer:()=>Pe.mn,isTimeseriesAnnotationLayer:()=>Pe.nl,isTimeseriesAnnotationResult:()=>Pe.b4,isUnaryAdhocFilter:()=>b._l,isUnaryOperator:()=>w.CW,isValidExpression:()=>Vt.$,isXAxisSet:()=>Fe.SR,jsx:()=>lt.tZ,keyframes:()=>lt.F4,legacyValidateInteger:()=>ut.Z,legacyValidateNumber:()=>dt.Z,logging:()=>C.Z,lruCache:()=>Z.$,makeApi:()=>me.Z,makeSingleton:()=>_.Z,mergeMargin:()=>nt,normalizeOrderBy:()=>De.Z,normalizeTimeColumn:()=>Se.T,normalizeTimestamp:()=>Ve.Z,parseDttmToDate:()=>dr.NM,parseErrorJson:()=>Re.MV,parseLength:()=>at.Z,parseStringResponse:()=>Re.oz,promiseTimeout:()=>v.Z,reactify:()=>St.Z,removeDuplicates:()=>T.Z,removeHTMLTags:()=>F.ZU,reset:()=>le.mc,resetTranslation:()=>te.sq,retrieveErrorMessage:()=>Re.J2,rgbToHex:()=>ct.vq,runningQueryStateList:()=>N.sn,safeHtmlSpan:()=>F.Ul,sanitizeHtml:()=>F.Z6,sanitizeHtmlIfNeeded:()=>F.T4,seed:()=>S.D,seedRandom:()=>S.b,setD3Format:()=>Ne.KF,styled:()=>lt.iK,supersetTheme:()=>lt.K6,t:()=>te.t,testQuery:()=>N.Qn,testQueryResponse:()=>N.pY,testQueryResults:()=>N.eh,tn:()=>te.tn,tooltipHtml:()=>R.G,truncationCSS:()=>ar.B,typedMemo:()=>E.l,useCSSTextTruncation:()=>ar.Z,useChangeEffect:()=>Jt.S,useComponentDidMount:()=>er.J,useComponentDidUpdate:()=>tr,useElementOnScreen:()=>rr.W,usePrevious:()=>or.D,useTheme:()=>lt.Fg,useTruncation:()=>nr.Z,validateInteger:()=>ht.Z,validateMapboxStylesUrl:()=>ft.Z,validateMaxValue:()=>gt.Z,validateNonEmpty:()=>pt.Z,validateNumber:()=>mt.Z,validateTimeComparisonRangeValues:()=>yt,withTheme:()=>lt.Zz});var o={};r.r(o),r.d(o,{__hack_reexport_query_api_legacy:()=>he,getDatasourceMetadata:()=>de,getFormData:()=>ue});var n={};r.r(n),r.d(n,{default:()=>ge,getChartData:()=>pe});var a,i=r(454732),s=r(791189),c=r(746449),l=r(590537),u=r(929243),d=r(653652),h=r(978036),m=r(355786),p=r(777675),g=r(237731),f=r(549714),y=r(201111),_=r(601875),v=r(585684),C=r(68492),T=r(274765),Z=r(893297),A=r(450523),D=r(593185),S=r(170406),E=r(126635),F=r(332103),R=r(231986),P=r(46078),x=r(472813),b=r(46306),M=r(62446),w=r(631612),N=r(343716),L=r(920620),I=r(88889),k=r(662363);function O(e){return"aggregation"===(null==e?void 0:e.operation)}function U(e){return"boxplot"===(null==e?void 0:e.operation)}function B(e){return"contribution"===(null==e?void 0:e.operation)}function Y(e){return"pivot"===(null==e?void 0:e.operation)}function W(e){return"prophet"===(null==e?void 0:e.operation)}function z(e){return"diff"===(null==e?void 0:e.operation)}function G(e){return"rolling"===(null==e?void 0:e.operation)}function Q(e){return"cum"===(null==e?void 0:e.operation)}function H(e){return"compare"===(null==e?void 0:e.operation)}function j(e){return"sort"===(null==e?void 0:e.operation)}function q(e){return"resample"===(null==e?void 0:e.operation)}function $(e){return"rename"===(null==e?void 0:e.operation)}function K(e){return"flatten"===(null==e?void 0:e.operation)}function V(e){return"rank"===(null==e?void 0:e.operation)}function X(e){return"histogram"===(null==e?void 0:e.operation)}!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column"}(a||(a={}));var J=r(10916);const ee={};var te=r(61988);const re={},oe={};var ne=r(197065),ae=r(431069),ie=r(899619),se=r(516416);const ce={};var le=r(581847);function ue({client:e=ae.Z,sliceId:t,overrideFormData:r,requestConfig:o}){const n=e.get({endpoint:`/api/v1/form_data/?slice_id=${t}`,...o}).then((({json:e})=>e));return r?n.then((e=>({...e,...r}))):n}function de({client:e=ae.Z,datasourceKey:t,requestConfig:r}){return e.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${t}`,...r}).then((e=>e.json))}const he={};var me=r(522102);const pe=(0,me.Z)({method:"POST",endpoint:"/api/v1/chart/data"}),ge={getChartData:pe};var fe=r(5364),ye=r(861654),_e=r(365946),ve=r(478483),Ce=r(705031),Te=r(310581),Ze=r(956652),Ae=r(667706),De=r(882028),Se=r(678444),Ee=r(569363),Fe=r(111146),Re=r(844818),Pe=r(534804),xe=r(818014),be=r(645636),Me=r(777809),we=r(343230),Ne=r(767190),Le=r(218212),Ie=r(643851),ke=r(775430),Oe=r(516722);function Ue(e={}){const{description:t,n:r=3,id:o,label:n}=e,a=(0,Oe.WU)(`.${r}s`);return new Me.Z({description:t,formatFunc:e=>{const t=a(e);return t.slice(-1)<"A"?parseFloat(t).toString():t},id:null!=o?o:`si_at_most_${r}_digit`,label:null!=n?n:`SI with at most ${r} significant digits`})}var Be=r(184986),Ye=r(642846),We=r(269244),ze=r(790596),Ge=r(751115),Qe=r(800069),He=r(425778),je=r(778900),qe=r(662720),$e=r(740962),Ke=r(47249),Ve=r(588484);function Xe(e){const t=e.match(Ve.t);return t?`${t[1]}T${t[2]}`:e}var Je=r(918010),et=r(662761),tt=r(902445),rt=r(208608);function ot(e,t=0,r=0){return Number.isNaN(t)||null===t?r:Number.isNaN(r)||null===r?t:e(t,r)}function nt(e={},t={},r="expand"){const{top:o,left:n,bottom:a,right:i}=e,s="expand"===r?Math.max:Math.min;return{bottom:ot(s,a,t.bottom),left:ot(s,n,t.left),right:ot(s,i,t.right),top:ot(s,o,t.top)}}var at=r(80644);const it={};var st,ct=r(67869),lt=r(751995),ut=r(375294),dt=r(799298),ht=r(833444),mt=r(300872),pt=r(895826),gt=r(274029),ft=r(450431);!function(e){e.Custom="c",e.InheritedRange="r",e.Month="m",e.Week="w",e.Year="y"}(st||(st={}));const yt=(e,t)=>{const r=e===st.Custom,o=null==t?void 0:t.every((e=>0===(0,m.Z)(e).length));return r&&o?[(0,te.t)("Filters for comparison must have a value")]:[]};var _t=r(709330),vt=r(719427),Ct=r(311064);class Tt{constructor(e={}){this.client=void 0;const{client:t=ae.Z}=e;this.client=t}loadFormData(e,t){return"sliceId"in e?this.client.get({endpoint:`/api/v1/form_data/?slice_id=${e.sliceId}`,...t}).then((e=>e.json)).then((t=>({...t,...e.formData}))):e.formData?Promise.resolve(e.formData):Promise.reject(new Error("At least one of sliceId or formData must be specified"))}async loadQueryData(e,t){const{viz_type:r}=e,o=(0,Ct.Z)(),n=(0,vt.Z)();if(o.has(r)){var a;const{useLegacyApi:i}=o.get(r),s=null!=(a=await n.get(r))?a:()=>e,c=i?{endpoint:"/superset/explore_json/",postPayload:{form_data:s(e)},...t}:{endpoint:"/api/v1/chart/data",jsonPayload:{query_context:s(e)},...t};return this.client.post(c).then((e=>Array.isArray(e.json)?e.json:[e.json]))}return Promise.reject(new Error(`Unknown chart type: ${r}`))}loadDatasource(e,t){return this.client.get({endpoint:`/superset/fetch_datasource_metadata?datasourceKey=${e}`,...t}).then((e=>e.json))}loadAnnotation(e){return(0,g.Z)(e.sourceType)?Promise.reject(new Error("This feature is not implemented yet.")):Promise.resolve({})}loadAnnotations(e){return Array.isArray(e)&&e.length>0?Promise.all(e.map((e=>this.loadAnnotation(e)))).then((t=>e.reduce(((e,r,o)=>{const n=e;return n[r.name]=t[o],n}),{}))):Promise.resolve({})}loadChartData(e){return this.loadFormData(e).then((e=>Promise.all([this.loadAnnotations(e.annotation_layers),this.loadDatasource(e.datasource),this.loadQueryData(e)]).then((([t,r,o])=>({annotationData:t,datasource:r,formData:e,queriesData:o})))))}}var Zt=r(848805),At=r(884912),Dt=r(389453),St=r(943323),Et=r(888274),Ft=r(354085),Rt=r(837687),Pt=r(674464),xt=r(667294);class bt extends xt.PureComponent{constructor(e){super(e),this.chartClient=void 0,this.handleFetchData=()=>{const{loadDatasource:e,formDataRequestOptions:t,datasourceRequestOptions:r,queryRequestOptions:o}=this.props;this.setState({status:"loading"},(()=>{try{this.chartClient.loadFormData(this.extractSliceIdAndFormData(),t).then((t=>Promise.all([e?this.chartClient.loadDatasource(t.datasource,r):Promise.resolve(void 0),this.chartClient.loadQueryData(t,o)]).then((([e,r])=>({datasource:e,formData:t,queriesData:r}))))).then(this.handleReceiveData).catch(this.handleError)}catch(e){this.handleError(e)}}))},this.handleReceiveData=e=>{const{onLoaded:t}=this.props;t&&t(e),this.setState({payload:e,status:"loaded"})},this.handleError=e=>{const{onError:t}=this.props;t&&t(e),this.setState({error:e,status:"error"})},this.state={status:"uninitialized"},this.chartClient=new Tt({client:e.client})}componentDidMount(){this.handleFetchData()}componentDidUpdate(e){const{formData:t,sliceId:r}=this.props;t===e.formData&&r===e.sliceId||this.handleFetchData()}extractSliceIdAndFormData(){const{formData:e,sliceId:t}=this.props;return e?{formData:e}:{sliceId:t}}render(){const{children:e}=this.props,{status:t,payload:r,error:o}=this.state;switch(t){case"loading":return e({loading:!0});case"loaded":return e({payload:r});case"error":return e({error:o});default:return null}}}const Mt=bt;var wt=r(616355);const Nt={},Lt={};var It=r(135944);function kt(e){return(0,g.Z)(e)&&"number"==typeof e}class Ot extends xt.PureComponent{render(){const{contentWidth:e,contentHeight:t,width:r,height:o,renderContent:n}=this.props,a=kt(e)&&e>r,i=kt(t)&&t>o;return a||i?(0,It.tZ)("div",{style:{height:o,overflowX:a?"auto":"hidden",overflowY:i?"auto":"hidden",width:r},children:n({height:Math.max(null!=t?t:0,o),width:Math.max(null!=e?e:0,r)})}):n({height:o,width:r})}}Ot.defaultProps={renderContent(){}};var Ut=r(949302);const Bt={display:"flex",flexGrow:0,flexShrink:0,order:-1},Yt={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"};class Wt extends xt.PureComponent{getContainerDirection(){const{position:e}=this.props;return"left"===e?"row":"right"===e?"row-reverse":"bottom"===e?"column-reverse":"column"}getLegendJustifyContent(){const{legendJustifyContent:e,position:t}=this.props;return e||("left"===t||"right"===t?"flex-start":"flex-end")}render(){const{className:e,debounceTime:t,width:r,height:o,position:n,renderChart:a,renderLegend:i}=this.props,s="left"===n||"right"===n,c={display:"flex",flexDirection:this.getContainerDirection(),height:o,width:r},l={...Yt};s?l.width=0:l.height=0;const u=s?"column":"row",d={...Bt,flexDirection:u,justifyContent:this.getLegendJustifyContent()};return(0,It.BX)("div",{className:`with-legend ${e}`,style:c,children:[i&&(0,It.tZ)("div",{className:"legend-container",style:d,children:i({direction:u})}),(0,It.tZ)("div",{className:"main-container",style:l,children:(0,It.tZ)(Ut.Z,{debounceTime:t,children:e=>e.width>0&&e.height>0?a(e):null})})]})}}Wt.defaultProps={className:"",height:"auto",position:"top",width:"auto"};const zt=Wt,Gt={padding:8};class Qt extends xt.PureComponent{render(){const{className:e,children:t}=this.props;return(0,It.tZ)("div",{className:e,style:Gt,children:t})}}Qt.defaultProps={className:""};const Ht=Qt,jt={paddingLeft:8,textAlign:"right"};class qt extends xt.PureComponent{render(){const{className:e,data:t}=this.props;return(0,It.tZ)("table",{className:e,children:(0,It.tZ)("tbody",{children:t.map((({key:e,keyColumn:t,keyStyle:r,valueColumn:o,valueStyle:n})=>(0,It.BX)("tr",{children:[(0,It.tZ)("td",{style:r,children:null!=t?t:e}),(0,It.tZ)("td",{style:n?{...jt,...n}:jt,children:o})]},e)))})})}}qt.defaultProps={className:"",data:[]};var $t=r(668122),Kt=r(178186),Vt=r(760524),Xt=r(175049),Jt=r(28291),er=r(504756);const tr=(e,t)=>{const r=(0,xt.useRef)(!1);(0,xt.useEffect)((()=>{r.current?e():r.current=!0}),[...t||[e]])};var rr=r(178243),or=r(785716),nr=r(751794),ar=r(903297),ir=r(537208),sr=r(501819);const cr=(e,t)=>{var r,o,n;const a=null!=(r=null==(o=e.adhoc_filters)?void 0:o.findIndex((e=>"operator"in e&&"TEMPORAL_RANGE"===e.operator)))?r:-1,i=-1!==a&&e.adhoc_filters?e.adhoc_filters[a]:null;i&&"comparator"in i&&"string"==typeof i.comparator&&null!=t&&t.time_range&&(i.comparator=t.time_range);const s=i?[i]:[],c=null==(n=e.adhoc_filters)?void 0:n.filter(((e,t)=>a!==t));return c?[...s,...c]:s},lr=cr,ur=(e,t,r)=>{let o;return o=t!==st.Custom?{...e,adhoc_filters:cr(e,r),extra_form_data:{...r,time_range:void 0}}:{...e,adhoc_filters:e.adhoc_custom,extra_form_data:{...r,time_range:void 0}},o};var dr=r(221283),hr=r(706882),mr=r(891988)},47249:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(990317),n=r(769842),a=r(269244);function i(e,t=!1){const r=t?o.i$:o.g0,i=r("%Y-%m-%d %H:%M:%S.%L"),s=r("%Y-%m-%d %H:%M:%S"),c=r("%Y-%m-%d %H:%M"),l=r("%Y-%m-%d %H:%M"),u=r("%Y-%m-%d"),d=r("%Y-%m-%d"),h=r("%Y"),{hasMillisecond:m,hasSecond:p,hasMinute:g,hasHour:f,isNotFirstDayOfMonth:y,isNotFirstMonth:_}=t?n.Z:n.b;let v=h;return e.forEach((e=>{v===h&&_(e)&&(v=d),v===d&&y(e)&&(v=u),v===u&&f(e)&&(v=l),v===l&&g(e)&&(v=c),v===c&&p(e)&&(v=s),v===s&&m(e)&&(v=i)})),new a.Z({description:"Use the finest grain in an array of dates to format all dates in the array",formatFunc:v,id:"finest_temporal_grain",label:"Format temporal columns with the finest grain",useLocalTime:t})}},450523:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const o=()=>{var e;return null==(e=window.getSelection())?void 0:e.toString()}},893297:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});class o{constructor(e){if(this.cache=void 0,this.capacity=void 0,e<1)throw new Error("The capacity in LRU must be greater than 0.");this.capacity=e,this.cache=new Map}has(e){return this.cache.has(e)}get(e){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");if(this.cache.has(e)){const t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t}}set(e,t){if("string"!=typeof e)throw new TypeError("The LRUCache key must be string.");this.cache.size>=this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(e,t)}clear(){this.cache.clear()}get size(){return this.cache.size}values(){return[...this.cache.values()]}}function n(e=100){return new o(e)}},170406:(e,t,r)=>{"use strict";r.d(t,{D:()=>a,b:()=>i});var o=r(236377),n=r.n(o);function a(e){return n()(e)}function i(){return n()("superset-ui")()}},126635:(e,t,r)=>{"use strict";r.d(t,{l:()=>o});const o=r(667294).memo},175042:()=>{}}]);
//# sourceMappingURL=e0c7f6a0dad8ba9082d9.chunk.js.map