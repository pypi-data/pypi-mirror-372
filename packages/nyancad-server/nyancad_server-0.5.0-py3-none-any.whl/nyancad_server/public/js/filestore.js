import { $APP, shadow$provide } from "./common.js";
var EI=function(a){$APP.wi($APP.M(["Saving notebook to database"]));return $APP.X.u(BI,$APP.W,[CI,":notebook.py"].join(""),new $APP.m(null,2,[$APP.sw,a,DI,(new Date).toISOString()],null))},FI=function(){$APP.wi($APP.M(["Reading notebook from database"]));return $APP.Df($APP.u(BI),new $APP.U(null,2,5,$APP.V,[[CI,":notebook.py"].join(""),$APP.sw],null))},JI=function(){var a={saveFile:EI,readFile:FI};window.__MARIMO_MOUNT_CONFIG__.config.save=$APP.ql(new $APP.m(null,3,[GI,"after_delay",HI,2E3,II,!0],
null));return window.__MARIMO_MOUNT_CONFIG__.fileStores=$APP.ql(new $APP.U(null,1,5,$APP.V,[a],null))},HI=new $APP.P(null,"autosave_delay","autosave_delay",-540817600),II=new $APP.P(null,"format_on_save","format_on_save",-218481126),DI=new $APP.P(null,"lastModified","lastModified",-1993155246),GI=new $APP.P(null,"autosave","autosave",-879866416);var KI=new URLSearchParams(window.location.search),LI=$APP.r,MI=LI.g,NI=KI.get("schem"),CI=[MI.call(LI,$APP.n(NI)?NI:"myschem"),"$notebook"].join(""),OI=new $APP.kA("schematics"),BI=$APP.$m(OI,CI,$APP.Jl($APP.R));$APP.Ym(OI,$APP.M([BI]));$APP.ja("nyancad.mosaic.filestore.init",JI);JI();