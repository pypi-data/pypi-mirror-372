import { $APP, shadow$provide } from "./common.js";
var bH=function(a,b){return a.query("models/name_search",b)},dH=function(a){var b=bH(cH,{startkey:a,endkey:[$APP.r.g(a),"￰"].join(""),include_docs:!1,limit:10}),c=$APP.Lm(1);$APP.om(function(){var d=function(){function f(g){var h=g[1];if(h===1){h=$APP.Fg;var m=$APP.Nm(b);g[7]=h;return $APP.Im(g,2,m)}if(h===2)return h=g[2],m=h instanceof $APP.hj,g[8]=h,g[9]=m,g[1]=$APP.n(m)?3:4,$APP.Z;if(h===3)return h=g[8],h=$APP.fj.g($APP.ij(h)),h=$APP.J.h(h,$APP.gj),g[2]=h,g[1]=5,$APP.Z;if(h===4)return h=g[9],g[2]=
h,g[1]=5,$APP.Z;if(h===5)return g[1]=$APP.n(g[2])?6:7,$APP.Z;if(h===6)throw h=g[8],h;return h===7?(h=g[8],g[2]=h,g[1]=8,$APP.Z):h===8?(h=g[7],h=$APP.Rm(h,g[2],$APP.Hw),$APP.Jm(g,h)):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.Q(q,$APP.Z)){var t=q;break a}}}catch(w){t=w;p[2]=t;if($APP.D(p[4]))p[1]=$APP.E(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.Q(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=m;p[1]=1;
return p}var m=null;m=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};m.m=h;m.g=g;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Hm(e)});return c},eH=function(a){var b=cH,c=$APP.Lm(1);$APP.om(function(){var d=function(){function f(g){var h=g[1];if(h===1)return h={selector:$APP.ql(a),limit:10},h=b.find(h),h=$APP.Nm(h),$APP.Im(g,2,h);if(h===2){h=g[2];var m=h instanceof $APP.hj;g[7]=h;
g[8]=m;g[1]=$APP.n(m)?3:4;return $APP.Z}if(h===3)return h=g[7],h=$APP.fj.g($APP.ij(h)),h=$APP.J.h(h,$APP.gj),g[2]=h,g[1]=5,$APP.Z;if(h===4)return h=g[8],g[2]=h,g[1]=5,$APP.Z;if(h===5)return g[1]=$APP.n(g[2])?6:7,$APP.Z;if(h===6)throw h=g[7],h;return h===7?(h=g[7],g[2]=h,g[1]=8,$APP.Z):h===8?(h=$APP.Li(g[2].docs,$APP.M([$APP.Ji,!0])),m=$APP.tf.g($APP.bi($APP.Vm,$APP.de)),h=$APP.Dg.i($APP.Fg,m,h),$APP.Jm(g,h)):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.Q(q,$APP.Z)){var t=
q;break a}}}catch(w){t=w;p[2]=t;if($APP.D(p[4]))p[1]=$APP.E(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.Q(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null];p[0]=m;p[1]=1;return p}var m=null;m=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};m.m=h;m.g=g;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Hm(e)});return c},fH=function(a,b,c,d,e){var f=
$APP.Jl($APP.u(c)),g=$APP.Jl($APP.u(c)),h=$APP.ka(e);return function(m,p,q,t,w){$APP.Ze($APP.u(g),$APP.u(q))&&($APP.pf(f,$APP.u(q)),$APP.pf(g,$APP.u(q)));return new $APP.U(null,2,5,$APP.V,[m,$APP.W.j(p,$APP.Hw,function(){var y=$APP.u(f);return t.g?t.g(y):t.call(null,y)}(),$APP.M([$APP.uw,function(y){y=y.target.value;h.h?h.h(q,y):h.call(null,q,y);return w.h?w.h(f,y):w.call(null,f,y)}]))],null)}},gH=function(a,b,c,d,e,f,g){return new $APP.U(null,3,5,$APP.V,[$APP.Hz,new $APP.U(null,6,5,$APP.V,[fH,$APP.Gx,
$APP.Qk.j($APP.M([new $APP.l(null,1,[$APP.Al,"combobox-input"],null),a])),b,f,g],null),new $APP.U(null,3,5,$APP.V,[$APP.Uw,new $APP.l(null,3,[$APP.Al,"combobox-select",$APP.Hw,$APP.u(c),$APP.uw,function(h){return $APP.pf(c,parseInt(h.target.value))}],null),$APP.ci($APP.lf(function(h,m){return new $APP.U(null,3,5,$APP.V,[$APP.qy,new $APP.l(null,2,[$APP.Jj,h,$APP.Hw,h],null),f.g?f.g(m):f.call(null,m)],null)},function(){var h=$APP.u(d);return e.g?e.g(h):e.call(null,h)}()))],null)],null)},hH=function(a){return $APP.pf($APP.Yu,
new $APP.U(null,5,5,$APP.V,[$APP.By,new $APP.l(null,1,[$APP.qz,function(b){console.log(b);b.preventDefault();b=b.target.elements.valuefield.value;$APP.D(b)&&(a.g?a.g(b):a.call(null,b));return $APP.pf($APP.Yu,null)}],null),new $APP.U(null,2,5,$APP.V,[$APP.Gy,"Enter the name of the new schematic"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gy,new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,3,[$APP.Gj,"valuefield",$APP.Xz,"text",$APP.Xx,!0],null)],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Gy,new $APP.U(null,
3,5,$APP.V,[$APP.Vz,new $APP.l(null,1,[$APP.Dy,function(){return $APP.pf($APP.Yu,null)}],null),"Cancel"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,2,[$APP.Xz,"submit",$APP.Hw,"Ok"],null)],null)],null)],null))},iH=function(a,b,c){return $APP.pf($APP.$u,new $APP.l(null,3,[$APP.Qu,a,$APP.Ru,b,$APP.av,c],null))},jH=function(a,b){var c=function(){var e=$APP.zd(a);return $APP.dB.g?$APP.dB.g(e):$APP.dB.call(null,e)}(),d=$APP.n(c)?a==null?null:$APP.Fb(a):a;d=$APP.Dg.h($APP.R,$APP.lf(function(e,
f){return new $APP.U(null,2,5,$APP.V,[["category.",$APP.r.g(e)].join(""),f],null)},d));c=$APP.n(c)?$APP.W.i(d,$APP.Xz,c):d;return $APP.D(b)?$APP.W.i(c,$APP.Gj,new $APP.l(null,1,["$regex",["(?i)",$APP.r.g(b)].join("")],null)):c},mH=function(a,b){var c=$APP.Lm(1);$APP.om(function(){var d=function(){function f(g){var h=g[1];if(h===7)return h=jH(b,a),h=eH(h),$APP.Im(g,10,h);if(h===1)return h=$APP.pf(kH,!0),g[7]=h,g[2]=null,g[1]=2,$APP.Z;if(h===4){g[4]=$APP.Mc(g[4]);h=g[2];var m=$APP.pf(kH,!1),p=g[5];
if($APP.n(p))throw p;g[8]=m;g[2]=h;g[1]=3;return $APP.Z}if(h===15)return h=$APP.Tm(cH,"models",10),$APP.Im(g,18,h);if(h===13)return g[2]=g[2],g[1]=9,$APP.Z;if(h===6){g[4]=$APP.Mc(g[4]);h=g[2];g[5]=h;if(h instanceof Error)g[1]=5,g[5]=null;else throw h;return $APP.Z}return h===17?(g[2]=g[2],g[1]=13,$APP.Z):h===3?$APP.Jm(g,g[2]):h===12?(g[1]=15,$APP.Z):h===2?(g[4]=$APP.ze(4,g[4]),g[4]=$APP.ze(6,g[4]),h=$APP.D(b),g[1]=h?7:8,$APP.Z):h===11?(h=dH($APP.wj(a)),$APP.Im(g,14,h)):h===9?(h=$APP.pf(lH,g[2]),g[4]=
$APP.Mc(g[4]),g[2]=h,g[1]=4,$APP.Z):h===5?(m=console.error("Remote search error:",g[2]),h=$APP.pf(lH,$APP.Fg),g[9]=m,g[2]=h,g[1]=4,$APP.Z):h===14?(g[2]=g[2],g[1]=13,$APP.Z):h===16?(g[2]=null,g[1]=17,$APP.Z):h===10?(g[2]=g[2],g[1]=9,$APP.Z):h===18?(g[2]=g[2],g[1]=17,$APP.Z):h===8?(h=$APP.D(a),g[1]=h?11:12,$APP.Z):null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.Q(q,$APP.Z)){var t=q;break a}}}catch(w){t=w;p[2]=t;if($APP.D(p[4]))p[1]=$APP.E(p[4]);else throw t;t=$APP.Z;
break a}t=void 0}if(!$APP.Q(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null,null,null,null];p[0]=m;p[1]=1;return p}var m=null;m=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};m.m=h;m.g=g;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Hm(e)});return c},oH=function(a){var b=cH.replicate.to(nH,{doc_ids:[a],live:!1});b.on("complete",function(){return console.log("Model replicated:",
a)});return b.on("error",function(c){return console.error("Replication error:",c)})},rH=function(){var a=$APP.u(pH),b=$APP.u(qH);a=jH(a,b);b=cH.replicate.to(nH,{selector:$APP.ql(a),live:!1});$APP.wi($APP.M([a]));b.on("complete",function(){return console.log("Filtered models replicated")});return b.on("error",function(c){return console.error("Replication error:",c)})},sH=function(a){var b=new URL("..",window.location);b.searchParams.append("schem",$APP.Uu(a));return b},tH=function(a){a=$APP.Ye(a);
a=$APP.O(a,$APP.Vy);var b=$APP.Ou(a).transformPoint($APP.Su(1,0));a=b.x;b=b.y;return Math.abs(a)>Math.abs(b)?a<0?$APP.Zt:$APP.ev:b<0?$APP.ky:$APP.dv},uH=function(a,b){var c=$APP.Lm(1);$APP.om(function(){var d=function(){function f(g){var h=g[1];if(h===1)return h=$APP.Tm(nH,$APP.Uu(a),null),$APP.Im(g,2,h);if(h===2){var m=g[2];h=$APP.Af(function(){return function(w){return $APP.J.h($APP.Xz.g(w),"port")}}());var p=$APP.Af($APP.hf(function(){return function(w){return $APP.J.h($APP.gw.g(w),"text")}}())),
q=$APP.tf.g($APP.bi(tH,$APP.Gj)),t=$APP.rv.i(h,p,q);h=$APP.X.u(b,$APP.tv,$APP.fx,function(){return function(){return $APP.ee(t,function(w,y){var z=$APP.N(y,0,null);y=$APP.N(y,1,null);return $APP.tv.u(w,z,$APP.we,y)},new $APP.l(null,4,[$APP.dv,$APP.Yf,$APP.ky,$APP.Yf,$APP.ev,$APP.Yf,$APP.Zt,$APP.Yf],null),$APP.Dh(m))}}());return $APP.Jm(g,h)}return null}return function(){function g(p){for(;;){a:{try{for(;;){var q=f(p);if(!$APP.Q(q,$APP.Z)){var t=q;break a}}}catch(w){t=w;p[2]=t;if($APP.D(p[4]))p[1]=
$APP.E(p[4]);else throw t;t=$APP.Z;break a}t=void 0}if(!$APP.Q(t,$APP.Z))return t}}function h(){var p=[null,null,null,null,null,null,null];p[0]=m;p[1]=1;return p}var m=null;m=function(p){switch(arguments.length){case 0:return h.call(this);case 1:return g.call(this,p)}throw Error("Invalid arity: "+arguments.length);};m.m=h;m.g=g;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return $APP.Hm(e)});return c},vH=function(a){return $APP.pf($APP.Yu,new $APP.U(null,5,5,$APP.V,[$APP.By,new $APP.l(null,
1,[$APP.qz,function(b){b.preventDefault();var c=b.target.elements.devicetype.value;b=b.target.elements.modelname.value;$APP.D(b)&&$APP.Od($APP.dB,c)&&(a.h?a.h(c,b):a.call(null,c,b));return $APP.pf($APP.Yu,null)}],null),new $APP.U(null,2,5,$APP.V,[$APP.Gy,"Enter the type and name of the new SPICE model"],null),new $APP.U(null,3,5,$APP.V,[$APP.Gy,new $APP.U(null,3,5,$APP.V,[$APP.Uw,new $APP.l(null,3,[$APP.Gj,"devicetype",$APP.Cl,"device-type",$APP.Xv,"diode"],null),function(){return function d(c){return new $APP.De(null,
function(){for(;;){var e=$APP.D(c);if(e){if($APP.Hd(e)){var f=$APP.nc(e),g=$APP.H(f),h=$APP.Ge(g);a:{for(var m=0;;)if(m<g){var p=$APP.qd(f,m);h.add(new $APP.U(null,3,5,$APP.V,[$APP.qy,new $APP.l(null,2,[$APP.Jj,p,$APP.Hw,p],null),p],null));m+=1}else{f=!0;break a}f=void 0}return f?$APP.Le($APP.Ne(h),d($APP.oc(e))):$APP.Le($APP.Ne(h),null)}h=$APP.E(e);return $APP.ze(new $APP.U(null,3,5,$APP.V,[$APP.qy,new $APP.l(null,2,[$APP.Jj,h,$APP.Hw,h],null),h],null),d($APP.Mc(e)))}return null}},null,null)}($APP.Td($APP.Pd,
$APP.dB))}()],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,5,[$APP.Gj,"modelname",$APP.Cl,"model-name",$APP.Xz,"text",$APP.Xx,!0,$APP.yz,"Model name"],null)],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.Gy,new $APP.U(null,3,5,$APP.V,[$APP.Vz,new $APP.l(null,2,[$APP.Xz,"button",$APP.Dy,function(){return $APP.pf($APP.Yu,null)}],null),"Cancel"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,2,[$APP.Xz,"submit",$APP.Hw,"Create"],null)],null)],null)],null))},yH=function(a,b,c){a.preventDefault();
var d=$APP.O($APP.u(b),c);return iH(a.clientX,a.clientY,new $APP.U(null,3,5,$APP.V,[wH,$APP.Sa($APP.nz.g(d))?new $APP.U(null,3,5,$APP.V,[xH,new $APP.l(null,1,[$APP.Dy,function(){return window.open(sH(c),c)}],null),"edit"],null):null,new $APP.U(null,3,5,$APP.V,[xH,new $APP.l(null,1,[$APP.Dy,function(){return $APP.X.i(b,$APP.ek,c)}],null),"delete"],null)],null))},zH=function(a,b){var c=$APP.J,d=c.h,e=$APP.H(a),f=$APP.H(b);return d.call(c,$APP.eg(null,a,0,(e<f?e:f)|0,null),b)},BH=function(){var a=$APP.u(AH);
return $APP.bb(function(b,c){$APP.N(c,0,null);c=$APP.N(c,1,null);var d=$APP.Iy.g(c);d=$APP.n(d)?d:$APP.Yf;c=$APP.Xz.h(c,"ckt");return $APP.sv(b,$APP.we.h(d,c),$APP.Jh)},$APP.R,a)},FH=function(){return new $APP.U(null,2,5,$APP.V,[CH,$APP.D($APP.u(AH))?new $APP.U(null,3,5,$APP.V,[DH,$APP.Yf,BH()],null):new $APP.U(null,2,5,$APP.V,[EH,"There aren't any models yet"],null)],null)},RH=function(a){var b=$APP.Bf(function(c){var d=$APP.N(c,0,null),e=$APP.N(c,1,null);c=$APP.we.h;var f=$APP.Iy.g(e);c=c.call($APP.we,
$APP.n(f)?f:$APP.Yf,$APP.Xz.h(e,"ckt"));d=$APP.sd(e,$APP.Gj,d);d=$APP.wj(d);e=$APP.wj($APP.u(qH));d=d.indexOf(e)!=-1;return zH(c,$APP.u(pH))&&d},$APP.u(a));return new $APP.U(null,3,5,$APP.V,[GH,new $APP.U(null,3,5,$APP.V,[HH,new $APP.U(null,2,5,$APP.V,[IH,"Installed"],null),$APP.D(b)?new $APP.U(null,5,5,$APP.V,[$APP.YB,JH,$APP.ci(function(){return function e(d){return new $APP.De(null,function(){for(;;){var f=$APP.D(d);if(f){if($APP.Hd(f)){var g=$APP.nc(f),h=$APP.H(g),m=$APP.Ge(h);a:{for(var p=0;;)if(p<
h){var q=$APP.qd(g,p),t=$APP.N(q,0,null),w=$APP.N(q,1,null),y=$APP.Sa($APP.nz.g(w))?$APP.QB:$APP.PB;q=m;t=new $APP.U(null,3,5,$APP.V,[new $APP.U(null,4,5,$APP.V,[$APP.Tz,new $APP.U(null,1,5,$APP.V,[y],null)," ",$APP.sd(w,$APP.Gj,t)],null),t,$APP.sd(w,$APP.Gj,t)],null);q.add(t);p+=1}else{g=!0;break a}g=void 0}return g?$APP.Le($APP.Ne(m),e($APP.oc(f))):$APP.Le($APP.Ne(m),null)}g=$APP.E(f);m=$APP.N(g,0,null);g=$APP.N(g,1,null);h=$APP.Sa($APP.nz.g(g))?$APP.QB:$APP.PB;return $APP.ze(new $APP.U(null,3,
5,$APP.V,[new $APP.U(null,4,5,$APP.V,[$APP.Tz,new $APP.U(null,1,5,$APP.V,[h],null)," ",$APP.sd(g,$APP.Gj,m)],null),m,$APP.sd(g,$APP.Gj,m)],null),e($APP.Mc(f)))}return null}},null,null)}(b)}()),function(c){return $APP.Sa($APP.Df($APP.u(a),new $APP.U(null,2,5,$APP.V,[c,$APP.nz],null)))?function(){return window.open(sH(c))}:null},function(c){return function(d){return yH(d,a,c)}}],null):new $APP.U(null,2,5,$APP.V,[EH,"No installed models found"],null)],null),new $APP.U(null,3,5,$APP.V,[KH,new $APP.U(null,
3,5,$APP.V,[LH,new $APP.U(null,2,5,$APP.V,[IH,"Available"],null),$APP.D($APP.u(lH))?new $APP.U(null,4,5,$APP.V,[MH,new $APP.l(null,2,[$APP.Dy,function(){return rH()},$APP.ow,"Download all matching models"],null),new $APP.U(null,1,5,$APP.V,[$APP.SB],null),"Download All"],null):null],null),$APP.n($APP.u(kH))?new $APP.U(null,2,5,$APP.V,[NH,"Loading..."],null):$APP.D($APP.u(lH))?new $APP.U(null,2,5,$APP.V,[OH,$APP.ci(function(){return function e(d){return new $APP.De(null,function(){for(;;){var f=$APP.D(d);
if(f){var g=f;if($APP.Hd(g)){var h=$APP.nc(g),m=$APP.H(h),p=$APP.Ge(m);return function(){for(var A=0;;)if(A<m){var F=$APP.qd(h,A),I=$APP.N(F,0,null),K=$APP.N(F,1,null),S=$APP.Sa($APP.nz.g(K)),Y=S?$APP.QB:$APP.PB;$APP.Me(p,new $APP.U(null,6,5,$APP.V,[PH,new $APP.l(null,1,[$APP.Jj,I],null),new $APP.U(null,1,5,$APP.V,[Y],null)," ",$APP.sd(K,$APP.Gj,I),new $APP.U(null,3,5,$APP.V,[QH,new $APP.l(null,2,[$APP.Dy,function(ma,ra,Qa,Za,za){return function(){return oH(za)}}(A,S,Y,F,I,K,h,m,p,g,f,b),$APP.ow,
"Download this model"],null),new $APP.U(null,1,5,$APP.V,[$APP.SB],null)],null)],null));A+=1}else return!0}()?$APP.Le($APP.Ne(p),e($APP.oc(g))):$APP.Le($APP.Ne(p),null)}var q=$APP.E(g),t=$APP.N(q,0,null),w=$APP.N(q,1,null),y=$APP.Sa($APP.nz.g(w)),z=y?$APP.QB:$APP.PB;return $APP.ze(new $APP.U(null,6,5,$APP.V,[PH,new $APP.l(null,1,[$APP.Jj,t],null),new $APP.U(null,1,5,$APP.V,[z],null)," ",$APP.sd(w,$APP.Gj,t),new $APP.U(null,3,5,$APP.V,[QH,new $APP.l(null,2,[$APP.Dy,function(A,F,I,K){return function(){return oH(K)}}(y,
z,q,t,w,g,f,b),$APP.ow,"Download this model"],null),new $APP.U(null,1,5,$APP.V,[$APP.SB],null)],null)],null),e($APP.Mc(g)))}return null}},null,null)}($APP.u(lH))}())],null):new $APP.U(null,2,5,$APP.V,[EH,"No remote models found"],null)],null)],null)},SH=function(a,b){var c=new $APP.U(null,2,5,$APP.V,[$APP.fx,b],null);return new $APP.U(null,3,5,$APP.V,[$APP.Sz,new $APP.U(null,3,5,$APP.V,[$APP.ix,new $APP.l(null,1,[$APP.Fy,$APP.Ph(b)],null),$APP.Ph(b)],null),new $APP.U(null,6,5,$APP.V,[fH,$APP.Gx,new $APP.l(null,
2,[$APP.Cl,$APP.Ph(b),$APP.Xz,"text"],null),a,function(d){return $APP.uj(" ",$APP.Df(d,c))},function(d,e){return $APP.X.u(d,$APP.sv,c,$APP.zj(e,/[, ]+/,-1))}],null)],null)},ZH=function(a){var b=$APP.Ll(a,new $APP.U(null,1,5,$APP.V,[$APP.u(JH)],null));a=$APP.Ll(TH,new $APP.U(null,1,5,$APP.V,[$APP.u(JH)],null));var c=$APP.Ll(a,new $APP.U(null,1,5,$APP.V,[UH],null)),d=$APP.Ll(a,new $APP.U(null,1,5,$APP.V,[VH],null)),e=$APP.Ll(b,new $APP.U(null,2,5,$APP.V,[$APP.nz,$APP.u(c)],null)),f=$APP.Ll(e,new $APP.U(null,
1,5,$APP.V,[$APP.u(d)],null));$APP.D($APP.u(a))||$APP.pf(a,new $APP.l(null,2,[UH,WH,VH,0],null));return $APP.n($APP.u(JH))?new $APP.U(null,6,5,$APP.V,[$APP.Pv,new $APP.U(null,3,5,$APP.V,[$APP.ix,new $APP.l(null,1,[$APP.Fy,"model-name"],null),"Name"],null),new $APP.U(null,6,5,$APP.V,[fH,$APP.Gx,new $APP.l(null,1,[$APP.Cl,"model-name"],null),b,$APP.Gj,function(g,h){return $APP.X.u(g,$APP.W,$APP.Gj,h)}],null),new $APP.U(null,3,5,$APP.V,[$APP.ix,new $APP.l(null,2,[$APP.Fy,"categories",$APP.ow,"Comma-seperated device categories"],
null),"Categories"],null),new $APP.U(null,6,5,$APP.V,[fH,$APP.Gx,new $APP.l(null,1,[$APP.Cl,"categories"],null),b,function(g){g=$APP.Iy.g(g);return $APP.uj(" ",$APP.n(g)?g:$APP.Yf)},function(g,h){return $APP.X.u(g,$APP.W,$APP.Iy,$APP.zj(h,/[, ]+/,-1))}],null),$APP.J.h($APP.Xz.h($APP.u(b),"ckt"),"ckt")?new $APP.U(null,7,5,$APP.V,[$APP.Sz,new $APP.U(null,2,5,$APP.V,[XH,"Port Configuration"],null),$APP.Sa($APP.nz.g($APP.u(b)))?new $APP.U(null,3,5,$APP.V,[$APP.Vz,new $APP.l(null,1,[$APP.Dy,function(){return uH($APP.u(JH),
b)}],null),"Import from schematic"],null):null,new $APP.U(null,3,5,$APP.V,[SH,b,$APP.dv],null),new $APP.U(null,3,5,$APP.V,[SH,b,$APP.ky],null),new $APP.U(null,3,5,$APP.V,[SH,b,$APP.ev],null),new $APP.U(null,3,5,$APP.V,[SH,b,$APP.Zt],null)],null):new $APP.U(null,10,5,$APP.V,[$APP.Sz,new $APP.U(null,3,5,$APP.V,[$APP.ix,new $APP.l(null,2,[$APP.Fy,"device-type",$APP.ow,"Device type"],null),"Device Type"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,4,[$APP.Cl,"device-type",$APP.Xz,"text",
$APP.qx,!0,$APP.Hw,$APP.Xz.g($APP.u(b))],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.ix,new $APP.l(null,1,[$APP.Fy,"language"],null),"Language"],null),new $APP.U(null,6,5,$APP.V,[$APP.Uw,new $APP.l(null,4,[$APP.Cl,"language",$APP.Xz,"text",$APP.Hw,function(){var g=$APP.u(c);return $APP.n(g)?$APP.Ph(g):"spice"}(),$APP.uw,function(g){return $APP.pf(c,$APP.oi.g(g.target.value))}],null),new $APP.U(null,3,5,$APP.V,[$APP.qy,new $APP.l(null,1,[$APP.Hw,"spice"],null),"Spice"],null),new $APP.U(null,3,5,
$APP.V,[$APP.qy,new $APP.l(null,1,[$APP.Hw,"spectre"],null),"Spectre"],null),new $APP.U(null,3,5,$APP.V,[$APP.qy,new $APP.l(null,1,[$APP.Hw,"verilog"],null),"Verilog"],null),new $APP.U(null,3,5,$APP.V,[$APP.qy,new $APP.l(null,1,[$APP.Hw,"vhdl"],null),"VHDL"],null)],null),new $APP.U(null,3,5,$APP.V,[$APP.ix,new $APP.l(null,1,[$APP.Fy,"implementation"],null),"Implementation"],null),new $APP.U(null,8,5,$APP.V,[gH,new $APP.l(null,1,[$APP.Cl,"implementation"],null),f,d,e,function(g){return $APP.we.h($APP.D(g)?
g:new $APP.U(null,1,5,$APP.V,[new $APP.l(null,1,[$APP.Gj,"default"],null)],null),new $APP.l(null,1,[$APP.Gj,"\x3cnew\x3e"],null))},function(g){return $APP.Gj.h(g,"default")},function(g,h){return $APP.X.u(g,$APP.W,$APP.Gj,h)}],null),new $APP.U(null,3,5,$APP.V,[$APP.ix,new $APP.l(null,1,[$APP.Fy,"template-code"],null),"Code"],null),new $APP.U(null,6,5,$APP.V,[fH,$APP.Ky,new $APP.l(null,2,[$APP.Cl,"template-code",YH,8],null),f,$APP.Yy,function(g,h){return $APP.X.u(g,$APP.W,$APP.Yy,h)}],null),$APP.J.h($APP.u(c),
WH)?new $APP.U(null,3,5,$APP.V,[$APP.Sz,new $APP.U(null,3,5,$APP.V,[$APP.ix,new $APP.l(null,2,[$APP.Fy,"use-x",$APP.ow,"Forces subcircuit instantiation even for other device types"],null),"Use X"],null),new $APP.U(null,2,5,$APP.V,[$APP.Gx,new $APP.l(null,4,[$APP.Xz,"checkbox",$APP.Cl,"use-x",$APP.Qz,$APP.sd($APP.u(f),$APP.ay,!1),$APP.uw,function(g){return $APP.X.u(f,$APP.W,$APP.ay,g.target.checked)}],null)],null)],null):null],null)],null):new $APP.U(null,2,5,$APP.V,[EH,"Select a model to edit its properties."],
null)},cI=function(a){a=$APP.Ll(a,new $APP.U(null,1,5,$APP.V,[$APP.u(JH)],null));return new $APP.U(null,2,5,$APP.V,[$H,$APP.n($APP.u(JH))?$APP.Sa($APP.nz.g($APP.u(a)))?new $APP.U(null,3,5,$APP.V,[$APP.Sz,new $APP.U(null,4,5,$APP.V,[$APP.sw,new $APP.l(null,2,[$APP.Dy,function(){return window.open(sH($APP.u(JH)),$APP.u(JH))},$APP.ow,"Edit"],null),new $APP.U(null,1,5,$APP.V,[$APP.XB],null)," Edit"],null),$APP.n($APP.u(aI))?new $APP.U(null,3,5,$APP.V,[bI,new $APP.l(null,2,[$APP.$v,$APP.u(aI),$APP.Xz,
"image/svg+xml"],null),"Schematic preview"],null):new $APP.U(null,2,5,$APP.V,[EH,"No preview available. Use the snapshot button in the schematic editor to create one."],null)],null):new $APP.U(null,2,5,$APP.V,[EH,"N/A"],null):new $APP.U(null,2,5,$APP.V,[EH,"Select a model to preview."],null)],null)},nI=function(){var a=$APP.n($APP.u(dI))?$APP.Zf($APP.Oh($APP.u(pH))):$APP.u(pH);return new $APP.U(null,3,5,$APP.V,[$APP.Sz,new $APP.U(null,4,5,$APP.V,[eI,new $APP.U(null,3,5,$APP.V,[fI,new $APP.U(null,
4,5,$APP.V,[$APP.sw,new $APP.l(null,1,[$APP.Dy,function(){return hH(function(b){var c=["models:",$APP.r.g($APP.dj())].join("");return $APP.X.u(AH,$APP.W,c,new $APP.l(null,3,[$APP.Gj,b,$APP.Xz,"ckt",$APP.Iy,a],null))})}],null),new $APP.U(null,1,5,$APP.V,[$APP.RB],null),"Add schematic"],null),new $APP.U(null,4,5,$APP.V,[$APP.Vz,new $APP.l(null,1,[$APP.Dy,function(){return vH(function(b,c){var d=["models:",$APP.r.g($APP.dj())].join("");return $APP.X.u(AH,$APP.W,d,new $APP.l(null,4,[$APP.Gj,c,$APP.Xz,
b,$APP.Iy,a,$APP.nz,new $APP.l(null,4,[WH,$APP.Yf,gI,$APP.Yf,hI,$APP.Yf,iI,$APP.Yf],null)],null))})}],null),new $APP.U(null,1,5,$APP.V,[$APP.RB],null),"Add SPICE model"],null)],null),new $APP.U(null,3,5,$APP.V,[jI,new $APP.U(null,3,5,$APP.V,[kI,"Models: ",$APP.D($APP.u(pH))?$APP.uj("/",$APP.u(pH)):"All models"],null),new $APP.U(null,6,5,$APP.V,[fH,$APP.Gx,new $APP.l(null,3,[$APP.Xz,"text",$APP.yz,"Filter models...",$APP.Al,"filter-input"],null),qH,$APP.de,$APP.pf],null)],null),new $APP.U(null,2,5,
$APP.V,[RH,AH],null)],null),new $APP.U(null,4,5,$APP.V,[lI,new $APP.U(null,2,5,$APP.V,[cI,AH],null),new $APP.U(null,2,5,$APP.V,[mI,"Model Properties"],null),new $APP.U(null,2,5,$APP.V,[ZH,AH],null)],null)],null)},rI=function(){return new $APP.U(null,5,5,$APP.V,[$APP.Sz,new $APP.U(null,3,5,$APP.V,[oI,new $APP.U(null,3,5,$APP.V,[pI,new $APP.U(null,2,5,$APP.V,[$APP.gy,"Libraries"],null),$APP.n($APP.u(qI))?new $APP.U(null,3,5,$APP.V,[$APP.Iw,new $APP.l(null,1,[$APP.ow,"saving changes"],null),new $APP.U(null,
1,5,$APP.V,[$APP.TB],null)],null):new $APP.U(null,3,5,$APP.V,[$APP.Ny,new $APP.l(null,1,[$APP.ow,"changes saved"],null),new $APP.U(null,1,5,$APP.V,[$APP.UB],null)],null)],null),new $APP.U(null,1,5,$APP.V,[FH],null)],null),new $APP.U(null,1,5,$APP.V,[nI],null),new $APP.U(null,1,5,$APP.V,[$APP.fv],null),new $APP.U(null,1,5,$APP.V,[$APP.Zu],null)],null)},sI=function(){window.name="libman";document.onclick=function(){return $APP.X.u($APP.$u,$APP.W,$APP.av,null)};return $APP.Rl(new $APP.U(null,1,5,$APP.V,
[rI],null),document.querySelector(".mosaic-app.mosaic-libman"))},eI=new $APP.P(null,"div.schsel","div.schsel",-1209283060),CH=new $APP.P(null,"div.cellsel","div.cellsel",-277762551),bI=new $APP.P(null,"object","object",1474613949),QH=new $APP.P(null,"button.download-btn","button.download-btn",393799271),jI=new $APP.P(null,"div.models-header","div.models-header",663084968),fI=new $APP.P(null,"div.addbuttons","div.addbuttons",-579122699),LH=new $APP.P(null,"div.section-header-with-button","div.section-header-with-button",
-1496927002),UH=new $APP.P(null,"lang","lang",-1819677104),YH=new $APP.P(null,"rows","rows",850049680),MH=new $APP.P(null,"button.download-btn.all","button.download-btn.all",1621055522),VH=new $APP.P(null,"impl","impl",1677848700),tI=new $APP.P(null,"on-toggle","on-toggle",-695538774),WH=new $APP.P(null,"spice","spice",1062386404),IH=new $APP.P(null,"h4.section-header","h4.section-header",-1932630550),OH=new $APP.P(null,"div.remote-models","div.remote-models",1057366884),mI=new $APP.P(null,"h3","h3",
2067611163),kI=new $APP.P(null,"h2","h2",-372662728),XH=new $APP.P(null,"h4","h4",2004862993),HH=new $APP.P(null,"div.installed-section","div.installed-section",1048260336),lI=new $APP.P(null,"div.proppane","div.proppane",-1332639267),uI=new $APP.P("nyancad.mosaic.libman","preview-loader","nyancad.mosaic.libman/preview-loader",-817072560),KH=new $APP.P(null,"div.available-section","div.available-section",845121981),GH=new $APP.P(null,"div.schematics","div.schematics",908542795),EH=new $APP.P(null,
"div.empty","div.empty",47401225),hI=new $APP.P(null,"verilog","verilog",-637374307),xH=new $APP.P(null,"li","li",723558921),vI=new $APP.P("nyancad.mosaic.libman","remote-search","nyancad.mosaic.libman/remote-search",962545358),$H=new $APP.P(null,"div.preview","div.preview",-1882273840),wH=new $APP.P(null,"ul","ul",-1349521403),wI=new $APP.P(null,"preview.svg","preview.svg",367345699),xI=new $APP.P(null,"open","open",-1763596448),yI=new $APP.P(null,"div.detailbody","div.detailbody",-1679946259),gI=
new $APP.P(null,"spectre","spectre",-2121928684),zI=new $APP.P(null,"details.tree","details.tree",-1643409151),iI=new $APP.P(null,"vhdl","vhdl",2122312874),pI=new $APP.P(null,"div.libhead","div.libhead",1365032704),oI=new $APP.P(null,"div.libraries","div.libraries",704668226),NH=new $APP.P(null,"div.loading-spinner","div.loading-spinner",404753947),AI=new $APP.P("nyancad.mosaic.libman","remote-search-category","nyancad.mosaic.libman/remote-search-category",-216653617),PH=new $APP.P(null,"label.remote-model",
"label.remote-model",2141806916);var nH=new $APP.kA("schematics"),cH=new $APP.kA("https://api.nyancad.com/models"),AH=$APP.$m(nH,"models",$APP.Jl($APP.R));$APP.qf(AH.cache,function(a){var b=$APP.Tn($APP.Dx,a);return b?b:console.log($APP.Fi.j($APP.M([a])),$APP.Pn($APP.Dx,a))});$APP.Ym(nH,$APP.M([AH]));
var pH=$APP.Jl($APP.Yf),JH=$APP.Jl(null),qI=$APP.Jl(!1),qH=$APP.Jl(""),TH=$APP.Jl($APP.R),aI=$APP.Jl(null),lH=$APP.Jl($APP.R),kH=$APP.Jl(!1),dI=$APP.Kl(function(){var a=$APP.zd($APP.u(pH));return $APP.dB.g?$APP.dB.g(a):$APP.dB.call(null,a)});
$APP.Bi(JH,uI,function(a,b,c,d){if($APP.n(d)){var e=$APP.Lm(1);$APP.om(function(){var f=function(){function h(m){var p=m[1];if(p===7)return p=m[7],m[2]=p,m[1]=8,$APP.Z;if(p===1){var q=[$APP.r.g($APP.Uu(d)),"$snapshots"].join("");p=[$APP.r.g(q),":"].join("");q=[$APP.r.g(q),":￰"].join("");p=$APP.Om(nH,{include_docs:!0,attachments:!0,binary:!0,endkey:p,startkey:q,descending:!0,limit:1});p=$APP.Nm(p);return $APP.Im(m,2,p)}if(p===4)return m[2]=m[8],m[1]=5,$APP.Z;if(p===6)throw p=m[7],p;return p===3?(p=
m[7],p=$APP.fj.g($APP.ij(p)),p=$APP.J.h(p,$APP.gj),m[2]=p,m[1]=5,$APP.Z):p===2?(p=m[2],q=p instanceof $APP.hj,m[7]=p,m[8]=q,m[1]=$APP.n(q)?3:4,$APP.Z):p===11?$APP.Jm(m,m[2]):p===9?(p=URL.createObjectURL(m[9]),p=$APP.pf(aI,p),m[2]=p,m[1]=11,$APP.Z):p===5?(m[1]=$APP.n(m[2])?6:7,$APP.Z):p===10?(p=$APP.pf(aI,null),m[2]=p,m[1]=11,$APP.Z):p===8?(p=$APP.Li(m[2].rows,$APP.M([$APP.Ji,!0])),p=$APP.Df(p,new $APP.U(null,5,5,$APP.V,[0,$APP.Sm,$APP.Ow,wI,$APP.$v],null)),m[9]=p,m[1]=$APP.n(p)?9:10,$APP.Z):null}
return function(){function m(t){for(;;){a:{try{for(;;){var w=h(t);if(!$APP.Q(w,$APP.Z)){var y=w;break a}}}catch(z){y=z;t[2]=y;if($APP.D(t[4]))t[1]=$APP.E(t[4]);else throw y;y=$APP.Z;break a}y=void 0}if(!$APP.Q(y,$APP.Z))return y}}function p(){var t=[null,null,null,null,null,null,null,null,null,null];t[0]=q;t[1]=1;return t}var q=null;q=function(t){switch(arguments.length){case 0:return p.call(this);case 1:return m.call(this,t)}throw Error("Invalid arity: "+arguments.length);};q.m=p;q.g=m;return q}()}(),
g=function(){var h=f();h[6]=e;return h}();return $APP.Hm(g)});return e}return $APP.pf(aI,null)});$APP.Bi(qH,vI,function(a,b,c,d){return mH(d,$APP.u(pH))});$APP.Bi(pH,AI,function(a,b,c,d){return mH($APP.u(qH),d)});mH($APP.u(qH),$APP.u(pH));
var DH=function DH(a,b){return new $APP.U(null,2,5,$APP.V,[$APP.Sz,$APP.ci(function(){return function f(e){return new $APP.De(null,function(){for(;;){var g=$APP.D(e);if(g){var h=g;if($APP.Hd(h)){var m=$APP.nc(h),p=$APP.H(m),q=$APP.Ge(p);return function(){for(var A=0;;)if(A<p){var F=$APP.qd(m,A),I=$APP.N(F,0,null),K=$APP.N(F,1,null),S=$APP.we.h(a,I);$APP.Me(q,new $APP.U(null,4,5,$APP.V,[zI,new $APP.l(null,4,[$APP.Jj,S,$APP.Al,S,xI,zH($APP.u(pH),S),tI,function(Y,ma){return function(ra){ra.stopPropagation();
return $APP.n(ra.target.open)?$APP.pf(pH,ma):zH($APP.u(pH),ma)?$APP.pf(pH,ma==null?null:$APP.Fb(ma)):null}}(A,S,F,I,K,m,p,q,h,g)],null),new $APP.U(null,2,5,$APP.V,[$APP.oy,I],null),$APP.D(K)?new $APP.U(null,2,5,$APP.V,[yI,new $APP.U(null,3,5,$APP.V,[DH,S,K],null)],null):null],null));A+=1}else return!0}()?$APP.Le($APP.Ne(q),f($APP.oc(h))):$APP.Le($APP.Ne(q),null)}var t=$APP.E(h),w=$APP.N(t,0,null),y=$APP.N(t,1,null),z=$APP.we.h(a,w);return $APP.ze(new $APP.U(null,4,5,$APP.V,[zI,new $APP.l(null,4,[$APP.Jj,
z,$APP.Al,z,xI,zH($APP.u(pH),z),tI,function(A){return function(F){F.stopPropagation();return $APP.n(F.target.open)?$APP.pf(pH,A):zH($APP.u(pH),A)?$APP.pf(pH,A==null?null:$APP.Fb(A)):null}}(z,t,w,y,h,g)],null),new $APP.U(null,2,5,$APP.V,[$APP.oy,w],null),$APP.D(y)?new $APP.U(null,2,5,$APP.V,[yI,new $APP.U(null,3,5,$APP.V,[DH,z,y],null)],null):null],null),f($APP.Mc(h)))}return null}},null,null)}(b)}())],null)};$APP.ja("nyancad.mosaic.libman.init",sI);sI();