[build-system]
requires = [
    "scikit-build-core",
    "setuptools_scm[toml]>=6.2"
]
build-backend = "scikit_build_core.build"

[project]
name = "processligand-py"
dynamic = ["version"]
description = "Python wheels and a wrapper for ProcessLigand, a tool to prepare target and ligand files for FlexAID"
authors = [
    {name = "Thomas DesCÃ´teaux"},
    {name = "Rafael Najmanovich", email = "rafael.najmanovich@umontreal.ca"},
]
classifiers = [
    'Intended Audience :: Science/Research',
    'License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)',
    'Natural Language :: English',
]

readme = "README.md"
requires-python = ">=3.9"

[project.urls]
Homepage = "https://github.com/NRGlab"
Documentation = "https://github.com/NRGlab/processligand-py/blob/main/README.md"
Repository = "https://github.com/NRGlab/processligand-py"
Issues = "https://github.com/NRGlab/processligand-py/issues"

[tool.scikit-build]
wheel.install-dir = "processligandpy"
wheel.py-api = "py3"
metadata.version.provider = "scikit_build_core.metadata.setuptools_scm"
cmake.build-type = "Release"
wheel.exclude = ["obabel", "roundtrip", "**/lib", "**/include", "**/share/man"]

[tool.setuptools.packages.find]
include = ["processligandpypy","processligandpypy.*"]

[tool.setuptools_scm]

[tool.cibuildwheel]
build = "cp39-*"
skip = [
    "*-win32",
    "*-manylinux_i686",
    "*-musllinux*",
]

[tool.cibuildwheel.linux]
before-build = "yum install -y glibc-static libstdc++-static"

environment-pass = ["CIBW_BUILD"]
