# Generated by ariadne-codegen
# Source: src/veri_agents_aiware/aiware_client/graphql/operations

from typing import Any, Dict, List

from .client_ref import BaseAiwareGraphQL
from .rag_get_td_os_meta import RAGGetTDOsMeta
from .rag_get_tdo_content import RAGGetTDOContent


def gql(q: str) -> str:
    return q


class AgentsAiwareGraphQL(BaseAiwareGraphQL):
    def rag_get_tdo_content(self, id: str, **kwargs: Any) -> RAGGetTDOContent:
        query = gql(
            """
            query RAG_GetTDO_Content($id: ID!) {
              temporalDataObject(id: $id) {
                id
                createdDateTime
                modifiedDateTime
                name
                ...TDO_Content
              }
            }

            fragment TDO_Content on TemporalDataObject {
              assets(assetType: ["text", "AION", "vtn-standard"]) {
                records {
                  name
                  contentType
                  assetType
                  signedUri
                  uri
                  sourceData {
                    name
                    engine {
                      category {
                        name
                      }
                    }
                  }
                }
              }
            }
            """
        )
        variables: Dict[str, object] = {"id": id}
        response = self.execute(
            query=query,
            operation_name="RAG_GetTDO_Content",
            variables=variables,
            **kwargs
        )
        data = self.get_data(response)
        return RAGGetTDOContent.model_validate(data)

    def rag_get_td_os_meta(
        self, ids: List[str], idsCount: int, **kwargs: Any
    ) -> RAGGetTDOsMeta:
        query = gql(
            """
            query RAG_GetTDOs_Meta($ids: [ID!]!, $idsCount: Int!) {
              temporalDataObjects(ids: $ids, limit: $idsCount) {
                records {
                  ...TDO_Meta
                }
              }
            }

            fragment TDO_Meta on TemporalDataObject {
              id
              createdDateTime
              modifiedDateTime
              name
              description
            }
            """
        )
        variables: Dict[str, object] = {"ids": ids, "idsCount": idsCount}
        response = self.execute(
            query=query,
            operation_name="RAG_GetTDOs_Meta",
            variables=variables,
            **kwargs
        )
        data = self.get_data(response)
        return RAGGetTDOsMeta.model_validate(data)
