# BQuant Deployment Scripts

–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, —É–ø–∞–∫–æ–≤–∫–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ BQuant –ø—Ä–æ–µ–∫—Ç–∞.

## üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

## üöÄ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### `build_package.py`
–°–±–æ—Ä–∫–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∞ BQuant –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è.

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°–±–æ—Ä–∫–∞ wheel –∏ sdist –ø–∞–∫–µ—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è README –¥–ª—è PyPI
- –°–æ–∑–¥–∞–Ω–∏–µ release notes

### `deploy_pypi.py`
–ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞ –≤ PyPI.

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ PyPI
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ TestPyPI
- Rollback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–ª–∏–∑–∞—Ö

### `setup_environment.py`
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ú–∏–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏

### `run_ci_tests.py`
–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ CI/CD —Ç–µ—Å—Ç–æ–≤.

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ code coverage
- Linting –∏ code quality
- Security —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- Performance benchmarks

### `generate_docs.py`
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –°–±–æ—Ä–∫–∞ Sphinx –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –°–æ–∑–¥–∞–Ω–∏–µ GitHub Pages
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README —Ñ–∞–π–ª–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è changelog

### `backup_data.py`
–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- Backup sample –¥–∞–Ω–Ω—ã—Ö
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –æ–±–ª–∞–∫–æ–º

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–µ)

```bash
# –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞
python build_package.py --version 0.0.0 --clean

# –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ PyPI
python deploy_pypi.py --version 0.0.0 --repository pypi

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python setup_environment.py --env production --python 3.9

# CI/CD —Ç–µ—Å—Ç—ã
python run_ci_tests.py --coverage --benchmarks

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
python generate_docs.py --output docs/ --format html

# Backup –¥–∞–Ω–Ω—ã—Ö
python backup_data.py --target s3://bquant-backups/ --compress
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `deployment_config.yaml` - –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- `pypi_config.yaml` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è PyPI –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `ci_config.yaml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CI/CD

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `PYPI_TOKEN` - —Ç–æ–∫–µ–Ω –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ PyPI
- `GITHUB_TOKEN` - —Ç–æ–∫–µ–Ω –¥–ª—è GitHub –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `AWS_ACCESS_KEY` - –¥–ª—è backup –≤ S3
- `DEPLOYMENT_ENV` - —Å—Ä–µ–¥–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (dev/staging/prod)

## üìã Workflow —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### 1. Pre-release
```bash
# –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞
python run_ci_tests.py --full

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
python build_package.py --bump-version minor

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
python generate_docs.py --update-all
```

### 2. Release
```bash
# –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞
python build_package.py --version 1.1.0

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ TestPyPI
python deploy_pypi.py --repository testpypi

# –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ PyPI
python deploy_pypi.py --repository pypi
```

### 3. Post-release
```bash
# Backup —Ä–µ–ª–∏–∑–∞
python backup_data.py --release 1.1.0

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ environments
python setup_environment.py --update-all

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
python monitor_release.py --version 1.1.0
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –¢–µ—Å—Ç —Å–±–æ—Ä–∫–∏
python build_package.py --dry-run

# –¢–µ—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
pip install dist/bquant-0.0.0-py3-none-any.whl

# –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
python -c "import bquant; print(bquant.__version__)"
```

### CI/CD Pipeline
- GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–ª–∏–∑–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å codecov
- Security —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é bandit

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ —Ä–µ–ª–∏–∑–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∑–æ–∫ —Å PyPI
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –í—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –û—à–∏–±–∫–∏ –≤ production

### –ê–ª–µ—Ä—Ç—ã
- –ù–µ—É–¥–∞—á–Ω—ã–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- Security —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- Performance –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∏–Ω—Ü–∏–ø—ã
- –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤ GPG –∫–ª—é—á–æ–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è checksums
- Minimal permissions –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤

### –ê—É–¥–∏—Ç
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- Rollback –ø–ª–∞–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–ª–∏–∑–∞

## üìñ Roadmap

1. **–§–∞–∑–∞ 1**: –ë–∞–∑–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
2. **–§–∞–∑–∞ 2**: CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
3. **–§–∞–∑–∞ 3**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥
4. **–§–∞–∑–∞ 4**: Multi-environment deployment

## üöÄ –ö–æ–Ω—Ç—Ä–∏–±—É—Ü–∏—è

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
1. –°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Infrastructure as Code
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
3. –î–æ–±–∞–≤–ª—è–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
4. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ staging —Å—Ä–µ–¥–µ
5. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ rollback –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

## üîó –°–º. —Ç–∞–∫–∂–µ

- [BQuant Package Configuration](../../pyproject.toml)
- [GitHub Actions Workflows](../../.github/workflows/)
- [Release Process Documentation](../../docs/release_process.md)
- [Security Guidelines](../../docs/security.md)
