from outflow.core.commands import Command, RootCommand
from outflow.core.logging import logger

from .tasks import GenData, PrintData


@RootCommand.subcommand(db_untracked=True)
class ComputeData(Command):
    """
    Command to compute and print some data
    """

    # def add_arguments(self):
    #     # my arg1
    #     self.add_argument(
    #         '--my_arg1',
    #         help="""
    #         Arg1 help
    #         """,
    #     )

    def setup_tasks(self):

        # setup the workflow
        GenData() | PrintData()


# WARNING: the db_untracked flag is only set to true to allow running the command immediately without a database
# Remove this flag (that defaults to false) in your commands and after setting up a database in part 3 of the tutorial
@RootCommand.subcommand(db_untracked=True)
def {{ camel_case_plugin_name }}():
    """
    {{ camel_case_plugin_name }} subcommand
    """

    logger.info("Hello from {{ plugin_name }}")
