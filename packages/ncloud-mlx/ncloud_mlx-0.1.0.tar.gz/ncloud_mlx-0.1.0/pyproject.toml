[project]
name = "ncloud-mlx"
dynamic = ["version"]
description = "CLI for the ML expert Platform on NAVER Cloud Platform"
authors = [
    { name = "navercloud-mlxp", email = "dl_mlx_ncp_dev@navercorp.com" },
]
requires-python = ">=3.9.0,<4.0.0"
readme = "README.md"
packages = [{ include = "mlx" }]
license = "Apache-2.0"

dependencies = [
    "typer==0.15.4",
    "timeago>=1.0.16,<2",
    "six>=1.16.0,<2",
    "python-dateutil>=2.9.0.post0,<3",
    "httpx>=0.27.0,<0.28",
    "aiofiles>=23.2.1,<24",
    "tabulate>=0.9.0,<0.10",
    "pyyaml>=6.0.1,<7",
    "typing==3.7.4.3",
    "yamlpath>=3.8.2,<4",
    "pyfzf>=0.3.1,<0.4",
    "rich>=13.7.1,<14",
    "ncloud-mlx-sdk>=0.1.1"
]

[project.urls]
Homepage = "https://guide.ncloud-docs.com/docs/ai-mlxp-overview"
Documentation = "https://guide.ncloud-docs.com/docs/ai-mlxp-overview"

[project.scripts]
mlx = "mlx.cli.core.main:run"

[dependency-groups]
dev = [
    "black>=24.4.2,<25",
    "ruff>=0.4.8,<0.5",
    "pytest>=8.2.2,<9",
    "pytest-cov>=5.0.0,<6",
    "docconvert>=2.1.0,<3",
    "codespell>=2.2.6,<3",
]

[project.optional-dependencies]
model-registry = ["ncloud-mlx-model-registry"]
data-manager = ["ncloud-mlx-data-manager"]
all = ["ncloud-mlx-model-registry", "ncloud-mlx-data-manager"]

[tool.uv]

[[tool.uv.index]]
name = "PyPI"
url = "https://pypi.org/simple/"
default = true

[tool.hatch.metadata]
allow-direct-references = true

[tool.hatch.build.targets.sdist]
include = ["mlx"]

[tool.hatch.build.targets.wheel]
include = ["mlx"]

[tool.hatch.version]
source = "uv-dynamic-versioning"

[tool.uv-dynamic-versioning]
fallback-version = "0.0.0"
pattern = "default-unprefixed"

[build-system]
requires = ["hatchling", "uv-dynamic-versioning"]
build-backend = "hatchling.build"

[tool.black]
extend-exclude = '''
mlx/api/
'''

[tool.ruff]
exclude = [".venv", "mlx/api", "dist"]

[tool.poetry-git-version-plugin]
alpha_version_format = "{version}a{distance}+{commit_hash}"
