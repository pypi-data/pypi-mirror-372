Metadata-Version: 2.4
Name: bangumi-tv
Version: 0.1.0
Summary: For Bangumi TV API MCP Service
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: mcp[cli]>=1.6.0
Requires-Dist: requests>=2.32.3
Requires-Dist: httpx>=0.25.0
Requires-Dist: python-dotenv>=1.0.0

# [Bangumi TV](https://bgm.tv/) MCP Service

这是一个MCP（机器通信协议）服务，提供对 BangumiTV API 的访问。它允许您与 BangumiTV 的数据进行交互，并检索有关动漫、漫画、音乐、游戏等的信息。

## 示例

![output](https://github.com/user-attachments/assets/9ea4b0c1-6208-4997-a1c5-62a0c6454be8)

## 功能

- 条目
    - /calendar 每日放送
    - /v0/search/subjects 搜索主题
    - /v0/subjects 浏览主题
    - /v0/subjects/{subject_id} 获取主题详情
    - /v0/subjects/{subject_id}/persons 获取与主题相关的人员列表
    - /v0/subjects/{subject_id}/characters 获取与主题相关的角色列表
    - /v0/subjects/{subject_id}/subjects 获取相关主题列表

- 章节
    - /v0/episodes 获取剧集列表
    - /v0/episodes/{episode_id} 获取剧集详情

- 角色
    - /v0/search/characters 搜索角色
    - /v0/characters/{character_id} 获取角色详情
    - /v0/characters/{character_id}/subjects 获取与角色相关的主题列表
    - /v0/characters/{character_id}/persons 获取与角色相关的人员列表

- 人员
    - /v0/search/persons 搜索人员
    - /v0/persons/{person_id} 获取人员详情
    - /v0/persons/{person_id}/subjects 获取与人员相关的主题列表
    - /v0/persons/{person_id}/characters 获取与人员相关的角色列表

## 安装

### 方法一：开发模式安装（推荐）

```bash
# 克隆项目
git clone https://github.com/your-username/BangumiMCP.git
cd BangumiMCP

# 安装依赖
pip install -e .
```

### 方法二：直接安装依赖

```bash
# 克隆项目
git clone https://github.com/your-username/BangumiMCP.git
cd BangumiMCP

# 安装依赖
pip install mcp[cli]>=1.6.0 requests>=2.32.3 httpx>=0.25.0 python-dotenv>=1.0.0
```

## 配置

1. （可选）创建 `.env` 文件并添加你的 Bangumi Token：
```bash
BANGUMI_TOKEN=your_bangumi_token_here
```

## 启动方式

### 方法一：使用启动脚本（推荐）

**Windows 用户：**
```bash
# 双击运行或在命令行中执行
start.bat
```

**Linux/macOS 用户：**
```bash
# 运行启动脚本
./start.sh
# 或者
bash start.sh
```

**跨平台 Python 脚本：**
```bash
python start.py
```

### 方法二：直接运行

```bash
# 直接运行主文件
python main.py
```

### 方法三：使用安装的命令（如果使用方法一安装）

```bash
# 安装后可以直接使用命令
bangumi-mcp
```

## 使用说明

启动服务器后，它将在端口 3002 上运行，并提供 SSE（Server-Sent Events）传输。

服务器启动后会显示：
```
Starting Bangumi MCP Server...
```

按 `Ctrl+C` 可以停止服务器。

## 使用（如Claude客户端）

 URL: https://mcpcn.com/docs/quickstart/user/

claude_desktop_config.json
```json
{
    "mcpServers": {
        "bangumi-tv": {
            "command": "uv",
            "args": [
                "--directory",
                "/Users/Desktop/bangumi-tv", # 替换为你的目录
                "run",
                "main.py"
            ],
            "env": {
                "BANGUMI_TOKEN": "your_token_here" # 替换为你的 BangumiTV 令牌 （可选）如果你要查看或搜索R18内容
            }
        }
    }
}
```

# 致谢

此目前项目全部由 [Google Gemini](https://www.google.com/) 生成。
