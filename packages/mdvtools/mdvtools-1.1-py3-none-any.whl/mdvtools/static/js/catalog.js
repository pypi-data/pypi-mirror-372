import{j as e,a as N,g as U,r as i,u as E,s as z,c as L,b as H,m as K,n as Ae,w as Xe,B as me,k as Ke,i as Z,f as te,p as Qe,q as et,T,K as R,H as W,l as ge,P as re,R as tt,F as st}from"../assets/Button-Bk9omZah.js";import{u as ot,C as nt}from"../assets/ThemeProvider-CAZk5-N1.js";import{e as B,c as rt,L as X,cW as at,t as ye,l as it,cX as ve,cY as be,cv as ae,cw as pe,cZ as ue,cx as ie,cy as ce,cM as lt,cN as A,b_ as G,bX as Oe,c5 as q,c3 as ct,c_ as dt,c$ as $e,bZ as pt,d0 as ut,cE as fe,cF as xt,cG as ze,d1 as xe,d2 as Le,d3 as ht,cP as mt,cQ as gt,d4 as ft,cL as jt,cC as yt,cD as vt,bq as bt,bY as oe,cR as Ct,d5 as wt,c4 as Mt,cH as St,bt as It,cU as kt,d6 as Rt,d7 as Pt}from"../assets/ImportProjectDialog-BBNfJo0k.js";const Tt=B(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function At(t){return N("MuiAvatar",t)}U("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Ot=t=>{const{classes:s,variant:o,colorDefault:r}=t;return H({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},At,s)},$t=z("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,s[o.variant],o.colorDefault&&s.colorDefault]}})(K(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),zt=z("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,s)=>s.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Lt=z(Tt,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,s)=>s.fallback})({width:"75%",height:"75%"});function Nt({crossOrigin:t,referrerPolicy:s,src:o,srcSet:r}){const[l,a]=i.useState(!1);return i.useEffect(()=>{if(!o&&!r)return;a(!1);let c=!0;const n=new Image;return n.onload=()=>{c&&a("loaded")},n.onerror=()=>{c&&a("error")},n.crossOrigin=t,n.referrerPolicy=s,n.src=o,r&&(n.srcset=r),()=>{c=!1}},[t,s,o,r]),l}const Ce=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiAvatar"}),{alt:l,children:a,className:c,component:n="div",slots:d={},slotProps:f={},imgProps:h,sizes:v,src:g,srcSet:y,variant:m="circular",...S}=r;let j=null;const M=Nt({...h,src:g,srcSet:y}),C=g||y,b=C&&M!=="error",u={...r,colorDefault:!b,component:n,variant:m};delete u.ownerState;const x=Ot(u),[p,I]=rt("img",{className:x.img,elementType:zt,externalForwardedProps:{slots:d,slotProps:{img:{...h,...f.img}}},additionalProps:{alt:l,src:g,srcSet:y,sizes:v},ownerState:u});return b?j=e.jsx(p,{...I}):a||a===0?j=a:C&&l?j=l[0]:j=e.jsx(Lt,{ownerState:u,className:x.fallback}),e.jsx($t,{as:n,className:L(x.root,c),ref:o,...S,ownerState:u,children:j})});function Ut(t){return N("MuiCardContent",t)}U("MuiCardContent",["root"]);const Et=t=>{const{classes:s}=t;return H({root:["root"]},Ut,s)},Ht=z("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,s)=>s.root})({padding:16,"&:last-child":{paddingBottom:24}}),Ft=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiCardContent"}),{className:l,component:a="div",...c}=r,n={...r,component:a},d=Et(n);return e.jsx(Ht,{as:a,className:L(d.root,l),ownerState:n,ref:o,...c})});function Bt(t){return N("MuiCardMedia",t)}U("MuiCardMedia",["root","media","img"]);const Dt=t=>{const{classes:s,isMediaComponent:o,isImageComponent:r}=t;return H({root:["root",o&&"media",r&&"img"]},Bt,s)},Vt=z("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t,{isMediaComponent:r,isImageComponent:l}=o;return[s.root,r&&s.media,l&&s.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),Gt=["video","audio","picture","iframe","img"],Wt=["picture","img"],_t=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiCardMedia"}),{children:l,className:a,component:c="div",image:n,src:d,style:f,...h}=r,v=Gt.includes(c),g=!v&&n?{backgroundImage:`url("${n}")`,...f}:f,y={...r,component:c,isMediaComponent:v,isImageComponent:Wt.includes(c)},m=Dt(y);return e.jsx(Vt,{className:L(m.root,a),as:c,role:!v&&n?"img":void 0,ref:o,style:g,ownerState:y,src:v?n||d:void 0,...h,children:l})});function Yt(t){return N("MuiListItem",t)}U("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function Zt(t){return N("MuiListItemSecondaryAction",t)}U("MuiListItemSecondaryAction",["root","disableGutters"]);const qt=t=>{const{disableGutters:s,classes:o}=t;return H({root:["root",s&&"disableGutters"]},Zt,o)},Jt=z("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.disableGutters&&s.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),Ne=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiListItemSecondaryAction"}),{className:l,...a}=r,c=i.useContext(X),n={...r,disableGutters:c.disableGutters},d=qt(n);return e.jsx(Jt,{className:L(d.root,l),ownerState:n,ref:o,...a})});Ne.muiName="ListItemSecondaryAction";const Xt=(t,s)=>{const{ownerState:o}=t;return[s.root,o.dense&&s.dense,o.alignItems==="flex-start"&&s.alignItemsFlexStart,o.divider&&s.divider,!o.disableGutters&&s.gutters,!o.disablePadding&&s.padding,o.hasSecondaryAction&&s.secondaryAction]},Kt=t=>{const{alignItems:s,classes:o,dense:r,disableGutters:l,disablePadding:a,divider:c,hasSecondaryAction:n}=t;return H({root:["root",r&&"dense",!l&&"gutters",!a&&"padding",c&&"divider",s==="flex-start"&&"alignItemsFlexStart",n&&"secondaryAction"],container:["container"]},Yt,o)},Qt=z("div",{name:"MuiListItem",slot:"Root",overridesResolver:Xt})(K(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:s})=>!s.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:s})=>!s.disablePadding&&s.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:s})=>!s.disablePadding&&!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>!s.disablePadding&&!!s.secondaryAction,style:{paddingRight:48}},{props:({ownerState:s})=>!!s.secondaryAction,style:{[`& > .${it.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>s.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:s})=>s.hasSecondaryAction,style:{paddingRight:48}}]}))),es=z("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,s)=>s.container})({position:"relative"}),J=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiListItem"}),{alignItems:l="center",children:a,className:c,component:n,components:d={},componentsProps:f={},ContainerComponent:h="li",ContainerProps:{className:v,...g}={},dense:y=!1,disableGutters:m=!1,disablePadding:S=!1,divider:j=!1,secondaryAction:M,slotProps:C={},slots:b={},...u}=r,x=i.useContext(X),p=i.useMemo(()=>({dense:y||x.dense||!1,alignItems:l,disableGutters:m}),[l,x.dense,y,m]),I=i.useRef(null),w=i.Children.toArray(a),O=w.length&&at(w[w.length-1],["ListItemSecondaryAction"]),F={...r,alignItems:l,dense:p.dense,disableGutters:m,disablePadding:S,divider:j,hasSecondaryAction:O},_=Kt(F),se=Ae(I,o),k=b.root||d.Root||Qt,D=C.root||f.root||{},Q={className:L(_.root,D.className,c),...u};let Y=n||"li";return O?(Y=!Q.component&&!n?"div":Y,h==="li"&&(Y==="li"?Y="div":Q.component==="li"&&(Q.component="div")),e.jsx(X.Provider,{value:p,children:e.jsxs(es,{as:h,className:L(_.container,v),ref:se,ownerState:F,...g,children:[e.jsx(k,{...D,...!ye(k)&&{as:Y,ownerState:{...F,...D.ownerState}},...Q,children:w}),w.pop()]})})):e.jsx(X.Provider,{value:p,children:e.jsxs(k,{...D,as:Y,ref:se,...!ye(k)&&{ownerState:{...F,...D.ownerState}},...Q,children:[w,M&&e.jsx(Ne,{children:M})]})})});function ts(t){return N("MuiListItemIcon",t)}const we=U("MuiListItemIcon",["root","alignItemsFlexStart"]),ss=t=>{const{alignItems:s,classes:o}=t;return H({root:["root",s==="flex-start"&&"alignItemsFlexStart"]},ts,o)},os=z("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.alignItems==="flex-start"&&s.alignItemsFlexStart]}})(K(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),V=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiListItemIcon"}),{className:l,...a}=r,c=i.useContext(X),n={...r,alignItems:c.alignItems},d=ss(n);return e.jsx(os,{className:L(d.root,l),ownerState:n,ref:o,...a})});function ns(t){return N("MuiMenuItem",t)}const ne=U("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),rs=(t,s)=>{const{ownerState:o}=t;return[s.root,o.dense&&s.dense,o.divider&&s.divider,!o.disableGutters&&s.gutters]},as=t=>{const{disabled:s,dense:o,divider:r,disableGutters:l,selected:a,classes:c}=t,d=H({root:["root",o&&"dense",s&&"disabled",!l&&"gutters",r&&"divider",a&&"selected"]},ns,c);return{...c,...d}},is=z(me,{shouldForwardProp:t=>Ke(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:rs})(K(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ne.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Z(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ne.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Z(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ne.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Z(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Z(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ne.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ne.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${be.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${be.inset}`]:{marginLeft:52},[`& .${ve.root}`]:{marginTop:0,marginBottom:0},[`& .${ve.inset}`]:{paddingLeft:36},[`& .${we.root}`]:{minWidth:36},variants:[{props:({ownerState:s})=>!s.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:s})=>s.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:s})=>!s.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:s})=>s.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${we.root} svg`]:{fontSize:"1.25rem"}}}]}))),P=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiMenuItem"}),{autoFocus:l=!1,component:a="li",dense:c=!1,divider:n=!1,disableGutters:d=!1,focusVisibleClassName:f,role:h="menuitem",tabIndex:v,className:g,...y}=r,m=i.useContext(X),S=i.useMemo(()=>({dense:c||m.dense||!1,disableGutters:d}),[m.dense,c,d]),j=i.useRef(null);Xe(()=>{l&&j.current&&j.current.focus()},[l]);const M={...r,dense:S.dense,divider:n,disableGutters:d},C=as(r),b=Ae(j,o);let u;return r.disabled||(u=v!==void 0?v:-1),e.jsx(X.Provider,{value:S,children:e.jsx(is,{ref:b,role:h,tabIndex:u,component:a,focusVisibleClassName:L(C.focusVisible,f),className:L(C.root,g),...y,ownerState:M,classes:C})})}),Ue=i.createContext();function ls(t){return N("MuiTable",t)}U("MuiTable",["root","stickyHeader"]);const cs=t=>{const{classes:s,stickyHeader:o}=t;return H({root:["root",o&&"stickyHeader"]},ls,s)},ds=z("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.stickyHeader&&s.stickyHeader]}})(K(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:s})=>s.stickyHeader,style:{borderCollapse:"separate"}}]}))),Me="table",Ee=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiTable"}),{className:l,component:a=Me,padding:c="normal",size:n="medium",stickyHeader:d=!1,...f}=r,h={...r,component:a,padding:c,size:n,stickyHeader:d},v=cs(h),g=i.useMemo(()=>({padding:c,size:n,stickyHeader:d}),[c,n,d]);return e.jsx(Ue.Provider,{value:g,children:e.jsx(ds,{as:a,role:a===Me?null:"table",ref:o,className:L(v.root,l),ownerState:h,...f})})}),he=i.createContext();function ps(t){return N("MuiTableBody",t)}U("MuiTableBody",["root"]);const us=t=>{const{classes:s}=t;return H({root:["root"]},ps,s)},xs=z("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,s)=>s.root})({display:"table-row-group"}),hs={variant:"body"},Se="tbody",He=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiTableBody"}),{className:l,component:a=Se,...c}=r,n={...r,component:a},d=us(n);return e.jsx(he.Provider,{value:hs,children:e.jsx(xs,{className:L(d.root,l),as:a,ref:o,role:a===Se?null:"rowgroup",ownerState:n,...c})})});function ms(t){return N("MuiTableCell",t)}const gs=U("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),fs=t=>{const{classes:s,variant:o,align:r,padding:l,size:a,stickyHeader:c}=t,n={root:["root",o,c&&"stickyHeader",r!=="inherit"&&`align${te(r)}`,l!=="normal"&&`padding${te(l)}`,`size${te(a)}`]};return H(n,ms,s)},js=z("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,s[o.variant],s[`size${te(o.size)}`],o.padding!=="normal"&&s[`padding${te(o.padding)}`],o.align!=="inherit"&&s[`align${te(o.align)}`],o.stickyHeader&&s.stickyHeader]}})(K(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Qe(Z(t.palette.divider,1),.88):et(Z(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${gs.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:s})=>s.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),$=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiTableCell"}),{align:l="inherit",className:a,component:c,padding:n,scope:d,size:f,sortDirection:h,variant:v,...g}=r,y=i.useContext(Ue),m=i.useContext(he),S=m&&m.variant==="head";let j;c?j=c:j=S?"th":"td";let M=d;j==="td"?M=void 0:!M&&S&&(M="col");const C=v||m&&m.variant,b={...r,align:l,component:j,padding:n||(y&&y.padding?y.padding:"normal"),size:f||(y&&y.size?y.size:"medium"),sortDirection:h,stickyHeader:C==="head"&&y&&y.stickyHeader,variant:C},u=fs(b);let x=null;return h&&(x=h==="asc"?"ascending":"descending"),e.jsx(js,{as:j,ref:o,className:L(u.root,a),"aria-sort":x,scope:M,ownerState:b,...g})});function ys(t){return N("MuiTableContainer",t)}U("MuiTableContainer",["root"]);const vs=t=>{const{classes:s}=t;return H({root:["root"]},ys,s)},bs=z("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,s)=>s.root})({width:"100%",overflowX:"auto"}),Cs=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiTableContainer"}),{className:l,component:a="div",...c}=r,n={...r,component:a},d=vs(n);return e.jsx(bs,{ref:o,as:a,className:L(d.root,l),ownerState:n,...c})});function ws(t){return N("MuiTableHead",t)}U("MuiTableHead",["root"]);const Ms=t=>{const{classes:s}=t;return H({root:["root"]},ws,s)},Ss=z("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,s)=>s.root})({display:"table-header-group"}),Is={variant:"head"},Ie="thead",Fe=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiTableHead"}),{className:l,component:a=Ie,...c}=r,n={...r,component:a},d=Ms(n);return e.jsx(he.Provider,{value:Is,children:e.jsx(Ss,{as:a,className:L(d.root,l),ref:o,role:a===Ie?null:"rowgroup",ownerState:n,...c})})});function ks(t){return N("MuiTableRow",t)}const ke=U("MuiTableRow",["root","selected","hover","head","footer"]),Rs=t=>{const{classes:s,selected:o,hover:r,head:l,footer:a}=t;return H({root:["root",o&&"selected",r&&"hover",l&&"head",a&&"footer"]},ks,s)},Ps=z("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:o}=t;return[s.root,o.head&&s.head,o.footer&&s.footer]}})(K(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${ke.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ke.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Z(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Z(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),Re="tr",de=i.forwardRef(function(s,o){const r=E({props:s,name:"MuiTableRow"}),{className:l,component:a=Re,hover:c=!1,selected:n=!1,...d}=r,f=i.useContext(he),h={...r,component:a,hover:c,selected:n,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},v=Rs(h);return e.jsx(Ps,{as:a,ref:o,className:L(v.root,l),role:a===Re?null:"row",ownerState:h,...d})}),je=B(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Ts=B(e.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Be=B(e.jsx("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83M6.21 18H5v-1.21l8.66-8.66 1.21 1.21zM11 20l4-4h6v4z"}),"DriveFileRenameOutline"),As=B(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),De=B(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),Ve=B(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),Pe=B(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Os=B(e.jsx("path",{d:"M3 15h18v-2H3zm0 4h18v-2H3zm0-8h18V9H3zm0-6v2h18V5z"}),"Reorder"),Ge=B(e.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"Share"),We=B(e.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload"),_e=({id:t,open:s,onDelete:o,onClose:r})=>{const l=async()=>{await o(t),r()};return e.jsxs(ae,{open:s,onClose:r,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(pe,{children:["Delete Project",e.jsx(ue,{onClose:r})]}),e.jsx(ie,{dividers:!0,children:e.jsxs(T,{variant:"body1",align:"center",children:["Are you sure you want to permanently"," ",e.jsx("strong",{children:"delete this project"}),"? This action is"," ",e.jsx("strong",{children:"irreversible"})," and cannot be"," ",e.jsx("strong",{children:"undone"}),"."]})}),e.jsx(ce,{children:e.jsxs(R,{sx:{display:"flex",justifyContent:"flex-end",width:"100%"},children:[e.jsx(W,{onClick:r,color:"primary",sx:{mr:2},children:"Cancel"}),e.jsx(W,{onClick:l,color:"error",children:"Delete Project"})]})})]})},Ye=({open:t,name:s,createdAt:o,lastModified:r,owner:l,collaborators:a,numberOfImages:c,numberOfStructures:n,onClose:d})=>e.jsxs(ae,{open:t,onClose:d,"aria-labelledby":"project-info-dialog-title",maxWidth:"sm",fullWidth:!0,children:[e.jsxs(pe,{id:"project-info-dialog-title",children:["Project Information",e.jsx(ue,{onClose:d})]}),e.jsx(ie,{dividers:!0,children:e.jsxs(lt,{children:[e.jsx(J,{children:e.jsx(A,{primary:"Project Name",secondary:s})}),e.jsx(G,{component:"li"}),e.jsx(J,{children:e.jsx(A,{primary:"Created At",secondary:o})}),e.jsx(G,{component:"li"}),e.jsx(J,{children:e.jsx(A,{primary:"Last Modified",secondary:r})}),e.jsx(G,{component:"li"}),e.jsx(J,{children:e.jsx(A,{primary:"Project Owner",secondary:l?l.join(", "):""})}),e.jsx(G,{component:"li"}),e.jsx(J,{children:e.jsx(A,{primary:"Number of Structures",secondary:n})}),e.jsx(G,{component:"li"}),e.jsx(J,{children:e.jsx(A,{primary:"Number of Images",secondary:c})}),e.jsx(G,{component:"li"}),e.jsx(J,{children:e.jsx(A,{primary:"Collaborators",secondary:e.jsx(R,{component:"span",sx:{display:"block"},children:a.map(f=>e.jsx(T,{variant:"body2",component:"p",children:f},f))})})})]})})]}),$s=({id:t,name:s,type:o,open:r,onRename:l,onChangeType:a,onDelete:c,onClose:n})=>{const[d,f]=i.useState(s),[h,v]=i.useState(o),[g,y]=i.useState(!1),m=()=>{d!==s&&l(t,d),h!==o&&a(t,h),n()},S=()=>{y(M=>!M)},j=()=>{window.confirm("Are you sure you want to delete this project?")&&(c(t),n())};return e.jsxs(ae,{open:r,onClose:n,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(pe,{children:["Project Settings",e.jsx(ue,{onClose:n})]}),e.jsxs(ie,{dividers:!0,children:[e.jsx(R,{sx:{mb:2},children:e.jsx(Oe,{label:"Project Name",value:d,onChange:M=>f(M.target.value),fullWidth:!0,variant:"outlined",margin:"normal",InputProps:{readOnly:!g,endAdornment:e.jsx(q,{onClick:S,edge:"end",children:e.jsx(As,{})})}})}),e.jsxs(ct,{fullWidth:!0,variant:"outlined",margin:"normal",children:[e.jsx(dt,{children:"Project Type"}),e.jsxs($e,{value:h,onChange:M=>v(M.target.value),label:"Project Type",children:[e.jsx(P,{value:"Editable",children:"Editable"}),e.jsx(P,{value:"Read-Only",children:"Read-Only"})]})]})]}),e.jsx(ce,{children:e.jsxs(R,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx(W,{onClick:j,color:"error",children:"Delete Project"}),e.jsx(W,{onClick:m,color:"primary",children:"Save Changes"})]})})]})},zs=t=>{const[s,o]=i.useState(""),[r,l]=i.useState([]),[a,c]=i.useState(null),[n,d]=i.useState([]),[f,h]=i.useState(!1),[v,g]=i.useState(""),[y,m]=i.useState("");i.useEffect(()=>{t&&S()},[t]);const S=async()=>{g(""),m(""),h(!0);try{const b=await fetch(`projects/${t}/share`,{headers:{Accept:"application/json"}});if(b.ok){const u=await b.json();u!=null&&u.all_users&&d(u.all_users),u!=null&&u.shared_users&&l(u.shared_users);return}else{const u=await b.json().catch(()=>({error:"An error occurred. Please try again."}));b.status===403?g((u==null?void 0:u.error)||"Forbidden: You are not allowed to perform this action."):b.status===500?g((u==null?void 0:u.error)||"Internal Server Error"):g((u==null?void 0:u.error)||"An error occurred. Please try again.")}}catch{g("Error fetching user data. Please try again.")}finally{h(!1)}};return{email:s,setEmail:o,sharedUsers:r,setSharedUsers:l,addUser:async(b,u)=>{g(""),m(""),h(!0);try{const x=await fetch(`projects/${t}/share`,{method:"POST",body:JSON.stringify({user_id:b,permission:u.toLowerCase()}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(x.ok){const p=await x.json();await S();return}else{const p=await x.json().catch(()=>({error:"An error occurred. Please try again."}));x.status===403?g((p==null?void 0:p.error)||"Forbidden: You are not allowed to perform this action."):x.status===500?g((p==null?void 0:p.error)||"Internal Server Error"):m((p==null?void 0:p.message)||"An error occurred. Please try again.")}}catch{m("Error adding new user. Please try again.")}finally{h(!1)}},getAllUsers:S,isLoading:f,error:v,errorMsg:y,userList:n,newUser:a,setNewUser:c,changeUserPermission:async(b,u)=>{g(""),m(""),h(!0);try{const x=await fetch(`projects/${t}/share/${b}/edit`,{method:"POST",body:JSON.stringify({permission:u}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(x.ok){const p=await x.json();await S();return}else{const p=await x.json().catch(()=>({error:"An error occurred. Please try again."}));x.status===403?g((p==null?void 0:p.error)||"Forbidden: You are not allowed to perform this action."):x.status===500?g((p==null?void 0:p.error)||"Internal Server Error"):m((p==null?void 0:p.message)||"An error occurred. Please try again.")}}catch{m("Error fetching user data. Please try again.")}finally{h(!1)}},deleteSharedUser:async b=>{g(""),m(""),h(!0);try{const u=await fetch(`projects/${t}/share/${b}/delete`,{method:"POST",headers:{Accept:"application/json"}});if(u.ok){const x=await u.json();await S();return}else{const x=await u.json().catch(()=>({error:"An error occurred. Please try again."}));u.status===403?g((x==null?void 0:x.error)||"Forbidden: You are not allowed to perform this action."):g((x==null?void 0:x.error)||"Internal Server Error"),m((x==null?void 0:x.message)||"An error occurred. Please try again.")}}catch{m("Error deleting user. Please try again.")}finally{h(!1)}}}},Ze=({open:t,onClose:s,projectId:o})=>{const[r,l]=i.useState(!1),{email:a,setEmail:c,sharedUsers:n,addUser:d,isLoading:f,error:h,errorMsg:v,userList:g,newUser:y,setNewUser:m,deleteSharedUser:S,changeUserPermission:j}=zs(o),M=async()=>{y&&(await d(y.id,"View"),c(""),m(null))},C=async(p,I)=>{await j(I,p)},b=async p=>{await S(p)},u=p=>{c(p)},x=p=>{p?m(p):(m(null),c(""))};return e.jsxs(e.Fragment,{children:[e.jsxs(ae,{open:t,onClose:s,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(pe,{children:["Manage Project Sharing",e.jsx(ue,{onClose:s})]}),e.jsx(ie,{dividers:!0,children:e.jsx(R,{sx:{mt:2},children:h?e.jsx(R,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"20vh"},children:e.jsx(T,{variant:"h6",color:"error",children:h})}):e.jsxs(e.Fragment,{children:[v&&e.jsx(R,{sx:{mb:2},children:e.jsx(T,{color:"error",children:v})}),e.jsxs(R,{sx:{display:"flex",gap:1,mb:5},children:[e.jsx(pt,{fullWidth:!0,size:"small",options:g,sx:{color:"inherit"},renderInput:p=>e.jsx(Oe,{...p,placeholder:"Enter email to search for the user"}),inputValue:a,onChange:(p,I)=>x(I),onInputChange:(p,I)=>u(I),getOptionLabel:p=>p.email,noOptionsText:e.jsxs(R,{sx:{p:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e.jsx(T,{variant:"body2",color:"textPrimary",children:"If it's a new user:"}),e.jsx(W,{variant:"contained",size:"small",sx:{ml:1},onClick:()=>l(!0),children:"Add New User"})]}),filterOptions:(p,I)=>{if(I.inputValue.length<5)return[];const w=I.inputValue.toLowerCase();return p.filter(O=>{const F=O.email.toLowerCase();if(ut(w,F))return O})}}),e.jsx(W,{variant:"contained",color:"primary",onClick:M,disabled:f||!y,children:f?e.jsx(fe,{size:"1.5rem"}):"Add"})]}),(n==null?void 0:n.length)===0?e.jsx(R,{sx:{display:"flex",justifyContent:"center",my:2},children:e.jsx(T,{variant:"h6",children:"No shared users"})}):e.jsxs(Ee,{sx:{mb:3,"& .MuiTableCell-head":{fontWeight:600}},children:[e.jsx(Fe,{children:e.jsxs(de,{children:[e.jsx($,{children:"Shared Users"}),e.jsx($,{children:"Permission"}),e.jsx($,{align:"right",children:"Remove"})]})}),e.jsx(He,{children:n.map(p=>e.jsxs(de,{children:[e.jsx($,{children:p.email}),e.jsx($,{children:e.jsxs($e,{value:p.permission,size:"small",fullWidth:!0,onChange:I=>C(I.target.value,p.id),children:[e.jsx(P,{value:"View",children:"View"}),e.jsx(P,{value:"Edit",children:"Edit"}),e.jsx(P,{value:"Owner",children:"Owner"})]})}),e.jsx($,{align:"right",children:e.jsx(q,{onClick:()=>b(p.id),children:e.jsx(je,{})})})]},p.id))})]})]})})}),e.jsx(ce,{sx:{py:2},children:e.jsx(W,{onClick:s,color:"error",variant:"outlined",sx:{fontWeight:"bold"},children:"Cancel"})})]}),r&&e.jsxs(ae,{open:r,onClose:()=>l(!1),fullWidth:!0,maxWidth:"sm",children:[e.jsxs(ie,{dividers:!0,sx:{display:"flex",height:"20vh",justifyContent:"center",alignItems:"center"},children:[e.jsx(T,{children:"Please contact the administrator:"}),e.jsx(T,{sx:{ml:1},color:"info",children:"stephen.taylor@well.ox.ac.uk"})]}),e.jsx(ce,{children:e.jsx(W,{onClick:()=>l(!1),color:"primary",children:"OK"})})]})]})},Ls=({id:t,name:s,type:o,lastModified:r,createdAt:l,owner:a,collaborators:c,numberOfStructures:n,numberOfImages:d,permissions:f,onDelete:h,onRename:v,onChangeType:g,onAddCollaborator:y,onExport:m,thumbnail:S})=>{const[j,M]=i.useState(null),[C,b]=i.useState(!1),[u,x]=i.useState(!1),[p,I]=i.useState(!1),[w,O]=i.useState(!1),[F,_]=i.useState(!1),[se,k]=i.useState(!1),D=ge(),Y=`project/${t}`,Je=le=>{le.stopPropagation(),M(le.currentTarget)},ee=()=>{M(null)};return e.jsxs(xt,{sx:{aspectRatio:"1 / 1",width:"100%",display:"flex",flexDirection:"column",position:"relative"},children:[e.jsxs("a",{href:Y,style:{cursor:"pointer",flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(_t,{component:"div",sx:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:S?"inherit":"grey.200"},children:S?e.jsx("img",{src:S,alt:"project_thumbnail",style:{objectFit:"contain",width:"90%",aspectRatio:3/2}}):e.jsx(ze,{sx:{fontSize:80,color:"text.secondary"}})}),e.jsx(G,{}),e.jsxs(Ft,{sx:{padding:"16px",paddingBottom:"12px !important",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx(T,{gutterBottom:!0,variant:"h6",component:"div",noWrap:!0,color:"text.primary",sx:{marginBottom:"4px"},children:s}),e.jsxs(T,{variant:"body2",color:"text.secondary",sx:{marginBottom:"0"},children:["Last modified: ",r]})]})]}),e.jsx(q,{className:"menu-button","aria-label":"project options",onClick:Je,sx:{position:"absolute",top:8,right:8,bgcolor:"background.paper","&:hover":{bgcolor:"grey.500"},zIndex:1},children:e.jsx(Ve,{})}),e.jsxs(xe,{anchorEl:j,open:!!j,onClose:ee,onClick:le=>le.stopPropagation(),children:[e.jsxs(P,{onClick:()=>{b(!0),ee()},children:[e.jsx(V,{children:e.jsx(De,{fontSize:"small"})}),e.jsx(A,{children:"Project Info"})]}),e.jsxs(P,{onClick:()=>{O(!0),ee()},disabled:!f.edit,children:[e.jsx(V,{children:e.jsx(Be,{fontSize:"small"})}),e.jsx(A,{children:"Rename Project"})]}),e.jsxs(P,{onClick:()=>{ee(),m(t,s)},disabled:!f.edit,children:[e.jsx(V,{children:e.jsx(We,{fontSize:"small"})}),e.jsx(A,{children:"Export Project (as *.mdv.zip)"})]}),e.jsxs(P,{onClick:()=>{I(!0),ee()},disabled:!f.edit,children:[e.jsx(V,{children:e.jsx(Ge,{fontSize:"small"})}),e.jsx(A,{children:"Share Project"})]}),e.jsxs(P,{onClick:()=>{_(!0),ee()},sx:{color:D.palette.error.main},disabled:!f.edit,children:[e.jsx(V,{children:e.jsx(je,{color:"error",fontSize:"small"})}),e.jsx(A,{children:"Delete Project"})]})]}),e.jsx(Ye,{open:C,onClose:()=>b(!1),name:s,createdAt:l,lastModified:r,owner:a,collaborators:c,numberOfStructures:n,numberOfImages:d}),f.edit&&e.jsxs(e.Fragment,{children:[e.jsx($s,{id:t,name:s,type:o,open:u,onRename:v,onChangeType:g,onDelete:h,onClose:()=>x(!1)}),e.jsx(Le,{id:t,name:s,open:w,onRename:v,onClose:()=>O(!1)}),e.jsx(Ze,{open:p,onClose:()=>I(!1),projectId:t}),e.jsx(_e,{id:t,open:F,onDelete:h,onClose:()=>_(!1)})]})]})},Ns=({projects:t,onDelete:s,onRename:o,onExport:r,onChangeType:l})=>{const[a,c]=i.useState(),[n,d]=i.useState(),[f,h]=i.useState(!1),[v,g]=i.useState(!1),[y,m]=i.useState(!1),[S,j]=i.useState(!1),[M,C]=i.useState(!1),b=ge(),u=i.useCallback((w,O)=>{w.stopPropagation(),c(w.currentTarget),d(O)},[]),x=i.useCallback(()=>{c(null)},[]),p=i.useCallback(w=>{const O="";window.location.href=`${O}project/${w}`},[]),I=i.useCallback(w=>{x(),w(!0)},[x]);return e.jsxs(e.Fragment,{children:[e.jsx(Cs,{component:re,children:e.jsxs(Ee,{children:[e.jsx(Fe,{children:e.jsxs(de,{children:[e.jsx($,{children:"Name"}),e.jsx($,{children:"Owner"}),e.jsx($,{children:"Last Modified"}),e.jsx($,{children:"Type"}),e.jsx($,{align:"right",children:"Actions"})]})}),e.jsx(He,{children:t.map(w=>e.jsxs(de,{hover:!0,onClick:()=>p(w.id),sx:{cursor:"pointer"},children:[e.jsx($,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ze,{sx:{color:"text.secondary"}}),e.jsx(T,{children:w.name})]})}),e.jsx($,{children:w.owner?w.owner.join(", "):""}),e.jsx($,{children:w.lastModified}),e.jsx($,{children:w.type}),e.jsx($,{align:"right",children:e.jsx(q,{onClick:O=>u(O,w),size:"small",children:e.jsx(Ve,{})})})]},w.id))})]})}),e.jsxs(xe,{anchorEl:a,open:!!a,onClose:x,children:[e.jsxs(P,{onClick:()=>I(h),children:[e.jsx(V,{children:e.jsx(De,{fontSize:"small"})}),e.jsx(A,{children:"Project Info"})]}),e.jsxs(P,{onClick:()=>I(g),disabled:!(n!=null&&n.permissions.edit),children:[e.jsx(V,{children:e.jsx(Be,{fontSize:"small"})}),e.jsx(A,{children:"Rename Project"})]}),e.jsxs(P,{onClick:()=>{n&&(x(),r(n.id,n.name))},disabled:!(n!=null&&n.permissions.edit),children:[e.jsx(V,{children:e.jsx(We,{fontSize:"small"})}),e.jsx(A,{children:"Export Project (as *.mdv.zip)"})]}),e.jsxs(P,{onClick:()=>I(C),disabled:!(n!=null&&n.permissions.edit),children:[e.jsx(V,{children:e.jsx(Ge,{fontSize:"small"})}),e.jsx(A,{children:"Share Project"})]}),e.jsxs(P,{onClick:()=>I(m),sx:{color:b.palette.error.main},disabled:!(n!=null&&n.permissions.edit),children:[e.jsx(V,{children:e.jsx(je,{color:"error",fontSize:"small"})}),e.jsx(A,{children:"Delete Project"})]})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx(Ye,{open:f,onClose:()=>h(!1),name:n.name,createdAt:n.createdAt,lastModified:n.lastModified,owner:n.owner,collaborators:n.collaborators,numberOfStructures:n.numberOfStructures,numberOfImages:n.numberOfImages}),n.permissions.edit&&e.jsxs(e.Fragment,{children:[e.jsx(Le,{id:n.id,name:n.name,open:v,onRename:o,onClose:()=>g(!1)}),e.jsx(Ze,{open:M,onClose:()=>C(!1),projectId:n.id}),e.jsx(_e,{id:n.id,open:y,onDelete:s,onClose:()=>m(!1)})]})]})]})},Te={name:"John Doe",email:"john.doe@example.com",association:"Example Corp",avatarUrl:""},Us=()=>{const[t,s]=i.useState(null),[o,r]=i.useState(!0),[l,a]=i.useState(null);return i.useEffect(()=>{(async()=>{r(!0);try{const n=await fetch("profile");if(!n.ok)throw new Error("Failed to fetch user data");const d=await n.json();Object.keys(d).length===0?(console.warn("Received empty user data, using mock data instead."),s(Te)):s(d)}catch(n){console.error("Error fetching user data:",n),console.warn("Using mock data due to error."),s(Te)}finally{r(!1)}})()},[]),{user:t,isLoading:o,error:l}},Es=()=>{const[t,s]=i.useState(null),{user:o,isLoading:r,error:l}=Us(),a=d=>{s(d.currentTarget)},c=()=>{s(null)},n=()=>{try{window.location.href="logout"}catch(d){console.error("Logout error:",d)}};return r?e.jsx(fe,{size:32}):l||!o?e.jsx(T,{color:"error",children:"Error loading user profile"}):e.jsxs(e.Fragment,{children:[e.jsx(q,{onClick:a,size:"small",sx:{ml:2},"aria-controls":t?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":t?"true":void 0,children:e.jsx(Ce,{sx:{width:32,height:32},src:o.avatarUrl,alt:o.name,children:!o.avatarUrl&&e.jsx(Pe,{})})}),e.jsxs(xe,{anchorEl:t,id:"account-menu",open:!!t,onClose:c,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:60,height:60,ml:-1,mr:1}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsxs(R,{sx:{p:2},children:[e.jsxs(R,{sx:{display:"flex",alignItems:"center",mb:2,gap:1},children:[e.jsx(Ce,{sx:{width:100,height:100},src:o.avatarUrl,alt:o.name,children:!o.avatarUrl&&e.jsx(Pe,{sx:{fontSize:60}})}),e.jsxs(R,{children:[e.jsx(T,{variant:"subtitle1",children:o.name}),e.jsx(T,{variant:"body2",color:"text.secondary",children:o.email}),e.jsx(T,{variant:"body2",color:"text.secondary",children:o.association})]})]}),e.jsx(G,{})]}),e.jsx(P,{onClick:c,children:"Manage your Account"}),e.jsx(P,{onClick:n,children:"Sign out"})]})]})},Hs=""+new URL("../img/mdv_logo.png",import.meta.url).href,Fs=(t,s,o="desc")=>[...t].sort((r,l)=>{let a=0;return s==="name"?a=l.name.localeCompare(r.name,void 0,{sensitivity:"base"}):s==="lastModified"&&(a=new Date(l.lastModified).getTime()-new Date(r.lastModified).getTime()),o==="asc"?-a:a}),Bs=()=>{const{projects:t,isLoading:s,error:o,isErrorModalOpen:r,closeErrorModal:l,fetchProjects:a,createProject:c,deleteProject:n,renameProject:d,changeProjectType:f,setFilter:h,exportProject:v}=ht(),{mode:g,toggleColorMode:y}=ot(),[m,S]=i.useState("grid"),[j,M]=i.useState("lastModified"),[C,b]=i.useState("desc"),[u,x]=i.useState(null),[p,I]=i.useState(!1),w=ge();tt.useEffect(()=>{a()},[a]);const O=async()=>{try{const k=await c(),D="";window.location.href=`${D}project/${k==null?void 0:k.id}`}catch(k){console.error("Failed to create project:",k)}},F=i.useMemo(()=>Fs(t,j,C),[t,j,C]),_=i.useCallback(k=>{k===j?b(C==="asc"?"desc":"asc"):(M(k),b("desc")),x(null)},[j,C]),se=k=>{x(k.currentTarget)};return e.jsxs(e.Fragment,{children:[e.jsxs(R,{sx:{flexGrow:1,bgcolor:"background.default",minHeight:"100vh"},children:[e.jsx(mt,{position:"static",color:"default",elevation:0,children:e.jsxs(gt,{children:[e.jsx(R,{component:"img",sx:{height:40,mr:2},alt:"MDV Projects Logo",src:Hs}),e.jsx(R,{sx:{flexGrow:1}}),e.jsxs(re,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:400,mr:2},children:[e.jsx(ft,{sx:{ml:1,flex:1},placeholder:"Search projects",inputProps:{"aria-label":"search projects"},onChange:k=>h(k.target.value)}),e.jsx(q,{type:"submit",sx:{p:"10px"},"aria-label":"search",children:e.jsx(jt,{})})]}),e.jsx(Es,{}),e.jsx(q,{sx:{ml:1},onClick:y,color:"inherit",children:g==="dark"?e.jsx(yt,{}):e.jsx(vt,{})})]})}),e.jsxs(bt,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxs(oe,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(oe,{size:{xs:12,sm:6,md:4,lg:3},children:e.jsx(me,{sx:{width:"100%",display:"block",textAlign:"center"},children:e.jsxs(re,{sx:{p:2,display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>O(),children:[e.jsx(Ct,{sx:{fontSize:40,color:"primary.main",mb:1}}),e.jsx(T,{variant:"subtitle1",align:"center",children:"Create new project"})]})})}),e.jsx(oe,{size:{xs:12,sm:6,md:4,lg:3},children:e.jsx(me,{sx:{width:"100%",display:"block",textAlign:"center"},children:e.jsxs(re,{sx:{p:2,display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>I(!0),children:[e.jsx(Ts,{sx:{fontSize:40,color:"primary.main",mb:1}}),e.jsx(T,{variant:"subtitle1",align:"center",sx:{},children:"Import an existing project"})]})})})]}),e.jsxs(R,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(T,{variant:"h5",children:"Recent Projects"}),e.jsxs(R,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(re,{elevation:1,sx:{padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",width:"205px",height:"50px",bgcolor:"background.paper"},children:e.jsx(W,{endIcon:e.jsx(wt,{}),onClick:se,sx:{textTransform:"none",width:"100%",height:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsxs(R,{sx:{display:"flex",alignItems:"center"},children:["Sort by:"," ",j==="lastModified"?`Last modified (${C==="desc"?"Newest first":"Oldest first"})`:`Name (${C==="desc"?"Z to A":"A to Z"})`]})})}),e.jsx(Mt,{title:m==="grid"?"List View":"Grid View",children:e.jsx(q,{onClick:()=>S(m==="grid"?"list":"grid"),sx:{ml:2},children:m==="grid"?e.jsx(Os,{sx:{fontSize:32}}):e.jsx(St,{sx:{fontSize:32}})})})]}),e.jsxs(xe,{anchorEl:u,open:!!u,onClose:()=>x(null),children:[e.jsxs(P,{onClick:()=>_("lastModified"),sx:{display:"flex",justifyContent:"space-between",width:"200px",gap:1},children:[e.jsx("span",{children:"Last modified"}),j==="lastModified"&&e.jsx("span",{children:C==="desc"?"Newest first":"Oldest first"})]}),e.jsxs(P,{onClick:()=>_("name"),sx:{display:"flex",justifyContent:"space-between",width:"200px",gap:1},children:[e.jsx("span",{children:"Name"}),j==="name"&&e.jsx("span",{children:C==="desc"?"Z to A":"A to Z"})]})]})]}),e.jsx(G,{sx:{mb:2}}),m==="grid"?e.jsx(oe,{container:!0,spacing:4,children:F.map(k=>e.jsx(oe,{size:{xs:12,sm:6,md:4,lg:3},children:e.jsx(Ls,{...k,onDelete:n,onRename:d,onChangeType:f,onAddCollaborator:D=>{},onExport:v})},k.id))}):e.jsx(Ns,{projects:F,onDelete:n,onRename:d,onChangeType:f,onExport:v})]}),o&&e.jsx(It,{open:r,handleClose:l,isAlertErrorComponent:!0,component:e.jsx(kt,{message:o})}),p&&e.jsx(Rt,{open:p,setOpen:I})]}),s&&e.jsx(Pt,{open:s,sx:{zIndex:w.zIndex.modal+1},children:e.jsx(fe,{color:"inherit"})})]})},qe=document.createElement("div");document.body.appendChild(qe);const Ds=st.createRoot(qe);Ds.render(e.jsx(nt,{children:e.jsx(Bs,{})}));
//# sourceMappingURL=catalog.js.map
