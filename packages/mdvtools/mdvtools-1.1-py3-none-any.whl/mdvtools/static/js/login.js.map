{"version":3,"file":"login.js","sources":["../../../../src/login/assets/mdv_logo.png","../../../../src/login/login.tsx","../../../../src/login/login_index.tsx"],"sourcesContent":["export default \"__VITE_ASSET__B7nSyvnk__\"","import type React from \"react\";\nimport { useEffect } from \"react\";\nimport { Box, Button, Paper, Typography } from \"@mui/material\";\nimport mdvLogo from \"./assets/mdv_logo.png\";\n\nconst Login: React.FC = () => {\n    useEffect(() => {\n        // Check if this is a callback from Auth0\n        const params = new URLSearchParams(window.location.search);\n        if (params.get('callback')) {\n            const base = import.meta.env.DEV ? \"http://localhost:5170?dir=/\" : \"\";\n            window.location.href = `${base}/catalog_dev`;\n        }\n    }, []);\n\n    const handleLogin = async () => {\n        try {\n            // Redirects to Auth0's login interface\n            // The correct backend endpoint must be set here\n            window.location.href = \"login\";\n        } catch (err) {\n            console.error(\"Login error:\", err);\n        }\n    };\n\n    // Needs to be changed later to standard routing\n    const handleLoginWithSSO = async () => {\n        try {\n            window.location.href = \"login_sso\";\n        } catch (err) {\n            console.error(\"Login error:\", err);\n        }\n    };\n\n    return (\n        <Box\n            sx={{\n                minHeight: \"100vh\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                bgcolor: \"#f1f3f4\",\n            }}\n        >\n            <Paper\n                elevation={1}\n                sx={{\n                    p: 6,\n                    width: \"100%\",\n                    maxWidth: 450,\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    borderRadius: 2,\n                    border: \"1px solid #dadce0\",\n                    backgroundColor: \"unset\",\n                }}\n            >\n                <Box\n                    component=\"img\"\n                    src={mdvLogo}\n                    alt=\"Logo\"\n                    sx={{\n                        width: 300,\n                        height: \"auto\",\n                        mb: 4,\n                    }}\n                />\n\n                <Typography\n                    variant=\"h5\"\n                    sx={{\n                        mb: 1,\n                        color: \"#202124\",\n                        fontWeight: 400,\n                        fontSize: \"24px\",\n                    }}\n                >\n                    Sign in\n                </Typography>\n\n                <Typography\n                    sx={{\n                        mb: 4,\n                        color: \"#202124\",\n                        fontSize: \"16px\",\n                    }}\n                >\n                    to continue to MDV\n                </Typography>\n\n                <Button\n                    variant=\"contained\"\n                    onClick={handleLogin}\n                    sx={{\n                        py: 1.5,\n                        px: 6,\n                        fontSize: \"0.875rem\",\n                        textTransform: \"none\",\n                        borderRadius: 5,\n                        bgcolor: \"#1a73e8\",\n                        \"&:hover\": {\n                            bgcolor: \"#1557b0\",\n                        },\n                        minWidth: 200,\n                    }}\n                >\n                    Sign in\n                </Button>\n                {/* <Typography\n                    sx={{\n                        mt: 6,\n                        mb: 1,\n                        color: \"#202124\",\n                        fontSize: \"16px\",\n                    }}\n                >\n                    If you are an Oxford University User:\n                </Typography>\n\n                    <Button\n                        variant=\"contained\"\n                        sx={{\n                            mt: 1.5,\n                            py: 1.5,\n                            px: 6,\n                            fontSize: \"0.875rem\",\n                            textTransform: \"none\",\n                            borderRadius: 5,\n                            minWidth: 200,\n                            backgroundColor: \"white\",\n                            color: \"black\",\n                            \"&:hover\": {\n                                bgcolor: \"grey\",\n                            },\n                        }}\n                        onClick={handleLoginWithSSO}\n                    >\n                        Sign in with SSO\n                    </Button> */}\n            </Paper>\n        </Box>\n    );\n};\n\nexport default Login;\n","// src/login/login_index.tsx\nimport { createRoot } from \"react-dom/client\";\nimport { CustomThemeProvider } from \"@/ThemeProvider\";\nimport Login from \"./login\";\n\nconst container = document.createElement(\"div\");\ndocument.body.appendChild(container);\nconst root = createRoot(container);\n\nroot.render(\n    <CustomThemeProvider>\n        <Login />\n    </CustomThemeProvider>\n);\n"],"names":["mdvLogo","Login","useEffect","URLSearchParams","window","location","search","get","base","href","handleLogin","err","console","error","jsx","Box","minHeight","display","alignItems","justifyContent","bgcolor","jsxs","Paper","p","width","maxWidth","flexDirection","borderRadius","border","backgroundColor","height","mb","Typography","color","fontWeight","fontSize","Button","py","px","textTransform","minWidth","container","document","createElement","body","appendChild","root","createRoot","render","CustomThemeProvider"],"mappings":"mJAAA,MAAAA,EAAe,uDCKTC,EAAkBA,IAAM,CAC1BC,EAAAA,UAAU,IAAM,CAGZ,GADe,IAAIC,gBAAgBC,OAAOC,SAASC,MAAM,EAC9CC,IAAI,UAAU,EAAG,CACxB,MAAMC,EAA6D,GACnEJ,OAAOC,SAASI,KAAO,GAAGD,CAAI,cAClC,CACJ,EAAG,CAAA,CAAE,EAEL,MAAME,EAAc,SAAY,CAC5B,GAAI,CAGAN,OAAOC,SAASI,KAAO,OAC3B,OAASE,EAAK,CACVC,QAAQC,MAAM,eAAgBF,CAAG,CACrC,CACJ,EAWA,OACIG,EAAAA,IAACC,GACG,GAAI,CACAC,UAAW,QACXC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,QAAS,SAAA,EAGb,SAAAC,EAAAA,KAACC,EAAA,CACG,UAAW,EACX,GAAI,CACAC,EAAG,EACHC,MAAO,OACPC,SAAU,IACVR,QAAS,OACTS,cAAe,SACfR,WAAY,SACZS,aAAc,EACdC,OAAQ,oBACRC,gBAAiB,OAAA,EAGrB,SAAA,CAAAf,MAACC,GACG,UAAU,MACV,IAAKf,EACL,IAAI,OACJ,GAAI,CACAwB,MAAO,IACPM,OAAQ,OACRC,GAAI,CAAA,EACN,EAGNjB,EAAAA,IAACkB,EAAA,CACG,QAAQ,KACR,GAAI,CACAD,GAAI,EACJE,MAAO,UACPC,WAAY,IACZC,SAAU,MAAA,EACZ,SAAA,UAGN,EAEArB,MAACkB,GACG,GAAI,CACAD,GAAI,EACJE,MAAO,UACPE,SAAU,MAAA,EACZ,SAAA,qBAGN,QAECC,EAAA,CACG,QAAQ,YACR,QAAS1B,EACT,GAAI,CACA2B,GAAI,IACJC,GAAI,EACJH,SAAU,WACVI,cAAe,OACfZ,aAAc,EACdP,QAAS,UACT,UAAW,CACPA,QAAS,SAAA,EAEboB,SAAU,GAAA,EACZ,SAAA,SAAA,CAGN,CAAA,CAAA,CAgCJ,CAAA,CACJ,CAER,EC1IMC,EAAYC,SAASC,cAAc,KAAK,EAC9CD,SAASE,KAAKC,YAAYJ,CAAS,EACnC,MAAMK,EAAOC,EAAAA,WAAWN,CAAS,EAEjCK,EAAKE,OACDlC,MAACmC,EAAA,CACG,SAAAnC,EAAAA,IAACb,EAAA,EAAK,EACV,CACJ"}