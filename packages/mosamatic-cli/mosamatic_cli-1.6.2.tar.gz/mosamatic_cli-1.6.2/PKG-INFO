Metadata-Version: 2.3
Name: mosamatic-cli
Version: 1.6.2
Summary: A CLI tool for body composition analysis from DICOM CT scans (Windows version)
License: MIT
Author: Ralph Brecheisen
Author-email: ralph.brecheisen@gmail.com
Requires-Python: >=3.11,<3.12
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Requires-Dist: click (<8.1.8)
Requires-Dist: nibabel (>=5.3.2,<6.0.0)
Requires-Dist: numpy (>=1.26.4,<2.0.0)
Requires-Dist: openpyxl (>=3.1.5,<4.0.0)
Requires-Dist: pandas (>=2.3.2,<3.0.0)
Requires-Dist: pendulum (>=3.1.0,<4.0.0)
Requires-Dist: pillow (>=11.3.0,<12.0.0)
Requires-Dist: pydicom (>=3.0.1,<4.0.0)
Requires-Dist: python-gdcm (>=3.0.26,<4.0.0)
Requires-Dist: scipy (>=1.16.1,<2.0.0)
Requires-Dist: tensorboard (==2.15.2)
Requires-Dist: tensorboard-data-server (==0.7.2)
Requires-Dist: torch (>=2.8.0,<3.0.0)
Requires-Dist: torchvision (>=0.23.0,<0.24.0)
Requires-Dist: totalsegmentator (>=2.11.0,<3.0.0)
Description-Content-Type: text/markdown

# mosamatic-cli
Command-line tool for running processing tasks on medical images

# To-do
- NumPy to NIFTI conversion

- Create PNG images from DICOM files

- Slice selection using either Total Segmentator or MOOSE

  What you can do is first create spinal segmentations of a CT scan. Then
  you can use that data to pick a segmentation, e.g., the L3 vertebra and
  select the middle slice. In terms of commands/tasks, this would mean a
  command/task:
  - SegmentAnatomyTS: with option to output a specific segmentation object
  - SegmentAnatomyMOOSE: with option to output a specific segmentation 
    object
  - SelectSlice: Given a CT scan and a segmentation object, select the 
    middle or other slice

- CT/MRI registration using ANTsPy

- Total Segmentator liver segmentation CT + MRI (Dixon H2O)

- IMAT analysis

  Discuss with Leroy how to detect fat inside muscle (either as SAT or 
  black pixels). If pixels inside muscle are black, what does that mean?
  Can I overlay the mask on top of the image and check the pixel gray
  values and then determine (using the Alberta threshold range) whether
  these pixels are fat or not?

- Calculate muscle PDFF maps from Dixon MRI after registering with CT

# Commands
- numpy2nifti
- createpngsfromdicomfiles
- selectvertebralslice --engine=ts,moose --vertebra=l3,t4 --position=all,top,middle,bottom
- registerl3 --modalities=ct/dixon,ct/t1,ct/t2
- segmentanatomy --engine=ts,moose --masks=all,spine,l3,t4,liver,vessels
- segmentmusclefatl3[tensorflow] --imat=true,false
- calculatepdffmap2d --inphase=/path/to/image --outphase=/path/to/image --water=/path/to/image --mask=/path/to/mask (muscle and fat)
- calculatepdffmap3d --inphase=/path/to/series --outphase=/path/to/series --water=/path/to/series --mask=/path/to/mask (liver)

# Next action
- Implement slice selection with Total Segmentator
