name: upload
template: <<TASKS[0].UPLOAD_TEMPLATE_NAME>>
dependencies:
<% for TASK in TASKS %>
- <<TASK.RUN_TASK_NAME>>
<% endfor %>
continueOn:
  failed: true # This task will continue even if any of the dependencies fail
arguments:
  artifacts:
  <% for TASK in TASKS %>
  - name: output-files-<<TASK.RUN_TASK_CUSTOM_ID>>
    from: '{{tasks.<<TASK.RUN_TASK_NAME>>.outputs.artifacts.output-files}}'
  <% endfor %>
  parameters:
  <% for TASK in TASKS %>
  - name: pod-name-<<TASK.RUN_TASK_CUSTOM_ID>>
    value: '{{tasks.<<TASK.RUN_TASK_NAME>>.outputs.parameters.pod-name}}'
  <% endfor %>
