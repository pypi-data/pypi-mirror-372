[tool.semantic_release.branches.main]
match = "(main|master)"
prerelease_token = "rc"
prerelease = false

[semantic_release.branches.main]
match = "(main|master)"
prerelease_token = "rc"
prerelease = false

[tool.semantic_release]
commit_message="v{version}"
branch="master"
upload_to_pypi = false
upload_to_repository = true
tag_commit = "true"
changelog_file="CHANGELOG.md"
version_variables = ["src/back_chat/configuration.py:__version__"]


[tool.semantic_release.publish]
dist_glob_patterns = ["dist/*"]
upload="twine upload dist/*"
upload_to_vcs_release = false
upload_to_pypi = false
build_command = "python setup.py sdist; python setup.py bdist_wheel"

[tool.flake8]
max-line-length = 88
ignore = ["E203", "W503"]
exclude = [".venv", "./docs"]

[tool.pytest.ini_options]
addopts = "--maxfail=2 --disable-warnings"
testpaths = ["test"]